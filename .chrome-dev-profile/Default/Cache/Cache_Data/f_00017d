/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */
function createColumnHelper() {
  return {
    accessor: (accessor, column) => {
      return typeof accessor === "function" ? {
        ...column,
        accessorFn: accessor
      } : {
        ...column,
        accessorKey: accessor
      };
    },
    display: (column) => column,
    group: (column) => column
  };
}
function functionalUpdate(updater, input) {
  return typeof updater === "function" ? updater(input) : updater;
}
function noop() {
}
function makeStateUpdater(key, instance) {
  return (updater) => {
    instance.setState((old) => {
      return {
        ...old,
        [key]: functionalUpdate(updater, old[key])
      };
    });
  };
}
function isFunction(d) {
  return d instanceof Function;
}
function isNumberArray(d) {
  return Array.isArray(d) && d.every((val) => typeof val === "number");
}
function flattenBy(arr, getChildren) {
  const flat = [];
  const recurse = (subArr) => {
    subArr.forEach((item) => {
      flat.push(item);
      const children = getChildren(item);
      if (children != null && children.length) {
        recurse(children);
      }
    });
  };
  recurse(arr);
  return flat;
}
function memo(getDeps, fn, opts) {
  let deps = [];
  let result;
  return (depArgs) => {
    let depTime;
    if (opts.key && opts.debug) depTime = Date.now();
    const newDeps = getDeps(depArgs);
    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);
    if (!depsChanged) {
      return result;
    }
    deps = newDeps;
    let resultTime;
    if (opts.key && opts.debug) resultTime = Date.now();
    result = fn(...newDeps);
    opts == null || opts.onChange == null || opts.onChange(result);
    if (opts.key && opts.debug) {
      if (opts != null && opts.debug()) {
        const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;
        const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;
        const resultFpsPercentage = resultEndTime / 16;
        const pad = (str, num) => {
          str = String(str);
          while (str.length < num) {
            str = " " + str;
          }
          return str;
        };
        console.info(`%c⏱ ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`, `
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120))}deg 100% 31%);`, opts == null ? void 0 : opts.key);
      }
    }
    return result;
  };
}
function getMemoOptions(tableOptions, debugLevel, key, onChange) {
  return {
    debug: () => {
      var _tableOptions$debugAl;
      return (_tableOptions$debugAl = tableOptions == null ? void 0 : tableOptions.debugAll) != null ? _tableOptions$debugAl : tableOptions[debugLevel];
    },
    key,
    onChange
  };
}
function createCell(table, row, column, columnId) {
  const getRenderValue = () => {
    var _cell$getValue;
    return (_cell$getValue = cell.getValue()) != null ? _cell$getValue : table.options.renderFallbackValue;
  };
  const cell = {
    id: `${row.id}_${column.id}`,
    row,
    column,
    getValue: () => row.getValue(columnId),
    renderValue: getRenderValue,
    getContext: memo(() => [table, column, row, cell], (table2, column2, row2, cell2) => ({
      table: table2,
      column: column2,
      row: row2,
      cell: cell2,
      getValue: cell2.getValue,
      renderValue: cell2.renderValue
    }), getMemoOptions(table.options, "debugCells", "cell.getContext"))
  };
  table._features.forEach((feature) => {
    feature.createCell == null || feature.createCell(cell, column, row, table);
  }, {});
  return cell;
}
function createColumn(table, columnDef, depth, parent) {
  var _ref, _resolvedColumnDef$id;
  const defaultColumn = table._getDefaultColumnDef();
  const resolvedColumnDef = {
    ...defaultColumn,
    ...columnDef
  };
  const accessorKey = resolvedColumnDef.accessorKey;
  let id = (_ref = (_resolvedColumnDef$id = resolvedColumnDef.id) != null ? _resolvedColumnDef$id : accessorKey ? typeof String.prototype.replaceAll === "function" ? accessorKey.replaceAll(".", "_") : accessorKey.replace(/\./g, "_") : void 0) != null ? _ref : typeof resolvedColumnDef.header === "string" ? resolvedColumnDef.header : void 0;
  let accessorFn;
  if (resolvedColumnDef.accessorFn) {
    accessorFn = resolvedColumnDef.accessorFn;
  } else if (accessorKey) {
    if (accessorKey.includes(".")) {
      accessorFn = (originalRow) => {
        let result = originalRow;
        for (const key of accessorKey.split(".")) {
          var _result;
          result = (_result = result) == null ? void 0 : _result[key];
          if (result === void 0) {
            console.warn(`"${key}" in deeply nested key "${accessorKey}" returned undefined.`);
          }
        }
        return result;
      };
    } else {
      accessorFn = (originalRow) => originalRow[resolvedColumnDef.accessorKey];
    }
  }
  if (!id) {
    if (true) {
      throw new Error(resolvedColumnDef.accessorFn ? `Columns require an id when using an accessorFn` : `Columns require an id when using a non-string header`);
    }
    throw new Error();
  }
  let column = {
    id: `${String(id)}`,
    accessorFn,
    parent,
    depth,
    columnDef: resolvedColumnDef,
    columns: [],
    getFlatColumns: memo(() => [true], () => {
      var _column$columns;
      return [column, ...(_column$columns = column.columns) == null ? void 0 : _column$columns.flatMap((d) => d.getFlatColumns())];
    }, getMemoOptions(table.options, "debugColumns", "column.getFlatColumns")),
    getLeafColumns: memo(() => [table._getOrderColumnsFn()], (orderColumns2) => {
      var _column$columns2;
      if ((_column$columns2 = column.columns) != null && _column$columns2.length) {
        let leafColumns = column.columns.flatMap((column2) => column2.getLeafColumns());
        return orderColumns2(leafColumns);
      }
      return [column];
    }, getMemoOptions(table.options, "debugColumns", "column.getLeafColumns"))
  };
  for (const feature of table._features) {
    feature.createColumn == null || feature.createColumn(column, table);
  }
  return column;
}
const debug = "debugHeaders";
function createHeader(table, column, options) {
  var _options$id;
  const id = (_options$id = options.id) != null ? _options$id : column.id;
  let header = {
    id,
    column,
    index: options.index,
    isPlaceholder: !!options.isPlaceholder,
    placeholderId: options.placeholderId,
    depth: options.depth,
    subHeaders: [],
    colSpan: 0,
    rowSpan: 0,
    headerGroup: null,
    getLeafHeaders: () => {
      const leafHeaders = [];
      const recurseHeader = (h) => {
        if (h.subHeaders && h.subHeaders.length) {
          h.subHeaders.map(recurseHeader);
        }
        leafHeaders.push(h);
      };
      recurseHeader(header);
      return leafHeaders;
    },
    getContext: () => ({
      table,
      header,
      column
    })
  };
  table._features.forEach((feature) => {
    feature.createHeader == null || feature.createHeader(header, table);
  });
  return header;
}
const Headers = {
  createTable: (table) => {
    table.getHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {
      var _left$map$filter, _right$map$filter;
      const leftColumns = (_left$map$filter = left == null ? void 0 : left.map((columnId) => leafColumns.find((d) => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter : [];
      const rightColumns = (_right$map$filter = right == null ? void 0 : right.map((columnId) => leafColumns.find((d) => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter : [];
      const centerColumns = leafColumns.filter((column) => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));
      const headerGroups = buildHeaderGroups(allColumns, [...leftColumns, ...centerColumns, ...rightColumns], table);
      return headerGroups;
    }, getMemoOptions(table.options, debug, "getHeaderGroups"));
    table.getCenterHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {
      leafColumns = leafColumns.filter((column) => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));
      return buildHeaderGroups(allColumns, leafColumns, table, "center");
    }, getMemoOptions(table.options, debug, "getCenterHeaderGroups"));
    table.getLeftHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left], (allColumns, leafColumns, left) => {
      var _left$map$filter2;
      const orderedLeafColumns = (_left$map$filter2 = left == null ? void 0 : left.map((columnId) => leafColumns.find((d) => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter2 : [];
      return buildHeaderGroups(allColumns, orderedLeafColumns, table, "left");
    }, getMemoOptions(table.options, debug, "getLeftHeaderGroups"));
    table.getRightHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.right], (allColumns, leafColumns, right) => {
      var _right$map$filter2;
      const orderedLeafColumns = (_right$map$filter2 = right == null ? void 0 : right.map((columnId) => leafColumns.find((d) => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter2 : [];
      return buildHeaderGroups(allColumns, orderedLeafColumns, table, "right");
    }, getMemoOptions(table.options, debug, "getRightHeaderGroups"));
    table.getFooterGroups = memo(() => [table.getHeaderGroups()], (headerGroups) => {
      return [...headerGroups].reverse();
    }, getMemoOptions(table.options, debug, "getFooterGroups"));
    table.getLeftFooterGroups = memo(() => [table.getLeftHeaderGroups()], (headerGroups) => {
      return [...headerGroups].reverse();
    }, getMemoOptions(table.options, debug, "getLeftFooterGroups"));
    table.getCenterFooterGroups = memo(() => [table.getCenterHeaderGroups()], (headerGroups) => {
      return [...headerGroups].reverse();
    }, getMemoOptions(table.options, debug, "getCenterFooterGroups"));
    table.getRightFooterGroups = memo(() => [table.getRightHeaderGroups()], (headerGroups) => {
      return [...headerGroups].reverse();
    }, getMemoOptions(table.options, debug, "getRightFooterGroups"));
    table.getFlatHeaders = memo(() => [table.getHeaderGroups()], (headerGroups) => {
      return headerGroups.map((headerGroup) => {
        return headerGroup.headers;
      }).flat();
    }, getMemoOptions(table.options, debug, "getFlatHeaders"));
    table.getLeftFlatHeaders = memo(() => [table.getLeftHeaderGroups()], (left) => {
      return left.map((headerGroup) => {
        return headerGroup.headers;
      }).flat();
    }, getMemoOptions(table.options, debug, "getLeftFlatHeaders"));
    table.getCenterFlatHeaders = memo(() => [table.getCenterHeaderGroups()], (left) => {
      return left.map((headerGroup) => {
        return headerGroup.headers;
      }).flat();
    }, getMemoOptions(table.options, debug, "getCenterFlatHeaders"));
    table.getRightFlatHeaders = memo(() => [table.getRightHeaderGroups()], (left) => {
      return left.map((headerGroup) => {
        return headerGroup.headers;
      }).flat();
    }, getMemoOptions(table.options, debug, "getRightFlatHeaders"));
    table.getCenterLeafHeaders = memo(() => [table.getCenterFlatHeaders()], (flatHeaders) => {
      return flatHeaders.filter((header) => {
        var _header$subHeaders;
        return !((_header$subHeaders = header.subHeaders) != null && _header$subHeaders.length);
      });
    }, getMemoOptions(table.options, debug, "getCenterLeafHeaders"));
    table.getLeftLeafHeaders = memo(() => [table.getLeftFlatHeaders()], (flatHeaders) => {
      return flatHeaders.filter((header) => {
        var _header$subHeaders2;
        return !((_header$subHeaders2 = header.subHeaders) != null && _header$subHeaders2.length);
      });
    }, getMemoOptions(table.options, debug, "getLeftLeafHeaders"));
    table.getRightLeafHeaders = memo(() => [table.getRightFlatHeaders()], (flatHeaders) => {
      return flatHeaders.filter((header) => {
        var _header$subHeaders3;
        return !((_header$subHeaders3 = header.subHeaders) != null && _header$subHeaders3.length);
      });
    }, getMemoOptions(table.options, debug, "getRightLeafHeaders"));
    table.getLeafHeaders = memo(() => [table.getLeftHeaderGroups(), table.getCenterHeaderGroups(), table.getRightHeaderGroups()], (left, center, right) => {
      var _left$0$headers, _left$, _center$0$headers, _center$, _right$0$headers, _right$;
      return [...(_left$0$headers = (_left$ = left[0]) == null ? void 0 : _left$.headers) != null ? _left$0$headers : [], ...(_center$0$headers = (_center$ = center[0]) == null ? void 0 : _center$.headers) != null ? _center$0$headers : [], ...(_right$0$headers = (_right$ = right[0]) == null ? void 0 : _right$.headers) != null ? _right$0$headers : []].map((header) => {
        return header.getLeafHeaders();
      }).flat();
    }, getMemoOptions(table.options, debug, "getLeafHeaders"));
  }
};
function buildHeaderGroups(allColumns, columnsToGroup, table, headerFamily) {
  var _headerGroups$0$heade, _headerGroups$;
  let maxDepth = 0;
  const findMaxDepth = function(columns, depth) {
    if (depth === void 0) {
      depth = 1;
    }
    maxDepth = Math.max(maxDepth, depth);
    columns.filter((column) => column.getIsVisible()).forEach((column) => {
      var _column$columns;
      if ((_column$columns = column.columns) != null && _column$columns.length) {
        findMaxDepth(column.columns, depth + 1);
      }
    }, 0);
  };
  findMaxDepth(allColumns);
  let headerGroups = [];
  const createHeaderGroup = (headersToGroup, depth) => {
    const headerGroup = {
      depth,
      id: [headerFamily, `${depth}`].filter(Boolean).join("_"),
      headers: []
    };
    const pendingParentHeaders = [];
    headersToGroup.forEach((headerToGroup) => {
      const latestPendingParentHeader = [...pendingParentHeaders].reverse()[0];
      const isLeafHeader = headerToGroup.column.depth === headerGroup.depth;
      let column;
      let isPlaceholder = false;
      if (isLeafHeader && headerToGroup.column.parent) {
        column = headerToGroup.column.parent;
      } else {
        column = headerToGroup.column;
        isPlaceholder = true;
      }
      if (latestPendingParentHeader && (latestPendingParentHeader == null ? void 0 : latestPendingParentHeader.column) === column) {
        latestPendingParentHeader.subHeaders.push(headerToGroup);
      } else {
        const header = createHeader(table, column, {
          id: [headerFamily, depth, column.id, headerToGroup == null ? void 0 : headerToGroup.id].filter(Boolean).join("_"),
          isPlaceholder,
          placeholderId: isPlaceholder ? `${pendingParentHeaders.filter((d) => d.column === column).length}` : void 0,
          depth,
          index: pendingParentHeaders.length
        });
        header.subHeaders.push(headerToGroup);
        pendingParentHeaders.push(header);
      }
      headerGroup.headers.push(headerToGroup);
      headerToGroup.headerGroup = headerGroup;
    });
    headerGroups.push(headerGroup);
    if (depth > 0) {
      createHeaderGroup(pendingParentHeaders, depth - 1);
    }
  };
  const bottomHeaders = columnsToGroup.map((column, index) => createHeader(table, column, {
    depth: maxDepth,
    index
  }));
  createHeaderGroup(bottomHeaders, maxDepth - 1);
  headerGroups.reverse();
  const recurseHeadersForSpans = (headers) => {
    const filteredHeaders = headers.filter((header) => header.column.getIsVisible());
    return filteredHeaders.map((header) => {
      let colSpan = 0;
      let rowSpan = 0;
      let childRowSpans = [0];
      if (header.subHeaders && header.subHeaders.length) {
        childRowSpans = [];
        recurseHeadersForSpans(header.subHeaders).forEach((_ref) => {
          let {
            colSpan: childColSpan,
            rowSpan: childRowSpan
          } = _ref;
          colSpan += childColSpan;
          childRowSpans.push(childRowSpan);
        });
      } else {
        colSpan = 1;
      }
      const minChildRowSpan = Math.min(...childRowSpans);
      rowSpan = rowSpan + minChildRowSpan;
      header.colSpan = colSpan;
      header.rowSpan = rowSpan;
      return {
        colSpan,
        rowSpan
      };
    });
  };
  recurseHeadersForSpans((_headerGroups$0$heade = (_headerGroups$ = headerGroups[0]) == null ? void 0 : _headerGroups$.headers) != null ? _headerGroups$0$heade : []);
  return headerGroups;
}
const createRow = (table, id, original, rowIndex, depth, subRows, parentId) => {
  let row = {
    id,
    index: rowIndex,
    original,
    depth,
    parentId,
    _valuesCache: {},
    _uniqueValuesCache: {},
    getValue: (columnId) => {
      if (row._valuesCache.hasOwnProperty(columnId)) {
        return row._valuesCache[columnId];
      }
      const column = table.getColumn(columnId);
      if (!(column != null && column.accessorFn)) {
        return void 0;
      }
      row._valuesCache[columnId] = column.accessorFn(row.original, rowIndex);
      return row._valuesCache[columnId];
    },
    getUniqueValues: (columnId) => {
      if (row._uniqueValuesCache.hasOwnProperty(columnId)) {
        return row._uniqueValuesCache[columnId];
      }
      const column = table.getColumn(columnId);
      if (!(column != null && column.accessorFn)) {
        return void 0;
      }
      if (!column.columnDef.getUniqueValues) {
        row._uniqueValuesCache[columnId] = [row.getValue(columnId)];
        return row._uniqueValuesCache[columnId];
      }
      row._uniqueValuesCache[columnId] = column.columnDef.getUniqueValues(row.original, rowIndex);
      return row._uniqueValuesCache[columnId];
    },
    renderValue: (columnId) => {
      var _row$getValue;
      return (_row$getValue = row.getValue(columnId)) != null ? _row$getValue : table.options.renderFallbackValue;
    },
    subRows: subRows != null ? subRows : [],
    getLeafRows: () => flattenBy(row.subRows, (d) => d.subRows),
    getParentRow: () => row.parentId ? table.getRow(row.parentId, true) : void 0,
    getParentRows: () => {
      let parentRows = [];
      let currentRow = row;
      while (true) {
        const parentRow = currentRow.getParentRow();
        if (!parentRow) break;
        parentRows.push(parentRow);
        currentRow = parentRow;
      }
      return parentRows.reverse();
    },
    getAllCells: memo(() => [table.getAllLeafColumns()], (leafColumns) => {
      return leafColumns.map((column) => {
        return createCell(table, row, column, column.id);
      });
    }, getMemoOptions(table.options, "debugRows", "getAllCells")),
    _getAllCellsByColumnId: memo(() => [row.getAllCells()], (allCells) => {
      return allCells.reduce((acc, cell) => {
        acc[cell.column.id] = cell;
        return acc;
      }, {});
    }, getMemoOptions(table.options, "debugRows", "getAllCellsByColumnId"))
  };
  for (let i = 0; i < table._features.length; i++) {
    const feature = table._features[i];
    feature == null || feature.createRow == null || feature.createRow(row, table);
  }
  return row;
};
const ColumnFaceting = {
  createColumn: (column, table) => {
    column._getFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, column.id);
    column.getFacetedRowModel = () => {
      if (!column._getFacetedRowModel) {
        return table.getPreFilteredRowModel();
      }
      return column._getFacetedRowModel();
    };
    column._getFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, column.id);
    column.getFacetedUniqueValues = () => {
      if (!column._getFacetedUniqueValues) {
        return /* @__PURE__ */ new Map();
      }
      return column._getFacetedUniqueValues();
    };
    column._getFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, column.id);
    column.getFacetedMinMaxValues = () => {
      if (!column._getFacetedMinMaxValues) {
        return void 0;
      }
      return column._getFacetedMinMaxValues();
    };
  }
};
const includesString = (row, columnId, filterValue) => {
  var _filterValue$toString, _row$getValue;
  const search = filterValue == null || (_filterValue$toString = filterValue.toString()) == null ? void 0 : _filterValue$toString.toLowerCase();
  return Boolean((_row$getValue = row.getValue(columnId)) == null || (_row$getValue = _row$getValue.toString()) == null || (_row$getValue = _row$getValue.toLowerCase()) == null ? void 0 : _row$getValue.includes(search));
};
includesString.autoRemove = (val) => testFalsey(val);
const includesStringSensitive = (row, columnId, filterValue) => {
  var _row$getValue2;
  return Boolean((_row$getValue2 = row.getValue(columnId)) == null || (_row$getValue2 = _row$getValue2.toString()) == null ? void 0 : _row$getValue2.includes(filterValue));
};
includesStringSensitive.autoRemove = (val) => testFalsey(val);
const equalsString = (row, columnId, filterValue) => {
  var _row$getValue3;
  return ((_row$getValue3 = row.getValue(columnId)) == null || (_row$getValue3 = _row$getValue3.toString()) == null ? void 0 : _row$getValue3.toLowerCase()) === (filterValue == null ? void 0 : filterValue.toLowerCase());
};
equalsString.autoRemove = (val) => testFalsey(val);
const arrIncludes = (row, columnId, filterValue) => {
  var _row$getValue4;
  return (_row$getValue4 = row.getValue(columnId)) == null ? void 0 : _row$getValue4.includes(filterValue);
};
arrIncludes.autoRemove = (val) => testFalsey(val);
const arrIncludesAll = (row, columnId, filterValue) => {
  return !filterValue.some((val) => {
    var _row$getValue5;
    return !((_row$getValue5 = row.getValue(columnId)) != null && _row$getValue5.includes(val));
  });
};
arrIncludesAll.autoRemove = (val) => testFalsey(val) || !(val != null && val.length);
const arrIncludesSome = (row, columnId, filterValue) => {
  return filterValue.some((val) => {
    var _row$getValue6;
    return (_row$getValue6 = row.getValue(columnId)) == null ? void 0 : _row$getValue6.includes(val);
  });
};
arrIncludesSome.autoRemove = (val) => testFalsey(val) || !(val != null && val.length);
const equals = (row, columnId, filterValue) => {
  return row.getValue(columnId) === filterValue;
};
equals.autoRemove = (val) => testFalsey(val);
const weakEquals = (row, columnId, filterValue) => {
  return row.getValue(columnId) == filterValue;
};
weakEquals.autoRemove = (val) => testFalsey(val);
const inNumberRange = (row, columnId, filterValue) => {
  let [min2, max2] = filterValue;
  const rowValue = row.getValue(columnId);
  return rowValue >= min2 && rowValue <= max2;
};
inNumberRange.resolveFilterValue = (val) => {
  let [unsafeMin, unsafeMax] = val;
  let parsedMin = typeof unsafeMin !== "number" ? parseFloat(unsafeMin) : unsafeMin;
  let parsedMax = typeof unsafeMax !== "number" ? parseFloat(unsafeMax) : unsafeMax;
  let min2 = unsafeMin === null || Number.isNaN(parsedMin) ? -Infinity : parsedMin;
  let max2 = unsafeMax === null || Number.isNaN(parsedMax) ? Infinity : parsedMax;
  if (min2 > max2) {
    const temp = min2;
    min2 = max2;
    max2 = temp;
  }
  return [min2, max2];
};
inNumberRange.autoRemove = (val) => testFalsey(val) || testFalsey(val[0]) && testFalsey(val[1]);
const filterFns = {
  includesString,
  includesStringSensitive,
  equalsString,
  arrIncludes,
  arrIncludesAll,
  arrIncludesSome,
  equals,
  weakEquals,
  inNumberRange
};
function testFalsey(val) {
  return val === void 0 || val === null || val === "";
}
const ColumnFiltering = {
  getDefaultColumnDef: () => {
    return {
      filterFn: "auto"
    };
  },
  getInitialState: (state) => {
    return {
      columnFilters: [],
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onColumnFiltersChange: makeStateUpdater("columnFilters", table),
      filterFromLeafRows: false,
      maxLeafRowFilterDepth: 100
    };
  },
  createColumn: (column, table) => {
    column.getAutoFilterFn = () => {
      const firstRow = table.getCoreRowModel().flatRows[0];
      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);
      if (typeof value === "string") {
        return filterFns.includesString;
      }
      if (typeof value === "number") {
        return filterFns.inNumberRange;
      }
      if (typeof value === "boolean") {
        return filterFns.equals;
      }
      if (value !== null && typeof value === "object") {
        return filterFns.equals;
      }
      if (Array.isArray(value)) {
        return filterFns.arrIncludes;
      }
      return filterFns.weakEquals;
    };
    column.getFilterFn = () => {
      var _table$options$filter, _table$options$filter2;
      return isFunction(column.columnDef.filterFn) ? column.columnDef.filterFn : column.columnDef.filterFn === "auto" ? column.getAutoFilterFn() : (
        // @ts-ignore
        (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[column.columnDef.filterFn]) != null ? _table$options$filter : filterFns[column.columnDef.filterFn]
      );
    };
    column.getCanFilter = () => {
      var _column$columnDef$ena, _table$options$enable, _table$options$enable2;
      return ((_column$columnDef$ena = column.columnDef.enableColumnFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnFilters) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && !!column.accessorFn;
    };
    column.getIsFiltered = () => column.getFilterIndex() > -1;
    column.getFilterValue = () => {
      var _table$getState$colum;
      return (_table$getState$colum = table.getState().columnFilters) == null || (_table$getState$colum = _table$getState$colum.find((d) => d.id === column.id)) == null ? void 0 : _table$getState$colum.value;
    };
    column.getFilterIndex = () => {
      var _table$getState$colum2, _table$getState$colum3;
      return (_table$getState$colum2 = (_table$getState$colum3 = table.getState().columnFilters) == null ? void 0 : _table$getState$colum3.findIndex((d) => d.id === column.id)) != null ? _table$getState$colum2 : -1;
    };
    column.setFilterValue = (value) => {
      table.setColumnFilters((old) => {
        const filterFn = column.getFilterFn();
        const previousFilter = old == null ? void 0 : old.find((d) => d.id === column.id);
        const newFilter = functionalUpdate(value, previousFilter ? previousFilter.value : void 0);
        if (shouldAutoRemoveFilter(filterFn, newFilter, column)) {
          var _old$filter;
          return (_old$filter = old == null ? void 0 : old.filter((d) => d.id !== column.id)) != null ? _old$filter : [];
        }
        const newFilterObj = {
          id: column.id,
          value: newFilter
        };
        if (previousFilter) {
          var _old$map;
          return (_old$map = old == null ? void 0 : old.map((d) => {
            if (d.id === column.id) {
              return newFilterObj;
            }
            return d;
          })) != null ? _old$map : [];
        }
        if (old != null && old.length) {
          return [...old, newFilterObj];
        }
        return [newFilterObj];
      });
    };
  },
  createRow: (row, _table) => {
    row.columnFilters = {};
    row.columnFiltersMeta = {};
  },
  createTable: (table) => {
    table.setColumnFilters = (updater) => {
      const leafColumns = table.getAllLeafColumns();
      const updateFn = (old) => {
        var _functionalUpdate;
        return (_functionalUpdate = functionalUpdate(updater, old)) == null ? void 0 : _functionalUpdate.filter((filter) => {
          const column = leafColumns.find((d) => d.id === filter.id);
          if (column) {
            const filterFn = column.getFilterFn();
            if (shouldAutoRemoveFilter(filterFn, filter.value, column)) {
              return false;
            }
          }
          return true;
        });
      };
      table.options.onColumnFiltersChange == null || table.options.onColumnFiltersChange(updateFn);
    };
    table.resetColumnFilters = (defaultState) => {
      var _table$initialState$c, _table$initialState;
      table.setColumnFilters(defaultState ? [] : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnFilters) != null ? _table$initialState$c : []);
    };
    table.getPreFilteredRowModel = () => table.getCoreRowModel();
    table.getFilteredRowModel = () => {
      if (!table._getFilteredRowModel && table.options.getFilteredRowModel) {
        table._getFilteredRowModel = table.options.getFilteredRowModel(table);
      }
      if (table.options.manualFiltering || !table._getFilteredRowModel) {
        return table.getPreFilteredRowModel();
      }
      return table._getFilteredRowModel();
    };
  }
};
function shouldAutoRemoveFilter(filterFn, value, column) {
  return (filterFn && filterFn.autoRemove ? filterFn.autoRemove(value, column) : false) || typeof value === "undefined" || typeof value === "string" && !value;
}
const sum = (columnId, _leafRows, childRows) => {
  return childRows.reduce((sum2, next) => {
    const nextValue = next.getValue(columnId);
    return sum2 + (typeof nextValue === "number" ? nextValue : 0);
  }, 0);
};
const min = (columnId, _leafRows, childRows) => {
  let min2;
  childRows.forEach((row) => {
    const value = row.getValue(columnId);
    if (value != null && (min2 > value || min2 === void 0 && value >= value)) {
      min2 = value;
    }
  });
  return min2;
};
const max = (columnId, _leafRows, childRows) => {
  let max2;
  childRows.forEach((row) => {
    const value = row.getValue(columnId);
    if (value != null && (max2 < value || max2 === void 0 && value >= value)) {
      max2 = value;
    }
  });
  return max2;
};
const extent = (columnId, _leafRows, childRows) => {
  let min2;
  let max2;
  childRows.forEach((row) => {
    const value = row.getValue(columnId);
    if (value != null) {
      if (min2 === void 0) {
        if (value >= value) min2 = max2 = value;
      } else {
        if (min2 > value) min2 = value;
        if (max2 < value) max2 = value;
      }
    }
  });
  return [min2, max2];
};
const mean = (columnId, leafRows) => {
  let count2 = 0;
  let sum2 = 0;
  leafRows.forEach((row) => {
    let value = row.getValue(columnId);
    if (value != null && (value = +value) >= value) {
      ++count2, sum2 += value;
    }
  });
  if (count2) return sum2 / count2;
  return;
};
const median = (columnId, leafRows) => {
  if (!leafRows.length) {
    return;
  }
  const values = leafRows.map((row) => row.getValue(columnId));
  if (!isNumberArray(values)) {
    return;
  }
  if (values.length === 1) {
    return values[0];
  }
  const mid = Math.floor(values.length / 2);
  const nums = values.sort((a, b) => a - b);
  return values.length % 2 !== 0 ? nums[mid] : (nums[mid - 1] + nums[mid]) / 2;
};
const unique = (columnId, leafRows) => {
  return Array.from(new Set(leafRows.map((d) => d.getValue(columnId))).values());
};
const uniqueCount = (columnId, leafRows) => {
  return new Set(leafRows.map((d) => d.getValue(columnId))).size;
};
const count = (_columnId, leafRows) => {
  return leafRows.length;
};
const aggregationFns = {
  sum,
  min,
  max,
  extent,
  mean,
  median,
  unique,
  uniqueCount,
  count
};
const ColumnGrouping = {
  getDefaultColumnDef: () => {
    return {
      aggregatedCell: (props) => {
        var _toString, _props$getValue;
        return (_toString = (_props$getValue = props.getValue()) == null || _props$getValue.toString == null ? void 0 : _props$getValue.toString()) != null ? _toString : null;
      },
      aggregationFn: "auto"
    };
  },
  getInitialState: (state) => {
    return {
      grouping: [],
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onGroupingChange: makeStateUpdater("grouping", table),
      groupedColumnMode: "reorder"
    };
  },
  createColumn: (column, table) => {
    column.toggleGrouping = () => {
      table.setGrouping((old) => {
        if (old != null && old.includes(column.id)) {
          return old.filter((d) => d !== column.id);
        }
        return [...old != null ? old : [], column.id];
      });
    };
    column.getCanGroup = () => {
      var _column$columnDef$ena, _table$options$enable;
      return ((_column$columnDef$ena = column.columnDef.enableGrouping) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGrouping) != null ? _table$options$enable : true) && (!!column.accessorFn || !!column.columnDef.getGroupingValue);
    };
    column.getIsGrouped = () => {
      var _table$getState$group;
      return (_table$getState$group = table.getState().grouping) == null ? void 0 : _table$getState$group.includes(column.id);
    };
    column.getGroupedIndex = () => {
      var _table$getState$group2;
      return (_table$getState$group2 = table.getState().grouping) == null ? void 0 : _table$getState$group2.indexOf(column.id);
    };
    column.getToggleGroupingHandler = () => {
      const canGroup = column.getCanGroup();
      return () => {
        if (!canGroup) return;
        column.toggleGrouping();
      };
    };
    column.getAutoAggregationFn = () => {
      const firstRow = table.getCoreRowModel().flatRows[0];
      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);
      if (typeof value === "number") {
        return aggregationFns.sum;
      }
      if (Object.prototype.toString.call(value) === "[object Date]") {
        return aggregationFns.extent;
      }
    };
    column.getAggregationFn = () => {
      var _table$options$aggreg, _table$options$aggreg2;
      if (!column) {
        throw new Error();
      }
      return isFunction(column.columnDef.aggregationFn) ? column.columnDef.aggregationFn : column.columnDef.aggregationFn === "auto" ? column.getAutoAggregationFn() : (_table$options$aggreg = (_table$options$aggreg2 = table.options.aggregationFns) == null ? void 0 : _table$options$aggreg2[column.columnDef.aggregationFn]) != null ? _table$options$aggreg : aggregationFns[column.columnDef.aggregationFn];
    };
  },
  createTable: (table) => {
    table.setGrouping = (updater) => table.options.onGroupingChange == null ? void 0 : table.options.onGroupingChange(updater);
    table.resetGrouping = (defaultState) => {
      var _table$initialState$g, _table$initialState;
      table.setGrouping(defaultState ? [] : (_table$initialState$g = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.grouping) != null ? _table$initialState$g : []);
    };
    table.getPreGroupedRowModel = () => table.getFilteredRowModel();
    table.getGroupedRowModel = () => {
      if (!table._getGroupedRowModel && table.options.getGroupedRowModel) {
        table._getGroupedRowModel = table.options.getGroupedRowModel(table);
      }
      if (table.options.manualGrouping || !table._getGroupedRowModel) {
        return table.getPreGroupedRowModel();
      }
      return table._getGroupedRowModel();
    };
  },
  createRow: (row, table) => {
    row.getIsGrouped = () => !!row.groupingColumnId;
    row.getGroupingValue = (columnId) => {
      if (row._groupingValuesCache.hasOwnProperty(columnId)) {
        return row._groupingValuesCache[columnId];
      }
      const column = table.getColumn(columnId);
      if (!(column != null && column.columnDef.getGroupingValue)) {
        return row.getValue(columnId);
      }
      row._groupingValuesCache[columnId] = column.columnDef.getGroupingValue(row.original);
      return row._groupingValuesCache[columnId];
    };
    row._groupingValuesCache = {};
  },
  createCell: (cell, column, row, table) => {
    cell.getIsGrouped = () => column.getIsGrouped() && column.id === row.groupingColumnId;
    cell.getIsPlaceholder = () => !cell.getIsGrouped() && column.getIsGrouped();
    cell.getIsAggregated = () => {
      var _row$subRows;
      return !cell.getIsGrouped() && !cell.getIsPlaceholder() && !!((_row$subRows = row.subRows) != null && _row$subRows.length);
    };
  }
};
function orderColumns(leafColumns, grouping, groupedColumnMode) {
  if (!(grouping != null && grouping.length) || !groupedColumnMode) {
    return leafColumns;
  }
  const nonGroupingColumns = leafColumns.filter((col) => !grouping.includes(col.id));
  if (groupedColumnMode === "remove") {
    return nonGroupingColumns;
  }
  const groupingColumns = grouping.map((g) => leafColumns.find((col) => col.id === g)).filter(Boolean);
  return [...groupingColumns, ...nonGroupingColumns];
}
const ColumnOrdering = {
  getInitialState: (state) => {
    return {
      columnOrder: [],
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onColumnOrderChange: makeStateUpdater("columnOrder", table)
    };
  },
  createColumn: (column, table) => {
    column.getIndex = memo((position) => [_getVisibleLeafColumns(table, position)], (columns) => columns.findIndex((d) => d.id === column.id), getMemoOptions(table.options, "debugColumns", "getIndex"));
    column.getIsFirstColumn = (position) => {
      var _columns$;
      const columns = _getVisibleLeafColumns(table, position);
      return ((_columns$ = columns[0]) == null ? void 0 : _columns$.id) === column.id;
    };
    column.getIsLastColumn = (position) => {
      var _columns;
      const columns = _getVisibleLeafColumns(table, position);
      return ((_columns = columns[columns.length - 1]) == null ? void 0 : _columns.id) === column.id;
    };
  },
  createTable: (table) => {
    table.setColumnOrder = (updater) => table.options.onColumnOrderChange == null ? void 0 : table.options.onColumnOrderChange(updater);
    table.resetColumnOrder = (defaultState) => {
      var _table$initialState$c;
      table.setColumnOrder(defaultState ? [] : (_table$initialState$c = table.initialState.columnOrder) != null ? _table$initialState$c : []);
    };
    table._getOrderColumnsFn = memo(() => [table.getState().columnOrder, table.getState().grouping, table.options.groupedColumnMode], (columnOrder, grouping, groupedColumnMode) => (columns) => {
      let orderedColumns = [];
      if (!(columnOrder != null && columnOrder.length)) {
        orderedColumns = columns;
      } else {
        const columnOrderCopy = [...columnOrder];
        const columnsCopy = [...columns];
        while (columnsCopy.length && columnOrderCopy.length) {
          const targetColumnId = columnOrderCopy.shift();
          const foundIndex = columnsCopy.findIndex((d) => d.id === targetColumnId);
          if (foundIndex > -1) {
            orderedColumns.push(columnsCopy.splice(foundIndex, 1)[0]);
          }
        }
        orderedColumns = [...orderedColumns, ...columnsCopy];
      }
      return orderColumns(orderedColumns, grouping, groupedColumnMode);
    }, getMemoOptions(table.options, "debugTable", "_getOrderColumnsFn"));
  }
};
const getDefaultColumnPinningState = () => ({
  left: [],
  right: []
});
const ColumnPinning = {
  getInitialState: (state) => {
    return {
      columnPinning: getDefaultColumnPinningState(),
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onColumnPinningChange: makeStateUpdater("columnPinning", table)
    };
  },
  createColumn: (column, table) => {
    column.pin = (position) => {
      const columnIds = column.getLeafColumns().map((d) => d.id).filter(Boolean);
      table.setColumnPinning((old) => {
        var _old$left3, _old$right3;
        if (position === "right") {
          var _old$left, _old$right;
          return {
            left: ((_old$left = old == null ? void 0 : old.left) != null ? _old$left : []).filter((d) => !(columnIds != null && columnIds.includes(d))),
            right: [...((_old$right = old == null ? void 0 : old.right) != null ? _old$right : []).filter((d) => !(columnIds != null && columnIds.includes(d))), ...columnIds]
          };
        }
        if (position === "left") {
          var _old$left2, _old$right2;
          return {
            left: [...((_old$left2 = old == null ? void 0 : old.left) != null ? _old$left2 : []).filter((d) => !(columnIds != null && columnIds.includes(d))), ...columnIds],
            right: ((_old$right2 = old == null ? void 0 : old.right) != null ? _old$right2 : []).filter((d) => !(columnIds != null && columnIds.includes(d)))
          };
        }
        return {
          left: ((_old$left3 = old == null ? void 0 : old.left) != null ? _old$left3 : []).filter((d) => !(columnIds != null && columnIds.includes(d))),
          right: ((_old$right3 = old == null ? void 0 : old.right) != null ? _old$right3 : []).filter((d) => !(columnIds != null && columnIds.includes(d)))
        };
      });
    };
    column.getCanPin = () => {
      const leafColumns = column.getLeafColumns();
      return leafColumns.some((d) => {
        var _d$columnDef$enablePi, _ref, _table$options$enable;
        return ((_d$columnDef$enablePi = d.columnDef.enablePinning) != null ? _d$columnDef$enablePi : true) && ((_ref = (_table$options$enable = table.options.enableColumnPinning) != null ? _table$options$enable : table.options.enablePinning) != null ? _ref : true);
      });
    };
    column.getIsPinned = () => {
      const leafColumnIds = column.getLeafColumns().map((d) => d.id);
      const {
        left,
        right
      } = table.getState().columnPinning;
      const isLeft = leafColumnIds.some((d) => left == null ? void 0 : left.includes(d));
      const isRight = leafColumnIds.some((d) => right == null ? void 0 : right.includes(d));
      return isLeft ? "left" : isRight ? "right" : false;
    };
    column.getPinnedIndex = () => {
      var _table$getState$colum, _table$getState$colum2;
      const position = column.getIsPinned();
      return position ? (_table$getState$colum = (_table$getState$colum2 = table.getState().columnPinning) == null || (_table$getState$colum2 = _table$getState$colum2[position]) == null ? void 0 : _table$getState$colum2.indexOf(column.id)) != null ? _table$getState$colum : -1 : 0;
    };
  },
  createRow: (row, table) => {
    row.getCenterVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allCells, left, right) => {
      const leftAndRight = [...left != null ? left : [], ...right != null ? right : []];
      return allCells.filter((d) => !leftAndRight.includes(d.column.id));
    }, getMemoOptions(table.options, "debugRows", "getCenterVisibleCells"));
    row.getLeftVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left], (allCells, left) => {
      const cells = (left != null ? left : []).map((columnId) => allCells.find((cell) => cell.column.id === columnId)).filter(Boolean).map((d) => ({
        ...d,
        position: "left"
      }));
      return cells;
    }, getMemoOptions(table.options, "debugRows", "getLeftVisibleCells"));
    row.getRightVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.right], (allCells, right) => {
      const cells = (right != null ? right : []).map((columnId) => allCells.find((cell) => cell.column.id === columnId)).filter(Boolean).map((d) => ({
        ...d,
        position: "right"
      }));
      return cells;
    }, getMemoOptions(table.options, "debugRows", "getRightVisibleCells"));
  },
  createTable: (table) => {
    table.setColumnPinning = (updater) => table.options.onColumnPinningChange == null ? void 0 : table.options.onColumnPinningChange(updater);
    table.resetColumnPinning = (defaultState) => {
      var _table$initialState$c, _table$initialState;
      return table.setColumnPinning(defaultState ? getDefaultColumnPinningState() : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnPinning) != null ? _table$initialState$c : getDefaultColumnPinningState());
    };
    table.getIsSomeColumnsPinned = (position) => {
      var _pinningState$positio;
      const pinningState = table.getState().columnPinning;
      if (!position) {
        var _pinningState$left, _pinningState$right;
        return Boolean(((_pinningState$left = pinningState.left) == null ? void 0 : _pinningState$left.length) || ((_pinningState$right = pinningState.right) == null ? void 0 : _pinningState$right.length));
      }
      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);
    };
    table.getLeftLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left], (allColumns, left) => {
      return (left != null ? left : []).map((columnId) => allColumns.find((column) => column.id === columnId)).filter(Boolean);
    }, getMemoOptions(table.options, "debugColumns", "getLeftLeafColumns"));
    table.getRightLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.right], (allColumns, right) => {
      return (right != null ? right : []).map((columnId) => allColumns.find((column) => column.id === columnId)).filter(Boolean);
    }, getMemoOptions(table.options, "debugColumns", "getRightLeafColumns"));
    table.getCenterLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, left, right) => {
      const leftAndRight = [...left != null ? left : [], ...right != null ? right : []];
      return allColumns.filter((d) => !leftAndRight.includes(d.id));
    }, getMemoOptions(table.options, "debugColumns", "getCenterLeafColumns"));
  }
};
function safelyAccessDocument(_document) {
  return _document || (typeof document !== "undefined" ? document : null);
}
const defaultColumnSizing = {
  size: 150,
  minSize: 20,
  maxSize: Number.MAX_SAFE_INTEGER
};
const getDefaultColumnSizingInfoState = () => ({
  startOffset: null,
  startSize: null,
  deltaOffset: null,
  deltaPercentage: null,
  isResizingColumn: false,
  columnSizingStart: []
});
const ColumnSizing = {
  getDefaultColumnDef: () => {
    return defaultColumnSizing;
  },
  getInitialState: (state) => {
    return {
      columnSizing: {},
      columnSizingInfo: getDefaultColumnSizingInfoState(),
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      columnResizeMode: "onEnd",
      columnResizeDirection: "ltr",
      onColumnSizingChange: makeStateUpdater("columnSizing", table),
      onColumnSizingInfoChange: makeStateUpdater("columnSizingInfo", table)
    };
  },
  createColumn: (column, table) => {
    column.getSize = () => {
      var _column$columnDef$min, _ref, _column$columnDef$max;
      const columnSize = table.getState().columnSizing[column.id];
      return Math.min(Math.max((_column$columnDef$min = column.columnDef.minSize) != null ? _column$columnDef$min : defaultColumnSizing.minSize, (_ref = columnSize != null ? columnSize : column.columnDef.size) != null ? _ref : defaultColumnSizing.size), (_column$columnDef$max = column.columnDef.maxSize) != null ? _column$columnDef$max : defaultColumnSizing.maxSize);
    };
    column.getStart = memo((position) => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(0, column.getIndex(position)).reduce((sum2, column2) => sum2 + column2.getSize(), 0), getMemoOptions(table.options, "debugColumns", "getStart"));
    column.getAfter = memo((position) => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(column.getIndex(position) + 1).reduce((sum2, column2) => sum2 + column2.getSize(), 0), getMemoOptions(table.options, "debugColumns", "getAfter"));
    column.resetSize = () => {
      table.setColumnSizing((_ref2) => {
        let {
          [column.id]: _,
          ...rest
        } = _ref2;
        return rest;
      });
    };
    column.getCanResize = () => {
      var _column$columnDef$ena, _table$options$enable;
      return ((_column$columnDef$ena = column.columnDef.enableResizing) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnResizing) != null ? _table$options$enable : true);
    };
    column.getIsResizing = () => {
      return table.getState().columnSizingInfo.isResizingColumn === column.id;
    };
  },
  createHeader: (header, table) => {
    header.getSize = () => {
      let sum2 = 0;
      const recurse = (header2) => {
        if (header2.subHeaders.length) {
          header2.subHeaders.forEach(recurse);
        } else {
          var _header$column$getSiz;
          sum2 += (_header$column$getSiz = header2.column.getSize()) != null ? _header$column$getSiz : 0;
        }
      };
      recurse(header);
      return sum2;
    };
    header.getStart = () => {
      if (header.index > 0) {
        const prevSiblingHeader = header.headerGroup.headers[header.index - 1];
        return prevSiblingHeader.getStart() + prevSiblingHeader.getSize();
      }
      return 0;
    };
    header.getResizeHandler = (_contextDocument) => {
      const column = table.getColumn(header.column.id);
      const canResize = column == null ? void 0 : column.getCanResize();
      return (e) => {
        if (!column || !canResize) {
          return;
        }
        e.persist == null || e.persist();
        if (isTouchStartEvent(e)) {
          if (e.touches && e.touches.length > 1) {
            return;
          }
        }
        const startSize = header.getSize();
        const columnSizingStart = header ? header.getLeafHeaders().map((d) => [d.column.id, d.column.getSize()]) : [[column.id, column.getSize()]];
        const clientX = isTouchStartEvent(e) ? Math.round(e.touches[0].clientX) : e.clientX;
        const newColumnSizing = {};
        const updateOffset = (eventType, clientXPos) => {
          if (typeof clientXPos !== "number") {
            return;
          }
          table.setColumnSizingInfo((old) => {
            var _old$startOffset, _old$startSize;
            const deltaDirection = table.options.columnResizeDirection === "rtl" ? -1 : 1;
            const deltaOffset = (clientXPos - ((_old$startOffset = old == null ? void 0 : old.startOffset) != null ? _old$startOffset : 0)) * deltaDirection;
            const deltaPercentage = Math.max(deltaOffset / ((_old$startSize = old == null ? void 0 : old.startSize) != null ? _old$startSize : 0), -0.999999);
            old.columnSizingStart.forEach((_ref3) => {
              let [columnId, headerSize] = _ref3;
              newColumnSizing[columnId] = Math.round(Math.max(headerSize + headerSize * deltaPercentage, 0) * 100) / 100;
            });
            return {
              ...old,
              deltaOffset,
              deltaPercentage
            };
          });
          if (table.options.columnResizeMode === "onChange" || eventType === "end") {
            table.setColumnSizing((old) => ({
              ...old,
              ...newColumnSizing
            }));
          }
        };
        const onMove = (clientXPos) => updateOffset("move", clientXPos);
        const onEnd = (clientXPos) => {
          updateOffset("end", clientXPos);
          table.setColumnSizingInfo((old) => ({
            ...old,
            isResizingColumn: false,
            startOffset: null,
            startSize: null,
            deltaOffset: null,
            deltaPercentage: null,
            columnSizingStart: []
          }));
        };
        const contextDocument = safelyAccessDocument(_contextDocument);
        const mouseEvents = {
          moveHandler: (e2) => onMove(e2.clientX),
          upHandler: (e2) => {
            contextDocument == null || contextDocument.removeEventListener("mousemove", mouseEvents.moveHandler);
            contextDocument == null || contextDocument.removeEventListener("mouseup", mouseEvents.upHandler);
            onEnd(e2.clientX);
          }
        };
        const touchEvents = {
          moveHandler: (e2) => {
            if (e2.cancelable) {
              e2.preventDefault();
              e2.stopPropagation();
            }
            onMove(e2.touches[0].clientX);
            return false;
          },
          upHandler: (e2) => {
            var _e$touches$;
            contextDocument == null || contextDocument.removeEventListener("touchmove", touchEvents.moveHandler);
            contextDocument == null || contextDocument.removeEventListener("touchend", touchEvents.upHandler);
            if (e2.cancelable) {
              e2.preventDefault();
              e2.stopPropagation();
            }
            onEnd((_e$touches$ = e2.touches[0]) == null ? void 0 : _e$touches$.clientX);
          }
        };
        const passiveIfSupported = passiveEventSupported() ? {
          passive: false
        } : false;
        if (isTouchStartEvent(e)) {
          contextDocument == null || contextDocument.addEventListener("touchmove", touchEvents.moveHandler, passiveIfSupported);
          contextDocument == null || contextDocument.addEventListener("touchend", touchEvents.upHandler, passiveIfSupported);
        } else {
          contextDocument == null || contextDocument.addEventListener("mousemove", mouseEvents.moveHandler, passiveIfSupported);
          contextDocument == null || contextDocument.addEventListener("mouseup", mouseEvents.upHandler, passiveIfSupported);
        }
        table.setColumnSizingInfo((old) => ({
          ...old,
          startOffset: clientX,
          startSize,
          deltaOffset: 0,
          deltaPercentage: 0,
          columnSizingStart,
          isResizingColumn: column.id
        }));
      };
    };
  },
  createTable: (table) => {
    table.setColumnSizing = (updater) => table.options.onColumnSizingChange == null ? void 0 : table.options.onColumnSizingChange(updater);
    table.setColumnSizingInfo = (updater) => table.options.onColumnSizingInfoChange == null ? void 0 : table.options.onColumnSizingInfoChange(updater);
    table.resetColumnSizing = (defaultState) => {
      var _table$initialState$c;
      table.setColumnSizing(defaultState ? {} : (_table$initialState$c = table.initialState.columnSizing) != null ? _table$initialState$c : {});
    };
    table.resetHeaderSizeInfo = (defaultState) => {
      var _table$initialState$c2;
      table.setColumnSizingInfo(defaultState ? getDefaultColumnSizingInfoState() : (_table$initialState$c2 = table.initialState.columnSizingInfo) != null ? _table$initialState$c2 : getDefaultColumnSizingInfoState());
    };
    table.getTotalSize = () => {
      var _table$getHeaderGroup, _table$getHeaderGroup2;
      return (_table$getHeaderGroup = (_table$getHeaderGroup2 = table.getHeaderGroups()[0]) == null ? void 0 : _table$getHeaderGroup2.headers.reduce((sum2, header) => {
        return sum2 + header.getSize();
      }, 0)) != null ? _table$getHeaderGroup : 0;
    };
    table.getLeftTotalSize = () => {
      var _table$getLeftHeaderG, _table$getLeftHeaderG2;
      return (_table$getLeftHeaderG = (_table$getLeftHeaderG2 = table.getLeftHeaderGroups()[0]) == null ? void 0 : _table$getLeftHeaderG2.headers.reduce((sum2, header) => {
        return sum2 + header.getSize();
      }, 0)) != null ? _table$getLeftHeaderG : 0;
    };
    table.getCenterTotalSize = () => {
      var _table$getCenterHeade, _table$getCenterHeade2;
      return (_table$getCenterHeade = (_table$getCenterHeade2 = table.getCenterHeaderGroups()[0]) == null ? void 0 : _table$getCenterHeade2.headers.reduce((sum2, header) => {
        return sum2 + header.getSize();
      }, 0)) != null ? _table$getCenterHeade : 0;
    };
    table.getRightTotalSize = () => {
      var _table$getRightHeader, _table$getRightHeader2;
      return (_table$getRightHeader = (_table$getRightHeader2 = table.getRightHeaderGroups()[0]) == null ? void 0 : _table$getRightHeader2.headers.reduce((sum2, header) => {
        return sum2 + header.getSize();
      }, 0)) != null ? _table$getRightHeader : 0;
    };
  }
};
let passiveSupported = null;
function passiveEventSupported() {
  if (typeof passiveSupported === "boolean") return passiveSupported;
  let supported = false;
  try {
    const options = {
      get passive() {
        supported = true;
        return false;
      }
    };
    const noop2 = () => {
    };
    window.addEventListener("test", noop2, options);
    window.removeEventListener("test", noop2);
  } catch (err) {
    supported = false;
  }
  passiveSupported = supported;
  return passiveSupported;
}
function isTouchStartEvent(e) {
  return e.type === "touchstart";
}
const ColumnVisibility = {
  getInitialState: (state) => {
    return {
      columnVisibility: {},
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onColumnVisibilityChange: makeStateUpdater("columnVisibility", table)
    };
  },
  createColumn: (column, table) => {
    column.toggleVisibility = (value) => {
      if (column.getCanHide()) {
        table.setColumnVisibility((old) => ({
          ...old,
          [column.id]: value != null ? value : !column.getIsVisible()
        }));
      }
    };
    column.getIsVisible = () => {
      var _ref, _table$getState$colum;
      const childColumns = column.columns;
      return (_ref = childColumns.length ? childColumns.some((c) => c.getIsVisible()) : (_table$getState$colum = table.getState().columnVisibility) == null ? void 0 : _table$getState$colum[column.id]) != null ? _ref : true;
    };
    column.getCanHide = () => {
      var _column$columnDef$ena, _table$options$enable;
      return ((_column$columnDef$ena = column.columnDef.enableHiding) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableHiding) != null ? _table$options$enable : true);
    };
    column.getToggleVisibilityHandler = () => {
      return (e) => {
        column.toggleVisibility == null || column.toggleVisibility(e.target.checked);
      };
    };
  },
  createRow: (row, table) => {
    row._getAllVisibleCells = memo(() => [row.getAllCells(), table.getState().columnVisibility], (cells) => {
      return cells.filter((cell) => cell.column.getIsVisible());
    }, getMemoOptions(table.options, "debugRows", "_getAllVisibleCells"));
    row.getVisibleCells = memo(() => [row.getLeftVisibleCells(), row.getCenterVisibleCells(), row.getRightVisibleCells()], (left, center, right) => [...left, ...center, ...right], getMemoOptions(table.options, "debugRows", "getVisibleCells"));
  },
  createTable: (table) => {
    const makeVisibleColumnsMethod = (key, getColumns) => {
      return memo(() => [getColumns(), getColumns().filter((d) => d.getIsVisible()).map((d) => d.id).join("_")], (columns) => {
        return columns.filter((d) => d.getIsVisible == null ? void 0 : d.getIsVisible());
      }, getMemoOptions(table.options, "debugColumns", key));
    };
    table.getVisibleFlatColumns = makeVisibleColumnsMethod("getVisibleFlatColumns", () => table.getAllFlatColumns());
    table.getVisibleLeafColumns = makeVisibleColumnsMethod("getVisibleLeafColumns", () => table.getAllLeafColumns());
    table.getLeftVisibleLeafColumns = makeVisibleColumnsMethod("getLeftVisibleLeafColumns", () => table.getLeftLeafColumns());
    table.getRightVisibleLeafColumns = makeVisibleColumnsMethod("getRightVisibleLeafColumns", () => table.getRightLeafColumns());
    table.getCenterVisibleLeafColumns = makeVisibleColumnsMethod("getCenterVisibleLeafColumns", () => table.getCenterLeafColumns());
    table.setColumnVisibility = (updater) => table.options.onColumnVisibilityChange == null ? void 0 : table.options.onColumnVisibilityChange(updater);
    table.resetColumnVisibility = (defaultState) => {
      var _table$initialState$c;
      table.setColumnVisibility(defaultState ? {} : (_table$initialState$c = table.initialState.columnVisibility) != null ? _table$initialState$c : {});
    };
    table.toggleAllColumnsVisible = (value) => {
      var _value;
      value = (_value = value) != null ? _value : !table.getIsAllColumnsVisible();
      table.setColumnVisibility(table.getAllLeafColumns().reduce((obj, column) => ({
        ...obj,
        [column.id]: !value ? !(column.getCanHide != null && column.getCanHide()) : value
      }), {}));
    };
    table.getIsAllColumnsVisible = () => !table.getAllLeafColumns().some((column) => !(column.getIsVisible != null && column.getIsVisible()));
    table.getIsSomeColumnsVisible = () => table.getAllLeafColumns().some((column) => column.getIsVisible == null ? void 0 : column.getIsVisible());
    table.getToggleAllColumnsVisibilityHandler = () => {
      return (e) => {
        var _target;
        table.toggleAllColumnsVisible((_target = e.target) == null ? void 0 : _target.checked);
      };
    };
  }
};
function _getVisibleLeafColumns(table, position) {
  return !position ? table.getVisibleLeafColumns() : position === "center" ? table.getCenterVisibleLeafColumns() : position === "left" ? table.getLeftVisibleLeafColumns() : table.getRightVisibleLeafColumns();
}
const GlobalFaceting = {
  createTable: (table) => {
    table._getGlobalFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, "__global__");
    table.getGlobalFacetedRowModel = () => {
      if (table.options.manualFiltering || !table._getGlobalFacetedRowModel) {
        return table.getPreFilteredRowModel();
      }
      return table._getGlobalFacetedRowModel();
    };
    table._getGlobalFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, "__global__");
    table.getGlobalFacetedUniqueValues = () => {
      if (!table._getGlobalFacetedUniqueValues) {
        return /* @__PURE__ */ new Map();
      }
      return table._getGlobalFacetedUniqueValues();
    };
    table._getGlobalFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, "__global__");
    table.getGlobalFacetedMinMaxValues = () => {
      if (!table._getGlobalFacetedMinMaxValues) {
        return;
      }
      return table._getGlobalFacetedMinMaxValues();
    };
  }
};
const GlobalFiltering = {
  getInitialState: (state) => {
    return {
      globalFilter: void 0,
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onGlobalFilterChange: makeStateUpdater("globalFilter", table),
      globalFilterFn: "auto",
      getColumnCanGlobalFilter: (column) => {
        var _table$getCoreRowMode;
        const value = (_table$getCoreRowMode = table.getCoreRowModel().flatRows[0]) == null || (_table$getCoreRowMode = _table$getCoreRowMode._getAllCellsByColumnId()[column.id]) == null ? void 0 : _table$getCoreRowMode.getValue();
        return typeof value === "string" || typeof value === "number";
      }
    };
  },
  createColumn: (column, table) => {
    column.getCanGlobalFilter = () => {
      var _column$columnDef$ena, _table$options$enable, _table$options$enable2, _table$options$getCol;
      return ((_column$columnDef$ena = column.columnDef.enableGlobalFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGlobalFilter) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && ((_table$options$getCol = table.options.getColumnCanGlobalFilter == null ? void 0 : table.options.getColumnCanGlobalFilter(column)) != null ? _table$options$getCol : true) && !!column.accessorFn;
    };
  },
  createTable: (table) => {
    table.getGlobalAutoFilterFn = () => {
      return filterFns.includesString;
    };
    table.getGlobalFilterFn = () => {
      var _table$options$filter, _table$options$filter2;
      const {
        globalFilterFn
      } = table.options;
      return isFunction(globalFilterFn) ? globalFilterFn : globalFilterFn === "auto" ? table.getGlobalAutoFilterFn() : (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[globalFilterFn]) != null ? _table$options$filter : filterFns[globalFilterFn];
    };
    table.setGlobalFilter = (updater) => {
      table.options.onGlobalFilterChange == null || table.options.onGlobalFilterChange(updater);
    };
    table.resetGlobalFilter = (defaultState) => {
      table.setGlobalFilter(defaultState ? void 0 : table.initialState.globalFilter);
    };
  }
};
const RowExpanding = {
  getInitialState: (state) => {
    return {
      expanded: {},
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onExpandedChange: makeStateUpdater("expanded", table),
      paginateExpandedRows: true
    };
  },
  createTable: (table) => {
    let registered = false;
    let queued = false;
    table._autoResetExpanded = () => {
      var _ref, _table$options$autoRe;
      if (!registered) {
        table._queue(() => {
          registered = true;
        });
        return;
      }
      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetExpanded) != null ? _ref : !table.options.manualExpanding) {
        if (queued) return;
        queued = true;
        table._queue(() => {
          table.resetExpanded();
          queued = false;
        });
      }
    };
    table.setExpanded = (updater) => table.options.onExpandedChange == null ? void 0 : table.options.onExpandedChange(updater);
    table.toggleAllRowsExpanded = (expanded) => {
      if (expanded != null ? expanded : !table.getIsAllRowsExpanded()) {
        table.setExpanded(true);
      } else {
        table.setExpanded({});
      }
    };
    table.resetExpanded = (defaultState) => {
      var _table$initialState$e, _table$initialState;
      table.setExpanded(defaultState ? {} : (_table$initialState$e = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.expanded) != null ? _table$initialState$e : {});
    };
    table.getCanSomeRowsExpand = () => {
      return table.getPrePaginationRowModel().flatRows.some((row) => row.getCanExpand());
    };
    table.getToggleAllRowsExpandedHandler = () => {
      return (e) => {
        e.persist == null || e.persist();
        table.toggleAllRowsExpanded();
      };
    };
    table.getIsSomeRowsExpanded = () => {
      const expanded = table.getState().expanded;
      return expanded === true || Object.values(expanded).some(Boolean);
    };
    table.getIsAllRowsExpanded = () => {
      const expanded = table.getState().expanded;
      if (typeof expanded === "boolean") {
        return expanded === true;
      }
      if (!Object.keys(expanded).length) {
        return false;
      }
      if (table.getRowModel().flatRows.some((row) => !row.getIsExpanded())) {
        return false;
      }
      return true;
    };
    table.getExpandedDepth = () => {
      let maxDepth = 0;
      const rowIds = table.getState().expanded === true ? Object.keys(table.getRowModel().rowsById) : Object.keys(table.getState().expanded);
      rowIds.forEach((id) => {
        const splitId = id.split(".");
        maxDepth = Math.max(maxDepth, splitId.length);
      });
      return maxDepth;
    };
    table.getPreExpandedRowModel = () => table.getSortedRowModel();
    table.getExpandedRowModel = () => {
      if (!table._getExpandedRowModel && table.options.getExpandedRowModel) {
        table._getExpandedRowModel = table.options.getExpandedRowModel(table);
      }
      if (table.options.manualExpanding || !table._getExpandedRowModel) {
        return table.getPreExpandedRowModel();
      }
      return table._getExpandedRowModel();
    };
  },
  createRow: (row, table) => {
    row.toggleExpanded = (expanded) => {
      table.setExpanded((old) => {
        var _expanded;
        const exists = old === true ? true : !!(old != null && old[row.id]);
        let oldExpanded = {};
        if (old === true) {
          Object.keys(table.getRowModel().rowsById).forEach((rowId) => {
            oldExpanded[rowId] = true;
          });
        } else {
          oldExpanded = old;
        }
        expanded = (_expanded = expanded) != null ? _expanded : !exists;
        if (!exists && expanded) {
          return {
            ...oldExpanded,
            [row.id]: true
          };
        }
        if (exists && !expanded) {
          const {
            [row.id]: _,
            ...rest
          } = oldExpanded;
          return rest;
        }
        return old;
      });
    };
    row.getIsExpanded = () => {
      var _table$options$getIsR;
      const expanded = table.getState().expanded;
      return !!((_table$options$getIsR = table.options.getIsRowExpanded == null ? void 0 : table.options.getIsRowExpanded(row)) != null ? _table$options$getIsR : expanded === true || (expanded == null ? void 0 : expanded[row.id]));
    };
    row.getCanExpand = () => {
      var _table$options$getRow, _table$options$enable, _row$subRows;
      return (_table$options$getRow = table.options.getRowCanExpand == null ? void 0 : table.options.getRowCanExpand(row)) != null ? _table$options$getRow : ((_table$options$enable = table.options.enableExpanding) != null ? _table$options$enable : true) && !!((_row$subRows = row.subRows) != null && _row$subRows.length);
    };
    row.getIsAllParentsExpanded = () => {
      let isFullyExpanded = true;
      let currentRow = row;
      while (isFullyExpanded && currentRow.parentId) {
        currentRow = table.getRow(currentRow.parentId, true);
        isFullyExpanded = currentRow.getIsExpanded();
      }
      return isFullyExpanded;
    };
    row.getToggleExpandedHandler = () => {
      const canExpand = row.getCanExpand();
      return () => {
        if (!canExpand) return;
        row.toggleExpanded();
      };
    };
  }
};
const defaultPageIndex = 0;
const defaultPageSize = 10;
const getDefaultPaginationState = () => ({
  pageIndex: defaultPageIndex,
  pageSize: defaultPageSize
});
const RowPagination = {
  getInitialState: (state) => {
    return {
      ...state,
      pagination: {
        ...getDefaultPaginationState(),
        ...state == null ? void 0 : state.pagination
      }
    };
  },
  getDefaultOptions: (table) => {
    return {
      onPaginationChange: makeStateUpdater("pagination", table)
    };
  },
  createTable: (table) => {
    let registered = false;
    let queued = false;
    table._autoResetPageIndex = () => {
      var _ref, _table$options$autoRe;
      if (!registered) {
        table._queue(() => {
          registered = true;
        });
        return;
      }
      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetPageIndex) != null ? _ref : !table.options.manualPagination) {
        if (queued) return;
        queued = true;
        table._queue(() => {
          table.resetPageIndex();
          queued = false;
        });
      }
    };
    table.setPagination = (updater) => {
      const safeUpdater = (old) => {
        let newState = functionalUpdate(updater, old);
        return newState;
      };
      return table.options.onPaginationChange == null ? void 0 : table.options.onPaginationChange(safeUpdater);
    };
    table.resetPagination = (defaultState) => {
      var _table$initialState$p;
      table.setPagination(defaultState ? getDefaultPaginationState() : (_table$initialState$p = table.initialState.pagination) != null ? _table$initialState$p : getDefaultPaginationState());
    };
    table.setPageIndex = (updater) => {
      table.setPagination((old) => {
        let pageIndex = functionalUpdate(updater, old.pageIndex);
        const maxPageIndex = typeof table.options.pageCount === "undefined" || table.options.pageCount === -1 ? Number.MAX_SAFE_INTEGER : table.options.pageCount - 1;
        pageIndex = Math.max(0, Math.min(pageIndex, maxPageIndex));
        return {
          ...old,
          pageIndex
        };
      });
    };
    table.resetPageIndex = (defaultState) => {
      var _table$initialState$p2, _table$initialState;
      table.setPageIndex(defaultState ? defaultPageIndex : (_table$initialState$p2 = (_table$initialState = table.initialState) == null || (_table$initialState = _table$initialState.pagination) == null ? void 0 : _table$initialState.pageIndex) != null ? _table$initialState$p2 : defaultPageIndex);
    };
    table.resetPageSize = (defaultState) => {
      var _table$initialState$p3, _table$initialState2;
      table.setPageSize(defaultState ? defaultPageSize : (_table$initialState$p3 = (_table$initialState2 = table.initialState) == null || (_table$initialState2 = _table$initialState2.pagination) == null ? void 0 : _table$initialState2.pageSize) != null ? _table$initialState$p3 : defaultPageSize);
    };
    table.setPageSize = (updater) => {
      table.setPagination((old) => {
        const pageSize = Math.max(1, functionalUpdate(updater, old.pageSize));
        const topRowIndex = old.pageSize * old.pageIndex;
        const pageIndex = Math.floor(topRowIndex / pageSize);
        return {
          ...old,
          pageIndex,
          pageSize
        };
      });
    };
    table.setPageCount = (updater) => table.setPagination((old) => {
      var _table$options$pageCo;
      let newPageCount = functionalUpdate(updater, (_table$options$pageCo = table.options.pageCount) != null ? _table$options$pageCo : -1);
      if (typeof newPageCount === "number") {
        newPageCount = Math.max(-1, newPageCount);
      }
      return {
        ...old,
        pageCount: newPageCount
      };
    });
    table.getPageOptions = memo(() => [table.getPageCount()], (pageCount) => {
      let pageOptions = [];
      if (pageCount && pageCount > 0) {
        pageOptions = [...new Array(pageCount)].fill(null).map((_, i) => i);
      }
      return pageOptions;
    }, getMemoOptions(table.options, "debugTable", "getPageOptions"));
    table.getCanPreviousPage = () => table.getState().pagination.pageIndex > 0;
    table.getCanNextPage = () => {
      const {
        pageIndex
      } = table.getState().pagination;
      const pageCount = table.getPageCount();
      if (pageCount === -1) {
        return true;
      }
      if (pageCount === 0) {
        return false;
      }
      return pageIndex < pageCount - 1;
    };
    table.previousPage = () => {
      return table.setPageIndex((old) => old - 1);
    };
    table.nextPage = () => {
      return table.setPageIndex((old) => {
        return old + 1;
      });
    };
    table.firstPage = () => {
      return table.setPageIndex(0);
    };
    table.lastPage = () => {
      return table.setPageIndex(table.getPageCount() - 1);
    };
    table.getPrePaginationRowModel = () => table.getExpandedRowModel();
    table.getPaginationRowModel = () => {
      if (!table._getPaginationRowModel && table.options.getPaginationRowModel) {
        table._getPaginationRowModel = table.options.getPaginationRowModel(table);
      }
      if (table.options.manualPagination || !table._getPaginationRowModel) {
        return table.getPrePaginationRowModel();
      }
      return table._getPaginationRowModel();
    };
    table.getPageCount = () => {
      var _table$options$pageCo2;
      return (_table$options$pageCo2 = table.options.pageCount) != null ? _table$options$pageCo2 : Math.ceil(table.getRowCount() / table.getState().pagination.pageSize);
    };
    table.getRowCount = () => {
      var _table$options$rowCou;
      return (_table$options$rowCou = table.options.rowCount) != null ? _table$options$rowCou : table.getPrePaginationRowModel().rows.length;
    };
  }
};
const getDefaultRowPinningState = () => ({
  top: [],
  bottom: []
});
const RowPinning = {
  getInitialState: (state) => {
    return {
      rowPinning: getDefaultRowPinningState(),
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onRowPinningChange: makeStateUpdater("rowPinning", table)
    };
  },
  createRow: (row, table) => {
    row.pin = (position, includeLeafRows, includeParentRows) => {
      const leafRowIds = includeLeafRows ? row.getLeafRows().map((_ref) => {
        let {
          id
        } = _ref;
        return id;
      }) : [];
      const parentRowIds = includeParentRows ? row.getParentRows().map((_ref2) => {
        let {
          id
        } = _ref2;
        return id;
      }) : [];
      const rowIds = /* @__PURE__ */ new Set([...parentRowIds, row.id, ...leafRowIds]);
      table.setRowPinning((old) => {
        var _old$top3, _old$bottom3;
        if (position === "bottom") {
          var _old$top, _old$bottom;
          return {
            top: ((_old$top = old == null ? void 0 : old.top) != null ? _old$top : []).filter((d) => !(rowIds != null && rowIds.has(d))),
            bottom: [...((_old$bottom = old == null ? void 0 : old.bottom) != null ? _old$bottom : []).filter((d) => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)]
          };
        }
        if (position === "top") {
          var _old$top2, _old$bottom2;
          return {
            top: [...((_old$top2 = old == null ? void 0 : old.top) != null ? _old$top2 : []).filter((d) => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)],
            bottom: ((_old$bottom2 = old == null ? void 0 : old.bottom) != null ? _old$bottom2 : []).filter((d) => !(rowIds != null && rowIds.has(d)))
          };
        }
        return {
          top: ((_old$top3 = old == null ? void 0 : old.top) != null ? _old$top3 : []).filter((d) => !(rowIds != null && rowIds.has(d))),
          bottom: ((_old$bottom3 = old == null ? void 0 : old.bottom) != null ? _old$bottom3 : []).filter((d) => !(rowIds != null && rowIds.has(d)))
        };
      });
    };
    row.getCanPin = () => {
      var _ref3;
      const {
        enableRowPinning,
        enablePinning
      } = table.options;
      if (typeof enableRowPinning === "function") {
        return enableRowPinning(row);
      }
      return (_ref3 = enableRowPinning != null ? enableRowPinning : enablePinning) != null ? _ref3 : true;
    };
    row.getIsPinned = () => {
      const rowIds = [row.id];
      const {
        top,
        bottom
      } = table.getState().rowPinning;
      const isTop = rowIds.some((d) => top == null ? void 0 : top.includes(d));
      const isBottom = rowIds.some((d) => bottom == null ? void 0 : bottom.includes(d));
      return isTop ? "top" : isBottom ? "bottom" : false;
    };
    row.getPinnedIndex = () => {
      var _ref4, _visiblePinnedRowIds$;
      const position = row.getIsPinned();
      if (!position) return -1;
      const visiblePinnedRowIds = (_ref4 = position === "top" ? table.getTopRows() : table.getBottomRows()) == null ? void 0 : _ref4.map((_ref5) => {
        let {
          id
        } = _ref5;
        return id;
      });
      return (_visiblePinnedRowIds$ = visiblePinnedRowIds == null ? void 0 : visiblePinnedRowIds.indexOf(row.id)) != null ? _visiblePinnedRowIds$ : -1;
    };
  },
  createTable: (table) => {
    table.setRowPinning = (updater) => table.options.onRowPinningChange == null ? void 0 : table.options.onRowPinningChange(updater);
    table.resetRowPinning = (defaultState) => {
      var _table$initialState$r, _table$initialState;
      return table.setRowPinning(defaultState ? getDefaultRowPinningState() : (_table$initialState$r = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.rowPinning) != null ? _table$initialState$r : getDefaultRowPinningState());
    };
    table.getIsSomeRowsPinned = (position) => {
      var _pinningState$positio;
      const pinningState = table.getState().rowPinning;
      if (!position) {
        var _pinningState$top, _pinningState$bottom;
        return Boolean(((_pinningState$top = pinningState.top) == null ? void 0 : _pinningState$top.length) || ((_pinningState$bottom = pinningState.bottom) == null ? void 0 : _pinningState$bottom.length));
      }
      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);
    };
    table._getPinnedRows = (visibleRows, pinnedRowIds, position) => {
      var _table$options$keepPi;
      const rows = ((_table$options$keepPi = table.options.keepPinnedRows) != null ? _table$options$keepPi : true) ? (
        //get all rows that are pinned even if they would not be otherwise visible
        //account for expanded parent rows, but not pagination or filtering
        (pinnedRowIds != null ? pinnedRowIds : []).map((rowId) => {
          const row = table.getRow(rowId, true);
          return row.getIsAllParentsExpanded() ? row : null;
        })
      ) : (
        //else get only visible rows that are pinned
        (pinnedRowIds != null ? pinnedRowIds : []).map((rowId) => visibleRows.find((row) => row.id === rowId))
      );
      return rows.filter(Boolean).map((d) => ({
        ...d,
        position
      }));
    };
    table.getTopRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top], (allRows, topPinnedRowIds) => table._getPinnedRows(allRows, topPinnedRowIds, "top"), getMemoOptions(table.options, "debugRows", "getTopRows"));
    table.getBottomRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.bottom], (allRows, bottomPinnedRowIds) => table._getPinnedRows(allRows, bottomPinnedRowIds, "bottom"), getMemoOptions(table.options, "debugRows", "getBottomRows"));
    table.getCenterRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top, table.getState().rowPinning.bottom], (allRows, top, bottom) => {
      const topAndBottom = /* @__PURE__ */ new Set([...top != null ? top : [], ...bottom != null ? bottom : []]);
      return allRows.filter((d) => !topAndBottom.has(d.id));
    }, getMemoOptions(table.options, "debugRows", "getCenterRows"));
  }
};
const RowSelection = {
  getInitialState: (state) => {
    return {
      rowSelection: {},
      ...state
    };
  },
  getDefaultOptions: (table) => {
    return {
      onRowSelectionChange: makeStateUpdater("rowSelection", table),
      enableRowSelection: true,
      enableMultiRowSelection: true,
      enableSubRowSelection: true
      // enableGroupingRowSelection: false,
      // isAdditiveSelectEvent: (e: unknown) => !!e.metaKey,
      // isInclusiveSelectEvent: (e: unknown) => !!e.shiftKey,
    };
  },
  createTable: (table) => {
    table.setRowSelection = (updater) => table.options.onRowSelectionChange == null ? void 0 : table.options.onRowSelectionChange(updater);
    table.resetRowSelection = (defaultState) => {
      var _table$initialState$r;
      return table.setRowSelection(defaultState ? {} : (_table$initialState$r = table.initialState.rowSelection) != null ? _table$initialState$r : {});
    };
    table.toggleAllRowsSelected = (value) => {
      table.setRowSelection((old) => {
        value = typeof value !== "undefined" ? value : !table.getIsAllRowsSelected();
        const rowSelection = {
          ...old
        };
        const preGroupedFlatRows = table.getPreGroupedRowModel().flatRows;
        if (value) {
          preGroupedFlatRows.forEach((row) => {
            if (!row.getCanSelect()) {
              return;
            }
            rowSelection[row.id] = true;
          });
        } else {
          preGroupedFlatRows.forEach((row) => {
            delete rowSelection[row.id];
          });
        }
        return rowSelection;
      });
    };
    table.toggleAllPageRowsSelected = (value) => table.setRowSelection((old) => {
      const resolvedValue = typeof value !== "undefined" ? value : !table.getIsAllPageRowsSelected();
      const rowSelection = {
        ...old
      };
      table.getRowModel().rows.forEach((row) => {
        mutateRowIsSelected(rowSelection, row.id, resolvedValue, true, table);
      });
      return rowSelection;
    });
    table.getPreSelectedRowModel = () => table.getCoreRowModel();
    table.getSelectedRowModel = memo(() => [table.getState().rowSelection, table.getCoreRowModel()], (rowSelection, rowModel) => {
      if (!Object.keys(rowSelection).length) {
        return {
          rows: [],
          flatRows: [],
          rowsById: {}
        };
      }
      return selectRowsFn(table, rowModel);
    }, getMemoOptions(table.options, "debugTable", "getSelectedRowModel"));
    table.getFilteredSelectedRowModel = memo(() => [table.getState().rowSelection, table.getFilteredRowModel()], (rowSelection, rowModel) => {
      if (!Object.keys(rowSelection).length) {
        return {
          rows: [],
          flatRows: [],
          rowsById: {}
        };
      }
      return selectRowsFn(table, rowModel);
    }, getMemoOptions(table.options, "debugTable", "getFilteredSelectedRowModel"));
    table.getGroupedSelectedRowModel = memo(() => [table.getState().rowSelection, table.getSortedRowModel()], (rowSelection, rowModel) => {
      if (!Object.keys(rowSelection).length) {
        return {
          rows: [],
          flatRows: [],
          rowsById: {}
        };
      }
      return selectRowsFn(table, rowModel);
    }, getMemoOptions(table.options, "debugTable", "getGroupedSelectedRowModel"));
    table.getIsAllRowsSelected = () => {
      const preGroupedFlatRows = table.getFilteredRowModel().flatRows;
      const {
        rowSelection
      } = table.getState();
      let isAllRowsSelected = Boolean(preGroupedFlatRows.length && Object.keys(rowSelection).length);
      if (isAllRowsSelected) {
        if (preGroupedFlatRows.some((row) => row.getCanSelect() && !rowSelection[row.id])) {
          isAllRowsSelected = false;
        }
      }
      return isAllRowsSelected;
    };
    table.getIsAllPageRowsSelected = () => {
      const paginationFlatRows = table.getPaginationRowModel().flatRows.filter((row) => row.getCanSelect());
      const {
        rowSelection
      } = table.getState();
      let isAllPageRowsSelected = !!paginationFlatRows.length;
      if (isAllPageRowsSelected && paginationFlatRows.some((row) => !rowSelection[row.id])) {
        isAllPageRowsSelected = false;
      }
      return isAllPageRowsSelected;
    };
    table.getIsSomeRowsSelected = () => {
      var _table$getState$rowSe;
      const totalSelected = Object.keys((_table$getState$rowSe = table.getState().rowSelection) != null ? _table$getState$rowSe : {}).length;
      return totalSelected > 0 && totalSelected < table.getFilteredRowModel().flatRows.length;
    };
    table.getIsSomePageRowsSelected = () => {
      const paginationFlatRows = table.getPaginationRowModel().flatRows;
      return table.getIsAllPageRowsSelected() ? false : paginationFlatRows.filter((row) => row.getCanSelect()).some((d) => d.getIsSelected() || d.getIsSomeSelected());
    };
    table.getToggleAllRowsSelectedHandler = () => {
      return (e) => {
        table.toggleAllRowsSelected(e.target.checked);
      };
    };
    table.getToggleAllPageRowsSelectedHandler = () => {
      return (e) => {
        table.toggleAllPageRowsSelected(e.target.checked);
      };
    };
  },
  createRow: (row, table) => {
    row.toggleSelected = (value, opts) => {
      const isSelected = row.getIsSelected();
      table.setRowSelection((old) => {
        var _opts$selectChildren;
        value = typeof value !== "undefined" ? value : !isSelected;
        if (row.getCanSelect() && isSelected === value) {
          return old;
        }
        const selectedRowIds = {
          ...old
        };
        mutateRowIsSelected(selectedRowIds, row.id, value, (_opts$selectChildren = opts == null ? void 0 : opts.selectChildren) != null ? _opts$selectChildren : true, table);
        return selectedRowIds;
      });
    };
    row.getIsSelected = () => {
      const {
        rowSelection
      } = table.getState();
      return isRowSelected(row, rowSelection);
    };
    row.getIsSomeSelected = () => {
      const {
        rowSelection
      } = table.getState();
      return isSubRowSelected(row, rowSelection) === "some";
    };
    row.getIsAllSubRowsSelected = () => {
      const {
        rowSelection
      } = table.getState();
      return isSubRowSelected(row, rowSelection) === "all";
    };
    row.getCanSelect = () => {
      var _table$options$enable;
      if (typeof table.options.enableRowSelection === "function") {
        return table.options.enableRowSelection(row);
      }
      return (_table$options$enable = table.options.enableRowSelection) != null ? _table$options$enable : true;
    };
    row.getCanSelectSubRows = () => {
      var _table$options$enable2;
      if (typeof table.options.enableSubRowSelection === "function") {
        return table.options.enableSubRowSelection(row);
      }
      return (_table$options$enable2 = table.options.enableSubRowSelection) != null ? _table$options$enable2 : true;
    };
    row.getCanMultiSelect = () => {
      var _table$options$enable3;
      if (typeof table.options.enableMultiRowSelection === "function") {
        return table.options.enableMultiRowSelection(row);
      }
      return (_table$options$enable3 = table.options.enableMultiRowSelection) != null ? _table$options$enable3 : true;
    };
    row.getToggleSelectedHandler = () => {
      const canSelect = row.getCanSelect();
      return (e) => {
        var _target;
        if (!canSelect) return;
        row.toggleSelected((_target = e.target) == null ? void 0 : _target.checked);
      };
    };
  }
};
const mutateRowIsSelected = (selectedRowIds, id, value, includeChildren, table) => {
  var _row$subRows;
  const row = table.getRow(id, true);
  if (value) {
    if (!row.getCanMultiSelect()) {
      Object.keys(selectedRowIds).forEach((key) => delete selectedRowIds[key]);
    }
    if (row.getCanSelect()) {
      selectedRowIds[id] = true;
    }
  } else {
    delete selectedRowIds[id];
  }
  if (includeChildren && (_row$subRows = row.subRows) != null && _row$subRows.length && row.getCanSelectSubRows()) {
    row.subRows.forEach((row2) => mutateRowIsSelected(selectedRowIds, row2.id, value, includeChildren, table));
  }
};
function selectRowsFn(table, rowModel) {
  const rowSelection = table.getState().rowSelection;
  const newSelectedFlatRows = [];
  const newSelectedRowsById = {};
  const recurseRows = function(rows, depth) {
    return rows.map((row) => {
      var _row$subRows2;
      const isSelected = isRowSelected(row, rowSelection);
      if (isSelected) {
        newSelectedFlatRows.push(row);
        newSelectedRowsById[row.id] = row;
      }
      if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length) {
        row = {
          ...row,
          subRows: recurseRows(row.subRows)
        };
      }
      if (isSelected) {
        return row;
      }
    }).filter(Boolean);
  };
  return {
    rows: recurseRows(rowModel.rows),
    flatRows: newSelectedFlatRows,
    rowsById: newSelectedRowsById
  };
}
function isRowSelected(row, selection) {
  var _selection$row$id;
  return (_selection$row$id = selection[row.id]) != null ? _selection$row$id : false;
}
function isSubRowSelected(row, selection, table) {
  var _row$subRows3;
  if (!((_row$subRows3 = row.subRows) != null && _row$subRows3.length)) return false;
  let allChildrenSelected = true;
  let someSelected = false;
  row.subRows.forEach((subRow) => {
    if (someSelected && !allChildrenSelected) {
      return;
    }
    if (subRow.getCanSelect()) {
      if (isRowSelected(subRow, selection)) {
        someSelected = true;
      } else {
        allChildrenSelected = false;
      }
    }
    if (subRow.subRows && subRow.subRows.length) {
      const subRowChildrenSelected = isSubRowSelected(subRow, selection);
      if (subRowChildrenSelected === "all") {
        someSelected = true;
      } else if (subRowChildrenSelected === "some") {
        someSelected = true;
        allChildrenSelected = false;
      } else {
        allChildrenSelected = false;
      }
    }
  });
  return allChildrenSelected ? "all" : someSelected ? "some" : false;
}
const reSplitAlphaNumeric = /([0-9]+)/gm;
const alphanumeric = (rowA, rowB, columnId) => {
  return compareAlphanumeric(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());
};
const alphanumericCaseSensitive = (rowA, rowB, columnId) => {
  return compareAlphanumeric(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));
};
const text = (rowA, rowB, columnId) => {
  return compareBasic(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());
};
const textCaseSensitive = (rowA, rowB, columnId) => {
  return compareBasic(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));
};
const datetime = (rowA, rowB, columnId) => {
  const a = rowA.getValue(columnId);
  const b = rowB.getValue(columnId);
  return a > b ? 1 : a < b ? -1 : 0;
};
const basic = (rowA, rowB, columnId) => {
  return compareBasic(rowA.getValue(columnId), rowB.getValue(columnId));
};
function compareBasic(a, b) {
  return a === b ? 0 : a > b ? 1 : -1;
}
function toString(a) {
  if (typeof a === "number") {
    if (isNaN(a) || a === Infinity || a === -Infinity) {
      return "";
    }
    return String(a);
  }
  if (typeof a === "string") {
    return a;
  }
  return "";
}
function compareAlphanumeric(aStr, bStr) {
  const a = aStr.split(reSplitAlphaNumeric).filter(Boolean);
  const b = bStr.split(reSplitAlphaNumeric).filter(Boolean);
  while (a.length && b.length) {
    const aa = a.shift();
    const bb = b.shift();
    const an = parseInt(aa, 10);
    const bn = parseInt(bb, 10);
    const combo = [an, bn].sort();
    if (isNaN(combo[0])) {
      if (aa > bb) {
        return 1;
      }
      if (bb > aa) {
        return -1;
      }
      continue;
    }
    if (isNaN(combo[1])) {
      return isNaN(an) ? -1 : 1;
    }
    if (an > bn) {
      return 1;
    }
    if (bn > an) {
      return -1;
    }
  }
  return a.length - b.length;
}
const sortingFns = {
  alphanumeric,
  alphanumericCaseSensitive,
  text,
  textCaseSensitive,
  datetime,
  basic
};
const RowSorting = {
  getInitialState: (state) => {
    return {
      sorting: [],
      ...state
    };
  },
  getDefaultColumnDef: () => {
    return {
      sortingFn: "auto",
      sortUndefined: 1
    };
  },
  getDefaultOptions: (table) => {
    return {
      onSortingChange: makeStateUpdater("sorting", table),
      isMultiSortEvent: (e) => {
        return e.shiftKey;
      }
    };
  },
  createColumn: (column, table) => {
    column.getAutoSortingFn = () => {
      const firstRows = table.getFilteredRowModel().flatRows.slice(10);
      let isString = false;
      for (const row of firstRows) {
        const value = row == null ? void 0 : row.getValue(column.id);
        if (Object.prototype.toString.call(value) === "[object Date]") {
          return sortingFns.datetime;
        }
        if (typeof value === "string") {
          isString = true;
          if (value.split(reSplitAlphaNumeric).length > 1) {
            return sortingFns.alphanumeric;
          }
        }
      }
      if (isString) {
        return sortingFns.text;
      }
      return sortingFns.basic;
    };
    column.getAutoSortDir = () => {
      const firstRow = table.getFilteredRowModel().flatRows[0];
      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);
      if (typeof value === "string") {
        return "asc";
      }
      return "desc";
    };
    column.getSortingFn = () => {
      var _table$options$sortin, _table$options$sortin2;
      if (!column) {
        throw new Error();
      }
      return isFunction(column.columnDef.sortingFn) ? column.columnDef.sortingFn : column.columnDef.sortingFn === "auto" ? column.getAutoSortingFn() : (_table$options$sortin = (_table$options$sortin2 = table.options.sortingFns) == null ? void 0 : _table$options$sortin2[column.columnDef.sortingFn]) != null ? _table$options$sortin : sortingFns[column.columnDef.sortingFn];
    };
    column.toggleSorting = (desc, multi) => {
      const nextSortingOrder = column.getNextSortingOrder();
      const hasManualValue = typeof desc !== "undefined" && desc !== null;
      table.setSorting((old) => {
        const existingSorting = old == null ? void 0 : old.find((d) => d.id === column.id);
        const existingIndex = old == null ? void 0 : old.findIndex((d) => d.id === column.id);
        let newSorting = [];
        let sortAction;
        let nextDesc = hasManualValue ? desc : nextSortingOrder === "desc";
        if (old != null && old.length && column.getCanMultiSort() && multi) {
          if (existingSorting) {
            sortAction = "toggle";
          } else {
            sortAction = "add";
          }
        } else {
          if (old != null && old.length && existingIndex !== old.length - 1) {
            sortAction = "replace";
          } else if (existingSorting) {
            sortAction = "toggle";
          } else {
            sortAction = "replace";
          }
        }
        if (sortAction === "toggle") {
          if (!hasManualValue) {
            if (!nextSortingOrder) {
              sortAction = "remove";
            }
          }
        }
        if (sortAction === "add") {
          var _table$options$maxMul;
          newSorting = [...old, {
            id: column.id,
            desc: nextDesc
          }];
          newSorting.splice(0, newSorting.length - ((_table$options$maxMul = table.options.maxMultiSortColCount) != null ? _table$options$maxMul : Number.MAX_SAFE_INTEGER));
        } else if (sortAction === "toggle") {
          newSorting = old.map((d) => {
            if (d.id === column.id) {
              return {
                ...d,
                desc: nextDesc
              };
            }
            return d;
          });
        } else if (sortAction === "remove") {
          newSorting = old.filter((d) => d.id !== column.id);
        } else {
          newSorting = [{
            id: column.id,
            desc: nextDesc
          }];
        }
        return newSorting;
      });
    };
    column.getFirstSortDir = () => {
      var _ref, _column$columnDef$sor;
      const sortDescFirst = (_ref = (_column$columnDef$sor = column.columnDef.sortDescFirst) != null ? _column$columnDef$sor : table.options.sortDescFirst) != null ? _ref : column.getAutoSortDir() === "desc";
      return sortDescFirst ? "desc" : "asc";
    };
    column.getNextSortingOrder = (multi) => {
      var _table$options$enable, _table$options$enable2;
      const firstSortDirection = column.getFirstSortDir();
      const isSorted = column.getIsSorted();
      if (!isSorted) {
        return firstSortDirection;
      }
      if (isSorted !== firstSortDirection && ((_table$options$enable = table.options.enableSortingRemoval) != null ? _table$options$enable : true) && // If enableSortRemove, enable in general
      (multi ? (_table$options$enable2 = table.options.enableMultiRemove) != null ? _table$options$enable2 : true : true)) {
        return false;
      }
      return isSorted === "desc" ? "asc" : "desc";
    };
    column.getCanSort = () => {
      var _column$columnDef$ena, _table$options$enable3;
      return ((_column$columnDef$ena = column.columnDef.enableSorting) != null ? _column$columnDef$ena : true) && ((_table$options$enable3 = table.options.enableSorting) != null ? _table$options$enable3 : true) && !!column.accessorFn;
    };
    column.getCanMultiSort = () => {
      var _ref2, _column$columnDef$ena2;
      return (_ref2 = (_column$columnDef$ena2 = column.columnDef.enableMultiSort) != null ? _column$columnDef$ena2 : table.options.enableMultiSort) != null ? _ref2 : !!column.accessorFn;
    };
    column.getIsSorted = () => {
      var _table$getState$sorti;
      const columnSort = (_table$getState$sorti = table.getState().sorting) == null ? void 0 : _table$getState$sorti.find((d) => d.id === column.id);
      return !columnSort ? false : columnSort.desc ? "desc" : "asc";
    };
    column.getSortIndex = () => {
      var _table$getState$sorti2, _table$getState$sorti3;
      return (_table$getState$sorti2 = (_table$getState$sorti3 = table.getState().sorting) == null ? void 0 : _table$getState$sorti3.findIndex((d) => d.id === column.id)) != null ? _table$getState$sorti2 : -1;
    };
    column.clearSorting = () => {
      table.setSorting((old) => old != null && old.length ? old.filter((d) => d.id !== column.id) : []);
    };
    column.getToggleSortingHandler = () => {
      const canSort = column.getCanSort();
      return (e) => {
        if (!canSort) return;
        e.persist == null || e.persist();
        column.toggleSorting == null || column.toggleSorting(void 0, column.getCanMultiSort() ? table.options.isMultiSortEvent == null ? void 0 : table.options.isMultiSortEvent(e) : false);
      };
    };
  },
  createTable: (table) => {
    table.setSorting = (updater) => table.options.onSortingChange == null ? void 0 : table.options.onSortingChange(updater);
    table.resetSorting = (defaultState) => {
      var _table$initialState$s, _table$initialState;
      table.setSorting(defaultState ? [] : (_table$initialState$s = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.sorting) != null ? _table$initialState$s : []);
    };
    table.getPreSortedRowModel = () => table.getGroupedRowModel();
    table.getSortedRowModel = () => {
      if (!table._getSortedRowModel && table.options.getSortedRowModel) {
        table._getSortedRowModel = table.options.getSortedRowModel(table);
      }
      if (table.options.manualSorting || !table._getSortedRowModel) {
        return table.getPreSortedRowModel();
      }
      return table._getSortedRowModel();
    };
  }
};
const builtInFeatures = [
  Headers,
  ColumnVisibility,
  ColumnOrdering,
  ColumnPinning,
  ColumnFaceting,
  ColumnFiltering,
  GlobalFaceting,
  //depends on ColumnFaceting
  GlobalFiltering,
  //depends on ColumnFiltering
  RowSorting,
  ColumnGrouping,
  //depends on RowSorting
  RowExpanding,
  RowPagination,
  RowPinning,
  RowSelection,
  ColumnSizing
];
function createTable(options) {
  var _options$_features, _options$initialState;
  if (options.debugAll || options.debugTable) {
    console.info("Creating Table Instance...");
  }
  const _features = [...builtInFeatures, ...(_options$_features = options._features) != null ? _options$_features : []];
  let table = {
    _features
  };
  const defaultOptions = table._features.reduce((obj, feature) => {
    return Object.assign(obj, feature.getDefaultOptions == null ? void 0 : feature.getDefaultOptions(table));
  }, {});
  const mergeOptions = (options2) => {
    if (table.options.mergeOptions) {
      return table.options.mergeOptions(defaultOptions, options2);
    }
    return {
      ...defaultOptions,
      ...options2
    };
  };
  const coreInitialState = {};
  let initialState = {
    ...coreInitialState,
    ...(_options$initialState = options.initialState) != null ? _options$initialState : {}
  };
  table._features.forEach((feature) => {
    var _feature$getInitialSt;
    initialState = (_feature$getInitialSt = feature.getInitialState == null ? void 0 : feature.getInitialState(initialState)) != null ? _feature$getInitialSt : initialState;
  });
  const queued = [];
  let queuedTimeout = false;
  const coreInstance = {
    _features,
    options: {
      ...defaultOptions,
      ...options
    },
    initialState,
    _queue: (cb) => {
      queued.push(cb);
      if (!queuedTimeout) {
        queuedTimeout = true;
        Promise.resolve().then(() => {
          while (queued.length) {
            queued.shift()();
          }
          queuedTimeout = false;
        }).catch((error) => setTimeout(() => {
          throw error;
        }));
      }
    },
    reset: () => {
      table.setState(table.initialState);
    },
    setOptions: (updater) => {
      const newOptions = functionalUpdate(updater, table.options);
      table.options = mergeOptions(newOptions);
    },
    getState: () => {
      return table.options.state;
    },
    setState: (updater) => {
      table.options.onStateChange == null || table.options.onStateChange(updater);
    },
    _getRowId: (row, index, parent) => {
      var _table$options$getRow;
      return (_table$options$getRow = table.options.getRowId == null ? void 0 : table.options.getRowId(row, index, parent)) != null ? _table$options$getRow : `${parent ? [parent.id, index].join(".") : index}`;
    },
    getCoreRowModel: () => {
      if (!table._getCoreRowModel) {
        table._getCoreRowModel = table.options.getCoreRowModel(table);
      }
      return table._getCoreRowModel();
    },
    // The final calls start at the bottom of the model,
    // expanded rows, which then work their way up
    getRowModel: () => {
      return table.getPaginationRowModel();
    },
    //in next version, we should just pass in the row model as the optional 2nd arg
    getRow: (id, searchAll) => {
      let row = (searchAll ? table.getPrePaginationRowModel() : table.getRowModel()).rowsById[id];
      if (!row) {
        row = table.getCoreRowModel().rowsById[id];
        if (!row) {
          if (true) {
            throw new Error(`getRow could not find row with ID: ${id}`);
          }
          throw new Error();
        }
      }
      return row;
    },
    _getDefaultColumnDef: memo(() => [table.options.defaultColumn], (defaultColumn) => {
      var _defaultColumn;
      defaultColumn = (_defaultColumn = defaultColumn) != null ? _defaultColumn : {};
      return {
        header: (props) => {
          const resolvedColumnDef = props.header.column.columnDef;
          if (resolvedColumnDef.accessorKey) {
            return resolvedColumnDef.accessorKey;
          }
          if (resolvedColumnDef.accessorFn) {
            return resolvedColumnDef.id;
          }
          return null;
        },
        // footer: props => props.header.column.id,
        cell: (props) => {
          var _props$renderValue$to, _props$renderValue;
          return (_props$renderValue$to = (_props$renderValue = props.renderValue()) == null || _props$renderValue.toString == null ? void 0 : _props$renderValue.toString()) != null ? _props$renderValue$to : null;
        },
        ...table._features.reduce((obj, feature) => {
          return Object.assign(obj, feature.getDefaultColumnDef == null ? void 0 : feature.getDefaultColumnDef());
        }, {}),
        ...defaultColumn
      };
    }, getMemoOptions(options, "debugColumns", "_getDefaultColumnDef")),
    _getColumnDefs: () => table.options.columns,
    getAllColumns: memo(() => [table._getColumnDefs()], (columnDefs) => {
      const recurseColumns = function(columnDefs2, parent, depth) {
        if (depth === void 0) {
          depth = 0;
        }
        return columnDefs2.map((columnDef) => {
          const column = createColumn(table, columnDef, depth, parent);
          const groupingColumnDef = columnDef;
          column.columns = groupingColumnDef.columns ? recurseColumns(groupingColumnDef.columns, column, depth + 1) : [];
          return column;
        });
      };
      return recurseColumns(columnDefs);
    }, getMemoOptions(options, "debugColumns", "getAllColumns")),
    getAllFlatColumns: memo(() => [table.getAllColumns()], (allColumns) => {
      return allColumns.flatMap((column) => {
        return column.getFlatColumns();
      });
    }, getMemoOptions(options, "debugColumns", "getAllFlatColumns")),
    _getAllFlatColumnsById: memo(() => [table.getAllFlatColumns()], (flatColumns) => {
      return flatColumns.reduce((acc, column) => {
        acc[column.id] = column;
        return acc;
      }, {});
    }, getMemoOptions(options, "debugColumns", "getAllFlatColumnsById")),
    getAllLeafColumns: memo(() => [table.getAllColumns(), table._getOrderColumnsFn()], (allColumns, orderColumns2) => {
      let leafColumns = allColumns.flatMap((column) => column.getLeafColumns());
      return orderColumns2(leafColumns);
    }, getMemoOptions(options, "debugColumns", "getAllLeafColumns")),
    getColumn: (columnId) => {
      const column = table._getAllFlatColumnsById()[columnId];
      if (!column) {
        console.error(`[Table] Column with id '${columnId}' does not exist.`);
      }
      return column;
    }
  };
  Object.assign(table, coreInstance);
  for (let index = 0; index < table._features.length; index++) {
    const feature = table._features[index];
    feature == null || feature.createTable == null || feature.createTable(table);
  }
  return table;
}
function getCoreRowModel() {
  return (table) => memo(() => [table.options.data], (data) => {
    const rowModel = {
      rows: [],
      flatRows: [],
      rowsById: {}
    };
    const accessRows = function(originalRows, depth, parentRow) {
      if (depth === void 0) {
        depth = 0;
      }
      const rows = [];
      for (let i = 0; i < originalRows.length; i++) {
        const row = createRow(table, table._getRowId(originalRows[i], i, parentRow), originalRows[i], i, depth, void 0, parentRow == null ? void 0 : parentRow.id);
        rowModel.flatRows.push(row);
        rowModel.rowsById[row.id] = row;
        rows.push(row);
        if (table.options.getSubRows) {
          var _row$originalSubRows;
          row.originalSubRows = table.options.getSubRows(originalRows[i], i);
          if ((_row$originalSubRows = row.originalSubRows) != null && _row$originalSubRows.length) {
            row.subRows = accessRows(row.originalSubRows, depth + 1, row);
          }
        }
      }
      return rows;
    };
    rowModel.rows = accessRows(data);
    return rowModel;
  }, getMemoOptions(table.options, "debugTable", "getRowModel", () => table._autoResetPageIndex()));
}
function getExpandedRowModel() {
  return (table) => memo(() => [table.getState().expanded, table.getPreExpandedRowModel(), table.options.paginateExpandedRows], (expanded, rowModel, paginateExpandedRows) => {
    if (!rowModel.rows.length || expanded !== true && !Object.keys(expanded != null ? expanded : {}).length) {
      return rowModel;
    }
    if (!paginateExpandedRows) {
      return rowModel;
    }
    return expandRows(rowModel);
  }, getMemoOptions(table.options, "debugTable", "getExpandedRowModel"));
}
function expandRows(rowModel) {
  const expandedRows = [];
  const handleRow = (row) => {
    var _row$subRows;
    expandedRows.push(row);
    if ((_row$subRows = row.subRows) != null && _row$subRows.length && row.getIsExpanded()) {
      row.subRows.forEach(handleRow);
    }
  };
  rowModel.rows.forEach(handleRow);
  return {
    rows: expandedRows,
    flatRows: rowModel.flatRows,
    rowsById: rowModel.rowsById
  };
}
function getFacetedMinMaxValues() {
  return (table, columnId) => memo(() => {
    var _table$getColumn;
    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];
  }, (facetedRowModel) => {
    if (!facetedRowModel) return void 0;
    const uniqueValues = facetedRowModel.flatRows.flatMap((flatRow) => {
      var _flatRow$getUniqueVal;
      return (_flatRow$getUniqueVal = flatRow.getUniqueValues(columnId)) != null ? _flatRow$getUniqueVal : [];
    }).map(Number).filter((value) => !Number.isNaN(value));
    if (!uniqueValues.length) return;
    let facetedMinValue = uniqueValues[0];
    let facetedMaxValue = uniqueValues[uniqueValues.length - 1];
    for (const value of uniqueValues) {
      if (value < facetedMinValue) facetedMinValue = value;
      else if (value > facetedMaxValue) facetedMaxValue = value;
    }
    return [facetedMinValue, facetedMaxValue];
  }, getMemoOptions(table.options, "debugTable", "getFacetedMinMaxValues"));
}
function filterRows(rows, filterRowImpl, table) {
  if (table.options.filterFromLeafRows) {
    return filterRowModelFromLeafs(rows, filterRowImpl, table);
  }
  return filterRowModelFromRoot(rows, filterRowImpl, table);
}
function filterRowModelFromLeafs(rowsToFilter, filterRow, table) {
  var _table$options$maxLea;
  const newFilteredFlatRows = [];
  const newFilteredRowsById = {};
  const maxDepth = (_table$options$maxLea = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea : 100;
  const recurseFilterRows = function(rowsToFilter2, depth) {
    if (depth === void 0) {
      depth = 0;
    }
    const rows = [];
    for (let i = 0; i < rowsToFilter2.length; i++) {
      var _row$subRows;
      let row = rowsToFilter2[i];
      const newRow = createRow(table, row.id, row.original, row.index, row.depth, void 0, row.parentId);
      newRow.columnFilters = row.columnFilters;
      if ((_row$subRows = row.subRows) != null && _row$subRows.length && depth < maxDepth) {
        newRow.subRows = recurseFilterRows(row.subRows, depth + 1);
        row = newRow;
        if (filterRow(row) && !newRow.subRows.length) {
          rows.push(row);
          newFilteredRowsById[row.id] = row;
          newFilteredFlatRows.push(row);
          continue;
        }
        if (filterRow(row) || newRow.subRows.length) {
          rows.push(row);
          newFilteredRowsById[row.id] = row;
          newFilteredFlatRows.push(row);
          continue;
        }
      } else {
        row = newRow;
        if (filterRow(row)) {
          rows.push(row);
          newFilteredRowsById[row.id] = row;
          newFilteredFlatRows.push(row);
        }
      }
    }
    return rows;
  };
  return {
    rows: recurseFilterRows(rowsToFilter),
    flatRows: newFilteredFlatRows,
    rowsById: newFilteredRowsById
  };
}
function filterRowModelFromRoot(rowsToFilter, filterRow, table) {
  var _table$options$maxLea2;
  const newFilteredFlatRows = [];
  const newFilteredRowsById = {};
  const maxDepth = (_table$options$maxLea2 = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea2 : 100;
  const recurseFilterRows = function(rowsToFilter2, depth) {
    if (depth === void 0) {
      depth = 0;
    }
    const rows = [];
    for (let i = 0; i < rowsToFilter2.length; i++) {
      let row = rowsToFilter2[i];
      const pass = filterRow(row);
      if (pass) {
        var _row$subRows2;
        if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length && depth < maxDepth) {
          const newRow = createRow(table, row.id, row.original, row.index, row.depth, void 0, row.parentId);
          newRow.subRows = recurseFilterRows(row.subRows, depth + 1);
          row = newRow;
        }
        rows.push(row);
        newFilteredFlatRows.push(row);
        newFilteredRowsById[row.id] = row;
      }
    }
    return rows;
  };
  return {
    rows: recurseFilterRows(rowsToFilter),
    flatRows: newFilteredFlatRows,
    rowsById: newFilteredRowsById
  };
}
function getFacetedRowModel() {
  return (table, columnId) => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter, table.getFilteredRowModel()], (preRowModel, columnFilters, globalFilter) => {
    if (!preRowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {
      return preRowModel;
    }
    const filterableIds = [...columnFilters.map((d) => d.id).filter((d) => d !== columnId), globalFilter ? "__global__" : void 0].filter(Boolean);
    const filterRowsImpl = (row) => {
      for (let i = 0; i < filterableIds.length; i++) {
        if (row.columnFilters[filterableIds[i]] === false) {
          return false;
        }
      }
      return true;
    };
    return filterRows(preRowModel.rows, filterRowsImpl, table);
  }, getMemoOptions(table.options, "debugTable", "getFacetedRowModel"));
}
function getFacetedUniqueValues() {
  return (table, columnId) => memo(() => {
    var _table$getColumn;
    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];
  }, (facetedRowModel) => {
    if (!facetedRowModel) return /* @__PURE__ */ new Map();
    let facetedUniqueValues = /* @__PURE__ */ new Map();
    for (let i = 0; i < facetedRowModel.flatRows.length; i++) {
      const values = facetedRowModel.flatRows[i].getUniqueValues(columnId);
      for (let j = 0; j < values.length; j++) {
        const value = values[j];
        if (facetedUniqueValues.has(value)) {
          var _facetedUniqueValues$;
          facetedUniqueValues.set(value, ((_facetedUniqueValues$ = facetedUniqueValues.get(value)) != null ? _facetedUniqueValues$ : 0) + 1);
        } else {
          facetedUniqueValues.set(value, 1);
        }
      }
    }
    return facetedUniqueValues;
  }, getMemoOptions(table.options, "debugTable", `getFacetedUniqueValues_${columnId}`));
}
function getFilteredRowModel() {
  return (table) => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter], (rowModel, columnFilters, globalFilter) => {
    if (!rowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {
      for (let i = 0; i < rowModel.flatRows.length; i++) {
        rowModel.flatRows[i].columnFilters = {};
        rowModel.flatRows[i].columnFiltersMeta = {};
      }
      return rowModel;
    }
    const resolvedColumnFilters = [];
    const resolvedGlobalFilters = [];
    (columnFilters != null ? columnFilters : []).forEach((d) => {
      var _filterFn$resolveFilt;
      const column = table.getColumn(d.id);
      if (!column) {
        return;
      }
      const filterFn = column.getFilterFn();
      if (!filterFn) {
        if (true) {
          console.warn(`Could not find a valid 'column.filterFn' for column with the ID: ${column.id}.`);
        }
        return;
      }
      resolvedColumnFilters.push({
        id: d.id,
        filterFn,
        resolvedValue: (_filterFn$resolveFilt = filterFn.resolveFilterValue == null ? void 0 : filterFn.resolveFilterValue(d.value)) != null ? _filterFn$resolveFilt : d.value
      });
    });
    const filterableIds = (columnFilters != null ? columnFilters : []).map((d) => d.id);
    const globalFilterFn = table.getGlobalFilterFn();
    const globallyFilterableColumns = table.getAllLeafColumns().filter((column) => column.getCanGlobalFilter());
    if (globalFilter && globalFilterFn && globallyFilterableColumns.length) {
      filterableIds.push("__global__");
      globallyFilterableColumns.forEach((column) => {
        var _globalFilterFn$resol;
        resolvedGlobalFilters.push({
          id: column.id,
          filterFn: globalFilterFn,
          resolvedValue: (_globalFilterFn$resol = globalFilterFn.resolveFilterValue == null ? void 0 : globalFilterFn.resolveFilterValue(globalFilter)) != null ? _globalFilterFn$resol : globalFilter
        });
      });
    }
    let currentColumnFilter;
    let currentGlobalFilter;
    for (let j = 0; j < rowModel.flatRows.length; j++) {
      const row = rowModel.flatRows[j];
      row.columnFilters = {};
      if (resolvedColumnFilters.length) {
        for (let i = 0; i < resolvedColumnFilters.length; i++) {
          currentColumnFilter = resolvedColumnFilters[i];
          const id = currentColumnFilter.id;
          row.columnFilters[id] = currentColumnFilter.filterFn(row, id, currentColumnFilter.resolvedValue, (filterMeta) => {
            row.columnFiltersMeta[id] = filterMeta;
          });
        }
      }
      if (resolvedGlobalFilters.length) {
        for (let i = 0; i < resolvedGlobalFilters.length; i++) {
          currentGlobalFilter = resolvedGlobalFilters[i];
          const id = currentGlobalFilter.id;
          if (currentGlobalFilter.filterFn(row, id, currentGlobalFilter.resolvedValue, (filterMeta) => {
            row.columnFiltersMeta[id] = filterMeta;
          })) {
            row.columnFilters.__global__ = true;
            break;
          }
        }
        if (row.columnFilters.__global__ !== true) {
          row.columnFilters.__global__ = false;
        }
      }
    }
    const filterRowsImpl = (row) => {
      for (let i = 0; i < filterableIds.length; i++) {
        if (row.columnFilters[filterableIds[i]] === false) {
          return false;
        }
      }
      return true;
    };
    return filterRows(rowModel.rows, filterRowsImpl, table);
  }, getMemoOptions(table.options, "debugTable", "getFilteredRowModel", () => table._autoResetPageIndex()));
}
function getGroupedRowModel() {
  return (table) => memo(() => [table.getState().grouping, table.getPreGroupedRowModel()], (grouping, rowModel) => {
    if (!rowModel.rows.length || !grouping.length) {
      rowModel.rows.forEach((row) => {
        row.depth = 0;
        row.parentId = void 0;
      });
      return rowModel;
    }
    const existingGrouping = grouping.filter((columnId) => table.getColumn(columnId));
    const groupedFlatRows = [];
    const groupedRowsById = {};
    const groupUpRecursively = function(rows, depth, parentId) {
      if (depth === void 0) {
        depth = 0;
      }
      if (depth >= existingGrouping.length) {
        return rows.map((row) => {
          row.depth = depth;
          groupedFlatRows.push(row);
          groupedRowsById[row.id] = row;
          if (row.subRows) {
            row.subRows = groupUpRecursively(row.subRows, depth + 1, row.id);
          }
          return row;
        });
      }
      const columnId = existingGrouping[depth];
      const rowGroupsMap = groupBy(rows, columnId);
      const aggregatedGroupedRows = Array.from(rowGroupsMap.entries()).map((_ref, index) => {
        let [groupingValue, groupedRows2] = _ref;
        let id = `${columnId}:${groupingValue}`;
        id = parentId ? `${parentId}>${id}` : id;
        const subRows = groupUpRecursively(groupedRows2, depth + 1, id);
        subRows.forEach((subRow) => {
          subRow.parentId = id;
        });
        const leafRows = depth ? flattenBy(groupedRows2, (row2) => row2.subRows) : groupedRows2;
        const row = createRow(table, id, leafRows[0].original, index, depth, void 0, parentId);
        Object.assign(row, {
          groupingColumnId: columnId,
          groupingValue,
          subRows,
          leafRows,
          getValue: (columnId2) => {
            if (existingGrouping.includes(columnId2)) {
              if (row._valuesCache.hasOwnProperty(columnId2)) {
                return row._valuesCache[columnId2];
              }
              if (groupedRows2[0]) {
                var _groupedRows$0$getVal;
                row._valuesCache[columnId2] = (_groupedRows$0$getVal = groupedRows2[0].getValue(columnId2)) != null ? _groupedRows$0$getVal : void 0;
              }
              return row._valuesCache[columnId2];
            }
            if (row._groupingValuesCache.hasOwnProperty(columnId2)) {
              return row._groupingValuesCache[columnId2];
            }
            const column = table.getColumn(columnId2);
            const aggregateFn = column == null ? void 0 : column.getAggregationFn();
            if (aggregateFn) {
              row._groupingValuesCache[columnId2] = aggregateFn(columnId2, leafRows, groupedRows2);
              return row._groupingValuesCache[columnId2];
            }
          }
        });
        subRows.forEach((subRow) => {
          groupedFlatRows.push(subRow);
          groupedRowsById[subRow.id] = subRow;
        });
        return row;
      });
      return aggregatedGroupedRows;
    };
    const groupedRows = groupUpRecursively(rowModel.rows, 0);
    groupedRows.forEach((subRow) => {
      groupedFlatRows.push(subRow);
      groupedRowsById[subRow.id] = subRow;
    });
    return {
      rows: groupedRows,
      flatRows: groupedFlatRows,
      rowsById: groupedRowsById
    };
  }, getMemoOptions(table.options, "debugTable", "getGroupedRowModel", () => {
    table._queue(() => {
      table._autoResetExpanded();
      table._autoResetPageIndex();
    });
  }));
}
function groupBy(rows, columnId) {
  const groupMap = /* @__PURE__ */ new Map();
  return rows.reduce((map, row) => {
    const resKey = `${row.getGroupingValue(columnId)}`;
    const previous = map.get(resKey);
    if (!previous) {
      map.set(resKey, [row]);
    } else {
      previous.push(row);
    }
    return map;
  }, groupMap);
}
function getPaginationRowModel(opts) {
  return (table) => memo(() => [table.getState().pagination, table.getPrePaginationRowModel(), table.options.paginateExpandedRows ? void 0 : table.getState().expanded], (pagination, rowModel) => {
    if (!rowModel.rows.length) {
      return rowModel;
    }
    const {
      pageSize,
      pageIndex
    } = pagination;
    let {
      rows,
      flatRows,
      rowsById
    } = rowModel;
    const pageStart = pageSize * pageIndex;
    const pageEnd = pageStart + pageSize;
    rows = rows.slice(pageStart, pageEnd);
    let paginatedRowModel;
    if (!table.options.paginateExpandedRows) {
      paginatedRowModel = expandRows({
        rows,
        flatRows,
        rowsById
      });
    } else {
      paginatedRowModel = {
        rows,
        flatRows,
        rowsById
      };
    }
    paginatedRowModel.flatRows = [];
    const handleRow = (row) => {
      paginatedRowModel.flatRows.push(row);
      if (row.subRows.length) {
        row.subRows.forEach(handleRow);
      }
    };
    paginatedRowModel.rows.forEach(handleRow);
    return paginatedRowModel;
  }, getMemoOptions(table.options, "debugTable", "getPaginationRowModel"));
}
function getSortedRowModel() {
  return (table) => memo(() => [table.getState().sorting, table.getPreSortedRowModel()], (sorting, rowModel) => {
    if (!rowModel.rows.length || !(sorting != null && sorting.length)) {
      return rowModel;
    }
    const sortingState = table.getState().sorting;
    const sortedFlatRows = [];
    const availableSorting = sortingState.filter((sort) => {
      var _table$getColumn;
      return (_table$getColumn = table.getColumn(sort.id)) == null ? void 0 : _table$getColumn.getCanSort();
    });
    const columnInfoById = {};
    availableSorting.forEach((sortEntry) => {
      const column = table.getColumn(sortEntry.id);
      if (!column) return;
      columnInfoById[sortEntry.id] = {
        sortUndefined: column.columnDef.sortUndefined,
        invertSorting: column.columnDef.invertSorting,
        sortingFn: column.getSortingFn()
      };
    });
    const sortData = (rows) => {
      const sortedData = rows.map((row) => ({
        ...row
      }));
      sortedData.sort((rowA, rowB) => {
        for (let i = 0; i < availableSorting.length; i += 1) {
          var _sortEntry$desc;
          const sortEntry = availableSorting[i];
          const columnInfo = columnInfoById[sortEntry.id];
          const sortUndefined = columnInfo.sortUndefined;
          const isDesc = (_sortEntry$desc = sortEntry == null ? void 0 : sortEntry.desc) != null ? _sortEntry$desc : false;
          let sortInt = 0;
          if (sortUndefined) {
            const aValue = rowA.getValue(sortEntry.id);
            const bValue = rowB.getValue(sortEntry.id);
            const aUndefined = aValue === void 0;
            const bUndefined = bValue === void 0;
            if (aUndefined || bUndefined) {
              if (sortUndefined === "first") return aUndefined ? -1 : 1;
              if (sortUndefined === "last") return aUndefined ? 1 : -1;
              sortInt = aUndefined && bUndefined ? 0 : aUndefined ? sortUndefined : -sortUndefined;
            }
          }
          if (sortInt === 0) {
            sortInt = columnInfo.sortingFn(rowA, rowB, sortEntry.id);
          }
          if (sortInt !== 0) {
            if (isDesc) {
              sortInt *= -1;
            }
            if (columnInfo.invertSorting) {
              sortInt *= -1;
            }
            return sortInt;
          }
        }
        return rowA.index - rowB.index;
      });
      sortedData.forEach((row) => {
        var _row$subRows;
        sortedFlatRows.push(row);
        if ((_row$subRows = row.subRows) != null && _row$subRows.length) {
          row.subRows = sortData(row.subRows);
        }
      });
      return sortedData;
    };
    return {
      rows: sortData(rowModel.rows),
      flatRows: sortedFlatRows,
      rowsById: rowModel.rowsById
    };
  }, getMemoOptions(table.options, "debugTable", "getSortedRowModel", () => table._autoResetPageIndex()));
}
export { ColumnFaceting, ColumnFiltering, ColumnGrouping, ColumnOrdering, ColumnPinning, ColumnSizing, ColumnVisibility, GlobalFaceting, GlobalFiltering, Headers, RowExpanding, RowPagination, RowPinning, RowSelection, RowSorting, _getVisibleLeafColumns, aggregationFns, buildHeaderGroups, createCell, createColumn, createColumnHelper, createRow, createTable, defaultColumnSizing, expandRows, filterFns, flattenBy, functionalUpdate, getCoreRowModel, getExpandedRowModel, getFacetedMinMaxValues, getFacetedRowModel, getFacetedUniqueValues, getFilteredRowModel, getGroupedRowModel, getMemoOptions, getPaginationRowModel, getSortedRowModel, isFunction, isNumberArray, isRowSelected, isSubRowSelected, makeStateUpdater, memo, noop, orderColumns, passiveEventSupported, reSplitAlphaNumeric, selectRowsFn, shouldAutoRemoveFilter, sortingFns };

//# sourceMappingURL=data:application/json;base64,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bVQsZUFBSW5ULElBQUlrSSxZQUFKaUwscUJBQWExVixRQUFRO0FBQ3ZCdUMsY0FBSWtJLFVBQVUrdUIsU0FBU2ozQixJQUFJa0ksT0FBTztBQUFBLFFBQ3BDO0FBQUEsTUFDRixDQUFDO0FBRUQsYUFBT2d2QjtBQUFBQTtBQUdULFdBQU87QUFBQSxNQUNMelIsTUFBTXdSLFNBQVMzTixTQUFTN0QsSUFBSTtBQUFBLE1BQzVCMVksVUFBVTZwQjtBQUFBQSxNQUNWclYsVUFBVStILFNBQVMvSDtBQUFBQTtFQUV2QixHQUNBOWhCLGVBQWVNLE1BQU1PLFNBQVMsY0FBYyxxQkFBcUIsTUFDL0RQLE1BQU1vakIsb0JBQW1CLENBQzNCLENBQ0Y7QUFDSiIsIm5hbWVzIjpbImNyZWF0ZUNvbHVtbkhlbHBlciIsImFjY2Vzc29yIiwiY29sdW1uIiwiYWNjZXNzb3JGbiIsImFjY2Vzc29yS2V5IiwiZGlzcGxheSIsImdyb3VwIiwiZnVuY3Rpb25hbFVwZGF0ZSIsInVwZGF0ZXIiLCJpbnB1dCIsIm5vb3AiLCJtYWtlU3RhdGVVcGRhdGVyIiwia2V5IiwiaW5zdGFuY2UiLCJzZXRTdGF0ZSIsIm9sZCIsImlzRnVuY3Rpb24iLCJkIiwiRnVuY3Rpb24iLCJpc051bWJlckFycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJ2YWwiLCJmbGF0dGVuQnkiLCJhcnIiLCJnZXRDaGlsZHJlbiIsImZsYXQiLCJyZWN1cnNlIiwic3ViQXJyIiwiZm9yRWFjaCIsIml0ZW0iLCJwdXNoIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJtZW1vIiwiZ2V0RGVwcyIsImZuIiwib3B0cyIsImRlcHMiLCJyZXN1bHQiLCJkZXBBcmdzIiwiZGVwVGltZSIsImRlYnVnIiwiRGF0ZSIsIm5vdyIsIm5ld0RlcHMiLCJkZXBzQ2hhbmdlZCIsInNvbWUiLCJkZXAiLCJpbmRleCIsInJlc3VsdFRpbWUiLCJvbkNoYW5nZSIsImRlcEVuZFRpbWUiLCJNYXRoIiwicm91bmQiLCJyZXN1bHRFbmRUaW1lIiwicmVzdWx0RnBzUGVyY2VudGFnZSIsInBhZCIsInN0ciIsIm51bSIsIlN0cmluZyIsImNvbnNvbGUiLCJpbmZvIiwibWF4IiwibWluIiwiZ2V0TWVtb09wdGlvbnMiLCJ0YWJsZU9wdGlvbnMiLCJkZWJ1Z0xldmVsIiwiX3RhYmxlT3B0aW9ucyRkZWJ1Z0FsIiwiZGVidWdBbGwiLCJjcmVhdGVDZWxsIiwidGFibGUiLCJyb3ciLCJjb2x1bW5JZCIsImdldFJlbmRlclZhbHVlIiwiX2NlbGwkZ2V0VmFsdWUiLCJjZWxsIiwiZ2V0VmFsdWUiLCJvcHRpb25zIiwicmVuZGVyRmFsbGJhY2tWYWx1ZSIsImlkIiwicmVuZGVyVmFsdWUiLCJnZXRDb250ZXh0IiwiX2ZlYXR1cmVzIiwiZmVhdHVyZSIsImNyZWF0ZUNvbHVtbiIsImNvbHVtbkRlZiIsImRlcHRoIiwicGFyZW50IiwiX3JlZiIsIl9yZXNvbHZlZENvbHVtbkRlZiRpZCIsImRlZmF1bHRDb2x1bW4iLCJfZ2V0RGVmYXVsdENvbHVtbkRlZiIsInJlc29sdmVkQ29sdW1uRGVmIiwicHJvdG90eXBlIiwicmVwbGFjZUFsbCIsInJlcGxhY2UiLCJ1bmRlZmluZWQiLCJoZWFkZXIiLCJpbmNsdWRlcyIsIm9yaWdpbmFsUm93Iiwic3BsaXQiLCJfcmVzdWx0Iiwid2FybiIsInByb2Nlc3MiLCJFcnJvciIsImNvbHVtbnMiLCJnZXRGbGF0Q29sdW1ucyIsIl9jb2x1bW4kY29sdW1ucyIsImZsYXRNYXAiLCJnZXRMZWFmQ29sdW1ucyIsIl9nZXRPcmRlckNvbHVtbnNGbiIsIm9yZGVyQ29sdW1ucyIsIl9jb2x1bW4kY29sdW1uczIiLCJsZWFmQ29sdW1ucyIsImNyZWF0ZUhlYWRlciIsIl9vcHRpb25zJGlkIiwiaXNQbGFjZWhvbGRlciIsInBsYWNlaG9sZGVySWQiLCJzdWJIZWFkZXJzIiwiY29sU3BhbiIsInJvd1NwYW4iLCJoZWFkZXJHcm91cCIsImdldExlYWZIZWFkZXJzIiwibGVhZkhlYWRlcnMiLCJyZWN1cnNlSGVhZGVyIiwiaCIsIm1hcCIsIkhlYWRlcnMiLCJjcmVhdGVUYWJsZSIsImdldEhlYWRlckdyb3VwcyIsImdldEFsbENvbHVtbnMiLCJnZXRWaXNpYmxlTGVhZkNvbHVtbnMiLCJnZXRTdGF0ZSIsImNvbHVtblBpbm5pbmciLCJsZWZ0IiwicmlnaHQiLCJhbGxDb2x1bW5zIiwiX2xlZnQkbWFwJGZpbHRlciIsIl9yaWdodCRtYXAkZmlsdGVyIiwibGVmdENvbHVtbnMiLCJmaW5kIiwiZmlsdGVyIiwiQm9vbGVhbiIsInJpZ2h0Q29sdW1ucyIsImNlbnRlckNvbHVtbnMiLCJoZWFkZXJHcm91cHMiLCJidWlsZEhlYWRlckdyb3VwcyIsImdldENlbnRlckhlYWRlckdyb3VwcyIsImdldExlZnRIZWFkZXJHcm91cHMiLCJfbGVmdCRtYXAkZmlsdGVyMiIsIm9yZGVyZWRMZWFmQ29sdW1ucyIsImdldFJpZ2h0SGVhZGVyR3JvdXBzIiwiX3JpZ2h0JG1hcCRmaWx0ZXIyIiwiZ2V0Rm9vdGVyR3JvdXBzIiwicmV2ZXJzZSIsImdldExlZnRGb290ZXJHcm91cHMiLCJnZXRDZW50ZXJGb290ZXJHcm91cHMiLCJnZXRSaWdodEZvb3Rlckdyb3VwcyIsImdldEZsYXRIZWFkZXJzIiwiaGVhZGVycyIsImdldExlZnRGbGF0SGVhZGVycyIsImdldENlbnRlckZsYXRIZWFkZXJzIiwiZ2V0UmlnaHRGbGF0SGVhZGVycyIsImdldENlbnRlckxlYWZIZWFkZXJzIiwiZmxhdEhlYWRlcnMiLCJfaGVhZGVyJHN1YkhlYWRlcnMiLCJnZXRMZWZ0TGVhZkhlYWRlcnMiLCJfaGVhZGVyJHN1YkhlYWRlcnMyIiwiZ2V0UmlnaHRMZWFmSGVhZGVycyIsIl9oZWFkZXIkc3ViSGVhZGVyczMiLCJjZW50ZXIiLCJfbGVmdCQwJGhlYWRlcnMiLCJfbGVmdCQiLCJfY2VudGVyJDAkaGVhZGVycyIsIl9jZW50ZXIkIiwiX3JpZ2h0JDAkaGVhZGVycyIsIl9yaWdodCQiLCJjb2x1bW5zVG9Hcm91cCIsImhlYWRlckZhbWlseSIsIl9oZWFkZXJHcm91cHMkMCRoZWFkZSIsIl9oZWFkZXJHcm91cHMkIiwibWF4RGVwdGgiLCJmaW5kTWF4RGVwdGgiLCJnZXRJc1Zpc2libGUiLCJjcmVhdGVIZWFkZXJHcm91cCIsImhlYWRlcnNUb0dyb3VwIiwiam9pbiIsInBlbmRpbmdQYXJlbnRIZWFkZXJzIiwiaGVhZGVyVG9Hcm91cCIsImxhdGVzdFBlbmRpbmdQYXJlbnRIZWFkZXIiLCJpc0xlYWZIZWFkZXIiLCJib3R0b21IZWFkZXJzIiwicmVjdXJzZUhlYWRlcnNGb3JTcGFucyIsImZpbHRlcmVkSGVhZGVycyIsImNoaWxkUm93U3BhbnMiLCJjaGlsZENvbFNwYW4iLCJjaGlsZFJvd1NwYW4iLCJtaW5DaGlsZFJvd1NwYW4iLCJjcmVhdGVSb3ciLCJvcmlnaW5hbCIsInJvd0luZGV4Iiwic3ViUm93cyIsInBhcmVudElkIiwiX3ZhbHVlc0NhY2hlIiwiX3VuaXF1ZVZhbHVlc0NhY2hlIiwiaGFzT3duUHJvcGVydHkiLCJnZXRDb2x1bW4iLCJnZXRVbmlxdWVWYWx1ZXMiLCJfcm93JGdldFZhbHVlIiwiZ2V0TGVhZlJvd3MiLCJnZXRQYXJlbnRSb3ciLCJnZXRSb3ciLCJnZXRQYXJlbnRSb3dzIiwicGFyZW50Um93cyIsImN1cnJlbnRSb3ciLCJwYXJlbnRSb3ciLCJnZXRBbGxDZWxscyIsImdldEFsbExlYWZDb2x1bW5zIiwiX2dldEFsbENlbGxzQnlDb2x1bW5JZCIsImFsbENlbGxzIiwicmVkdWNlIiwiYWNjIiwiaSIsIkNvbHVtbkZhY2V0aW5nIiwiX2dldEZhY2V0ZWRSb3dNb2RlbCIsImdldEZhY2V0ZWRSb3dNb2RlbCIsImdldFByZUZpbHRlcmVkUm93TW9kZWwiLCJfZ2V0RmFjZXRlZFVuaXF1ZVZhbHVlcyIsImdldEZhY2V0ZWRVbmlxdWVWYWx1ZXMiLCJNYXAiLCJfZ2V0RmFjZXRlZE1pbk1heFZhbHVlcyIsImdldEZhY2V0ZWRNaW5NYXhWYWx1ZXMiLCJpbmNsdWRlc1N0cmluZyIsImZpbHRlclZhbHVlIiwiX2ZpbHRlclZhbHVlJHRvU3RyaW5nIiwic2VhcmNoIiwidG9TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImF1dG9SZW1vdmUiLCJ0ZXN0RmFsc2V5IiwiaW5jbHVkZXNTdHJpbmdTZW5zaXRpdmUiLCJfcm93JGdldFZhbHVlMiIsImVxdWFsc1N0cmluZyIsIl9yb3ckZ2V0VmFsdWUzIiwiYXJySW5jbHVkZXMiLCJfcm93JGdldFZhbHVlNCIsImFyckluY2x1ZGVzQWxsIiwiX3JvdyRnZXRWYWx1ZTUiLCJhcnJJbmNsdWRlc1NvbWUiLCJfcm93JGdldFZhbHVlNiIsImVxdWFscyIsIndlYWtFcXVhbHMiLCJpbk51bWJlclJhbmdlIiwicm93VmFsdWUiLCJyZXNvbHZlRmlsdGVyVmFsdWUiLCJ1bnNhZmVNaW4iLCJ1bnNhZmVNYXgiLCJwYXJzZWRNaW4iLCJwYXJzZUZsb2F0IiwicGFyc2VkTWF4IiwiTnVtYmVyIiwiaXNOYU4iLCJJbmZpbml0eSIsInRlbXAiLCJmaWx0ZXJGbnMiLCJDb2x1bW5GaWx0ZXJpbmciLCJnZXREZWZhdWx0Q29sdW1uRGVmIiwiZmlsdGVyRm4iLCJnZXRJbml0aWFsU3RhdGUiLCJzdGF0ZSIsImNvbHVtbkZpbHRlcnMiLCJnZXREZWZhdWx0T3B0aW9ucyIsIm9uQ29sdW1uRmlsdGVyc0NoYW5nZSIsImZpbHRlckZyb21MZWFmUm93cyIsIm1heExlYWZSb3dGaWx0ZXJEZXB0aCIsImdldEF1dG9GaWx0ZXJGbiIsImZpcnN0Um93IiwiZ2V0Q29yZVJvd01vZGVsIiwiZmxhdFJvd3MiLCJ2YWx1ZSIsImdldEZpbHRlckZuIiwiX3RhYmxlJG9wdGlvbnMkZmlsdGVyIiwiX3RhYmxlJG9wdGlvbnMkZmlsdGVyMiIsImdldENhbkZpbHRlciIsIl9jb2x1bW4kY29sdW1uRGVmJGVuYSIsIl90YWJsZSRvcHRpb25zJGVuYWJsZSIsIl90YWJsZSRvcHRpb25zJGVuYWJsZTIiLCJlbmFibGVDb2x1bW5GaWx0ZXIiLCJlbmFibGVDb2x1bW5GaWx0ZXJzIiwiZW5hYmxlRmlsdGVycyIsImdldElzRmlsdGVyZWQiLCJnZXRGaWx0ZXJJbmRleCIsImdldEZpbHRlclZhbHVlIiwiX3RhYmxlJGdldFN0YXRlJGNvbHVtIiwiX3RhYmxlJGdldFN0YXRlJGNvbHVtMiIsIl90YWJsZSRnZXRTdGF0ZSRjb2x1bTMiLCJmaW5kSW5kZXgiLCJzZXRGaWx0ZXJWYWx1ZSIsInNldENvbHVtbkZpbHRlcnMiLCJwcmV2aW91c0ZpbHRlciIsIm5ld0ZpbHRlciIsInNob3VsZEF1dG9SZW1vdmVGaWx0ZXIiLCJfb2xkJGZpbHRlciIsIm5ld0ZpbHRlck9iaiIsIl9vbGQkbWFwIiwiX3RhYmxlIiwiY29sdW1uRmlsdGVyc01ldGEiLCJ1cGRhdGVGbiIsIl9mdW5jdGlvbmFsVXBkYXRlIiwicmVzZXRDb2x1bW5GaWx0ZXJzIiwiZGVmYXVsdFN0YXRlIiwiX3RhYmxlJGluaXRpYWxTdGF0ZSRjIiwiX3RhYmxlJGluaXRpYWxTdGF0ZSIsImluaXRpYWxTdGF0ZSIsImdldEZpbHRlcmVkUm93TW9kZWwiLCJfZ2V0RmlsdGVyZWRSb3dNb2RlbCIsIm1hbnVhbEZpbHRlcmluZyIsInN1bSIsIl9sZWFmUm93cyIsImNoaWxkUm93cyIsIm5leHQiLCJuZXh0VmFsdWUiLCJleHRlbnQiLCJtZWFuIiwibGVhZlJvd3MiLCJjb3VudCIsIm1lZGlhbiIsInZhbHVlcyIsIm1pZCIsImZsb29yIiwibnVtcyIsInNvcnQiLCJhIiwiYiIsInVuaXF1ZSIsImZyb20iLCJTZXQiLCJ1bmlxdWVDb3VudCIsInNpemUiLCJfY29sdW1uSWQiLCJhZ2dyZWdhdGlvbkZucyIsIkNvbHVtbkdyb3VwaW5nIiwiYWdncmVnYXRlZENlbGwiLCJwcm9wcyIsIl90b1N0cmluZyIsIl9wcm9wcyRnZXRWYWx1ZSIsImFnZ3JlZ2F0aW9uRm4iLCJncm91cGluZyIsIm9uR3JvdXBpbmdDaGFuZ2UiLCJncm91cGVkQ29sdW1uTW9kZSIsInRvZ2dsZUdyb3VwaW5nIiwic2V0R3JvdXBpbmciLCJnZXRDYW5Hcm91cCIsImVuYWJsZUdyb3VwaW5nIiwiZ2V0R3JvdXBpbmdWYWx1ZSIsImdldElzR3JvdXBlZCIsIl90YWJsZSRnZXRTdGF0ZSRncm91cCIsImdldEdyb3VwZWRJbmRleCIsIl90YWJsZSRnZXRTdGF0ZSRncm91cDIiLCJpbmRleE9mIiwiZ2V0VG9nZ2xlR3JvdXBpbmdIYW5kbGVyIiwiY2FuR3JvdXAiLCJnZXRBdXRvQWdncmVnYXRpb25GbiIsIk9iamVjdCIsImNhbGwiLCJnZXRBZ2dyZWdhdGlvbkZuIiwiX3RhYmxlJG9wdGlvbnMkYWdncmVnIiwiX3RhYmxlJG9wdGlvbnMkYWdncmVnMiIsInJlc2V0R3JvdXBpbmciLCJfdGFibGUkaW5pdGlhbFN0YXRlJGciLCJnZXRQcmVHcm91cGVkUm93TW9kZWwiLCJnZXRHcm91cGVkUm93TW9kZWwiLCJfZ2V0R3JvdXBlZFJvd01vZGVsIiwibWFudWFsR3JvdXBpbmciLCJncm91cGluZ0NvbHVtbklkIiwiX2dyb3VwaW5nVmFsdWVzQ2FjaGUiLCJnZXRJc1BsYWNlaG9sZGVyIiwiZ2V0SXNBZ2dyZWdhdGVkIiwiX3JvdyRzdWJSb3dzIiwibm9uR3JvdXBpbmdDb2x1bW5zIiwiY29sIiwiZ3JvdXBpbmdDb2x1bW5zIiwiZyIsIkNvbHVtbk9yZGVyaW5nIiwiY29sdW1uT3JkZXIiLCJvbkNvbHVtbk9yZGVyQ2hhbmdlIiwiZ2V0SW5kZXgiLCJwb3NpdGlvbiIsIl9nZXRWaXNpYmxlTGVhZkNvbHVtbnMiLCJnZXRJc0ZpcnN0Q29sdW1uIiwiX2NvbHVtbnMkIiwiZ2V0SXNMYXN0Q29sdW1uIiwiX2NvbHVtbnMiLCJzZXRDb2x1bW5PcmRlciIsInJlc2V0Q29sdW1uT3JkZXIiLCJvcmRlcmVkQ29sdW1ucyIsImNvbHVtbk9yZGVyQ29weSIsImNvbHVtbnNDb3B5IiwidGFyZ2V0Q29sdW1uSWQiLCJzaGlmdCIsImZvdW5kSW5kZXgiLCJzcGxpY2UiLCJnZXREZWZhdWx0Q29sdW1uUGlubmluZ1N0YXRlIiwiQ29sdW1uUGlubmluZyIsIm9uQ29sdW1uUGlubmluZ0NoYW5nZSIsInBpbiIsImNvbHVtbklkcyIsInNldENvbHVtblBpbm5pbmciLCJfb2xkJGxlZnQzIiwiX29sZCRyaWdodDMiLCJfb2xkJGxlZnQiLCJfb2xkJHJpZ2h0IiwiX29sZCRsZWZ0MiIsIl9vbGQkcmlnaHQyIiwiZ2V0Q2FuUGluIiwiX2QkY29sdW1uRGVmJGVuYWJsZVBpIiwiZW5hYmxlUGlubmluZyIsImVuYWJsZUNvbHVtblBpbm5pbmciLCJnZXRJc1Bpbm5lZCIsImxlYWZDb2x1bW5JZHMiLCJpc0xlZnQiLCJpc1JpZ2h0IiwiZ2V0UGlubmVkSW5kZXgiLCJnZXRDZW50ZXJWaXNpYmxlQ2VsbHMiLCJfZ2V0QWxsVmlzaWJsZUNlbGxzIiwibGVmdEFuZFJpZ2h0IiwiZ2V0TGVmdFZpc2libGVDZWxscyIsImNlbGxzIiwiZ2V0UmlnaHRWaXNpYmxlQ2VsbHMiLCJyZXNldENvbHVtblBpbm5pbmciLCJnZXRJc1NvbWVDb2x1bW5zUGlubmVkIiwiX3Bpbm5pbmdTdGF0ZSRwb3NpdGlvIiwicGlubmluZ1N0YXRlIiwiX3Bpbm5pbmdTdGF0ZSRsZWZ0IiwiX3Bpbm5pbmdTdGF0ZSRyaWdodCIsImdldExlZnRMZWFmQ29sdW1ucyIsImdldFJpZ2h0TGVhZkNvbHVtbnMiLCJnZXRDZW50ZXJMZWFmQ29sdW1ucyIsInNhZmVseUFjY2Vzc0RvY3VtZW50IiwiX2RvY3VtZW50IiwiZG9jdW1lbnQiLCJkZWZhdWx0Q29sdW1uU2l6aW5nIiwibWluU2l6ZSIsIm1heFNpemUiLCJNQVhfU0FGRV9JTlRFR0VSIiwiZ2V0RGVmYXVsdENvbHVtblNpemluZ0luZm9TdGF0ZSIsInN0YXJ0T2Zmc2V0Iiwic3RhcnRTaXplIiwiZGVsdGFPZmZzZXQiLCJkZWx0YVBlcmNlbnRhZ2UiLCJpc1Jlc2l6aW5nQ29sdW1uIiwiY29sdW1uU2l6aW5nU3RhcnQiLCJDb2x1bW5TaXppbmciLCJjb2x1bW5TaXppbmciLCJjb2x1bW5TaXppbmdJbmZvIiwiY29sdW1uUmVzaXplTW9kZSIsImNvbHVtblJlc2l6ZURpcmVjdGlvbiIsIm9uQ29sdW1uU2l6aW5nQ2hhbmdlIiwib25Db2x1bW5TaXppbmdJbmZvQ2hhbmdlIiwiZ2V0U2l6ZSIsIl9jb2x1bW4kY29sdW1uRGVmJG1pbiIsIl9jb2x1bW4kY29sdW1uRGVmJG1heCIsImNvbHVtblNpemUiLCJnZXRTdGFydCIsInNsaWNlIiwiZ2V0QWZ0ZXIiLCJyZXNldFNpemUiLCJzZXRDb2x1bW5TaXppbmciLCJfcmVmMiIsIl8iLCJyZXN0IiwiZ2V0Q2FuUmVzaXplIiwiZW5hYmxlUmVzaXppbmciLCJlbmFibGVDb2x1bW5SZXNpemluZyIsImdldElzUmVzaXppbmciLCJfaGVhZGVyJGNvbHVtbiRnZXRTaXoiLCJwcmV2U2libGluZ0hlYWRlciIsImdldFJlc2l6ZUhhbmRsZXIiLCJfY29udGV4dERvY3VtZW50IiwiY2FuUmVzaXplIiwiZSIsInBlcnNpc3QiLCJpc1RvdWNoU3RhcnRFdmVudCIsInRvdWNoZXMiLCJjbGllbnRYIiwibmV3Q29sdW1uU2l6aW5nIiwidXBkYXRlT2Zmc2V0IiwiZXZlbnRUeXBlIiwiY2xpZW50WFBvcyIsInNldENvbHVtblNpemluZ0luZm8iLCJfb2xkJHN0YXJ0T2Zmc2V0IiwiX29sZCRzdGFydFNpemUiLCJkZWx0YURpcmVjdGlvbiIsIl9yZWYzIiwiaGVhZGVyU2l6ZSIsIm9uTW92ZSIsIm9uRW5kIiwiY29udGV4dERvY3VtZW50IiwibW91c2VFdmVudHMiLCJtb3ZlSGFuZGxlciIsInVwSGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b3VjaEV2ZW50cyIsImNhbmNlbGFibGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIl9lJHRvdWNoZXMkIiwicGFzc2l2ZUlmU3VwcG9ydGVkIiwicGFzc2l2ZUV2ZW50U3VwcG9ydGVkIiwicGFzc2l2ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNldENvbHVtblNpemluZyIsInJlc2V0SGVhZGVyU2l6ZUluZm8iLCJfdGFibGUkaW5pdGlhbFN0YXRlJGMyIiwiZ2V0VG90YWxTaXplIiwiX3RhYmxlJGdldEhlYWRlckdyb3VwIiwiX3RhYmxlJGdldEhlYWRlckdyb3VwMiIsImdldExlZnRUb3RhbFNpemUiLCJfdGFibGUkZ2V0TGVmdEhlYWRlckciLCJfdGFibGUkZ2V0TGVmdEhlYWRlckcyIiwiZ2V0Q2VudGVyVG90YWxTaXplIiwiX3RhYmxlJGdldENlbnRlckhlYWRlIiwiX3RhYmxlJGdldENlbnRlckhlYWRlMiIsImdldFJpZ2h0VG90YWxTaXplIiwiX3RhYmxlJGdldFJpZ2h0SGVhZGVyIiwiX3RhYmxlJGdldFJpZ2h0SGVhZGVyMiIsInBhc3NpdmVTdXBwb3J0ZWQiLCJzdXBwb3J0ZWQiLCJ3aW5kb3ciLCJlcnIiLCJ0eXBlIiwiQ29sdW1uVmlzaWJpbGl0eSIsImNvbHVtblZpc2liaWxpdHkiLCJvbkNvbHVtblZpc2liaWxpdHlDaGFuZ2UiLCJ0b2dnbGVWaXNpYmlsaXR5IiwiZ2V0Q2FuSGlkZSIsInNldENvbHVtblZpc2liaWxpdHkiLCJjaGlsZENvbHVtbnMiLCJjIiwiZW5hYmxlSGlkaW5nIiwiZ2V0VG9nZ2xlVmlzaWJpbGl0eUhhbmRsZXIiLCJ0YXJnZXQiLCJjaGVja2VkIiwiZ2V0VmlzaWJsZUNlbGxzIiwibWFrZVZpc2libGVDb2x1bW5zTWV0aG9kIiwiZ2V0Q29sdW1ucyIsImdldFZpc2libGVGbGF0Q29sdW1ucyIsImdldEFsbEZsYXRDb2x1bW5zIiwiZ2V0TGVmdFZpc2libGVMZWFmQ29sdW1ucyIsImdldFJpZ2h0VmlzaWJsZUxlYWZDb2x1bW5zIiwiZ2V0Q2VudGVyVmlzaWJsZUxlYWZDb2x1bW5zIiwicmVzZXRDb2x1bW5WaXNpYmlsaXR5IiwidG9nZ2xlQWxsQ29sdW1uc1Zpc2libGUiLCJfdmFsdWUiLCJnZXRJc0FsbENvbHVtbnNWaXNpYmxlIiwib2JqIiwiZ2V0SXNTb21lQ29sdW1uc1Zpc2libGUiLCJnZXRUb2dnbGVBbGxDb2x1bW5zVmlzaWJpbGl0eUhhbmRsZXIiLCJfdGFyZ2V0IiwiR2xvYmFsRmFjZXRpbmciLCJfZ2V0R2xvYmFsRmFjZXRlZFJvd01vZGVsIiwiZ2V0R2xvYmFsRmFjZXRlZFJvd01vZGVsIiwiX2dldEdsb2JhbEZhY2V0ZWRVbmlxdWVWYWx1ZXMiLCJnZXRHbG9iYWxGYWNldGVkVW5pcXVlVmFsdWVzIiwiX2dldEdsb2JhbEZhY2V0ZWRNaW5NYXhWYWx1ZXMiLCJnZXRHbG9iYWxGYWNldGVkTWluTWF4VmFsdWVzIiwiR2xvYmFsRmlsdGVyaW5nIiwiZ2xvYmFsRmlsdGVyIiwib25HbG9iYWxGaWx0ZXJDaGFuZ2UiLCJnbG9iYWxGaWx0ZXJGbiIsImdldENvbHVtbkNhbkdsb2JhbEZpbHRlciIsIl90YWJsZSRnZXRDb3JlUm93TW9kZSIsImdldENhbkdsb2JhbEZpbHRlciIsIl90YWJsZSRvcHRpb25zJGdldENvbCIsImVuYWJsZUdsb2JhbEZpbHRlciIsImdldEdsb2JhbEF1dG9GaWx0ZXJGbiIsImdldEdsb2JhbEZpbHRlckZuIiwic2V0R2xvYmFsRmlsdGVyIiwicmVzZXRHbG9iYWxGaWx0ZXIiLCJSb3dFeHBhbmRpbmciLCJleHBhbmRlZCIsIm9uRXhwYW5kZWRDaGFuZ2UiLCJwYWdpbmF0ZUV4cGFuZGVkUm93cyIsInJlZ2lzdGVyZWQiLCJxdWV1ZWQiLCJfYXV0b1Jlc2V0RXhwYW5kZWQiLCJfdGFibGUkb3B0aW9ucyRhdXRvUmUiLCJfcXVldWUiLCJhdXRvUmVzZXRBbGwiLCJhdXRvUmVzZXRFeHBhbmRlZCIsIm1hbnVhbEV4cGFuZGluZyIsInJlc2V0RXhwYW5kZWQiLCJzZXRFeHBhbmRlZCIsInRvZ2dsZUFsbFJvd3NFeHBhbmRlZCIsImdldElzQWxsUm93c0V4cGFuZGVkIiwiX3RhYmxlJGluaXRpYWxTdGF0ZSRlIiwiZ2V0Q2FuU29tZVJvd3NFeHBhbmQiLCJnZXRQcmVQYWdpbmF0aW9uUm93TW9kZWwiLCJnZXRDYW5FeHBhbmQiLCJnZXRUb2dnbGVBbGxSb3dzRXhwYW5kZWRIYW5kbGVyIiwiZ2V0SXNTb21lUm93c0V4cGFuZGVkIiwia2V5cyIsImdldFJvd01vZGVsIiwiZ2V0SXNFeHBhbmRlZCIsImdldEV4cGFuZGVkRGVwdGgiLCJyb3dJZHMiLCJyb3dzQnlJZCIsInNwbGl0SWQiLCJnZXRQcmVFeHBhbmRlZFJvd01vZGVsIiwiZ2V0U29ydGVkUm93TW9kZWwiLCJnZXRFeHBhbmRlZFJvd01vZGVsIiwiX2dldEV4cGFuZGVkUm93TW9kZWwiLCJ0b2dnbGVFeHBhbmRlZCIsIl9leHBhbmRlZCIsImV4aXN0cyIsIm9sZEV4cGFuZGVkIiwicm93SWQiLCJfdGFibGUkb3B0aW9ucyRnZXRJc1IiLCJnZXRJc1Jvd0V4cGFuZGVkIiwiX3RhYmxlJG9wdGlvbnMkZ2V0Um93IiwiZ2V0Um93Q2FuRXhwYW5kIiwiZW5hYmxlRXhwYW5kaW5nIiwiZ2V0SXNBbGxQYXJlbnRzRXhwYW5kZWQiLCJpc0Z1bGx5RXhwYW5kZWQiLCJnZXRUb2dnbGVFeHBhbmRlZEhhbmRsZXIiLCJjYW5FeHBhbmQiLCJkZWZhdWx0UGFnZUluZGV4IiwiZGVmYXVsdFBhZ2VTaXplIiwiZ2V0RGVmYXVsdFBhZ2luYXRpb25TdGF0ZSIsInBhZ2VJbmRleCIsInBhZ2VTaXplIiwiUm93UGFnaW5hdGlvbiIsInBhZ2luYXRpb24iLCJvblBhZ2luYXRpb25DaGFuZ2UiLCJfYXV0b1Jlc2V0UGFnZUluZGV4IiwiYXV0b1Jlc2V0UGFnZUluZGV4IiwibWFudWFsUGFnaW5hdGlvbiIsInJlc2V0UGFnZUluZGV4Iiwic2V0UGFnaW5hdGlvbiIsInNhZmVVcGRhdGVyIiwibmV3U3RhdGUiLCJyZXNldFBhZ2luYXRpb24iLCJfdGFibGUkaW5pdGlhbFN0YXRlJHAiLCJzZXRQYWdlSW5kZXgiLCJtYXhQYWdlSW5kZXgiLCJwYWdlQ291bnQiLCJfdGFibGUkaW5pdGlhbFN0YXRlJHAyIiwicmVzZXRQYWdlU2l6ZSIsIl90YWJsZSRpbml0aWFsU3RhdGUkcDMiLCJfdGFibGUkaW5pdGlhbFN0YXRlMiIsInNldFBhZ2VTaXplIiwidG9wUm93SW5kZXgiLCJzZXRQYWdlQ291bnQiLCJfdGFibGUkb3B0aW9ucyRwYWdlQ28iLCJuZXdQYWdlQ291bnQiLCJnZXRQYWdlT3B0aW9ucyIsImdldFBhZ2VDb3VudCIsInBhZ2VPcHRpb25zIiwiZmlsbCIsImdldENhblByZXZpb3VzUGFnZSIsImdldENhbk5leHRQYWdlIiwicHJldmlvdXNQYWdlIiwibmV4dFBhZ2UiLCJmaXJzdFBhZ2UiLCJsYXN0UGFnZSIsImdldFBhZ2luYXRpb25Sb3dNb2RlbCIsIl9nZXRQYWdpbmF0aW9uUm93TW9kZWwiLCJfdGFibGUkb3B0aW9ucyRwYWdlQ28yIiwiY2VpbCIsImdldFJvd0NvdW50IiwiX3RhYmxlJG9wdGlvbnMkcm93Q291Iiwicm93Q291bnQiLCJyb3dzIiwiZ2V0RGVmYXVsdFJvd1Bpbm5pbmdTdGF0ZSIsInRvcCIsImJvdHRvbSIsIlJvd1Bpbm5pbmciLCJyb3dQaW5uaW5nIiwib25Sb3dQaW5uaW5nQ2hhbmdlIiwiaW5jbHVkZUxlYWZSb3dzIiwiaW5jbHVkZVBhcmVudFJvd3MiLCJsZWFmUm93SWRzIiwicGFyZW50Um93SWRzIiwic2V0Um93UGlubmluZyIsIl9vbGQkdG9wMyIsIl9vbGQkYm90dG9tMyIsIl9vbGQkdG9wIiwiX29sZCRib3R0b20iLCJoYXMiLCJfb2xkJHRvcDIiLCJfb2xkJGJvdHRvbTIiLCJlbmFibGVSb3dQaW5uaW5nIiwiaXNUb3AiLCJpc0JvdHRvbSIsIl9yZWY0IiwiX3Zpc2libGVQaW5uZWRSb3dJZHMkIiwidmlzaWJsZVBpbm5lZFJvd0lkcyIsImdldFRvcFJvd3MiLCJnZXRCb3R0b21Sb3dzIiwiX3JlZjUiLCJyZXNldFJvd1Bpbm5pbmciLCJfdGFibGUkaW5pdGlhbFN0YXRlJHIiLCJnZXRJc1NvbWVSb3dzUGlubmVkIiwiX3Bpbm5pbmdTdGF0ZSR0b3AiLCJfcGlubmluZ1N0YXRlJGJvdHRvbSIsIl9nZXRQaW5uZWRSb3dzIiwidmlzaWJsZVJvd3MiLCJwaW5uZWRSb3dJZHMiLCJfdGFibGUkb3B0aW9ucyRrZWVwUGkiLCJrZWVwUGlubmVkUm93cyIsImFsbFJvd3MiLCJ0b3BQaW5uZWRSb3dJZHMiLCJib3R0b21QaW5uZWRSb3dJZHMiLCJnZXRDZW50ZXJSb3dzIiwidG9wQW5kQm90dG9tIiwiUm93U2VsZWN0aW9uIiwicm93U2VsZWN0aW9uIiwib25Sb3dTZWxlY3Rpb25DaGFuZ2UiLCJlbmFibGVSb3dTZWxlY3Rpb24iLCJlbmFibGVNdWx0aVJvd1NlbGVjdGlvbiIsImVuYWJsZVN1YlJvd1NlbGVjdGlvbiIsInNldFJvd1NlbGVjdGlvbiIsInJlc2V0Um93U2VsZWN0aW9uIiwidG9nZ2xlQWxsUm93c1NlbGVjdGVkIiwiZ2V0SXNBbGxSb3dzU2VsZWN0ZWQiLCJwcmVHcm91cGVkRmxhdFJvd3MiLCJnZXRDYW5TZWxlY3QiLCJ0b2dnbGVBbGxQYWdlUm93c1NlbGVjdGVkIiwicmVzb2x2ZWRWYWx1ZSIsImdldElzQWxsUGFnZVJvd3NTZWxlY3RlZCIsIm11dGF0ZVJvd0lzU2VsZWN0ZWQiLCJnZXRQcmVTZWxlY3RlZFJvd01vZGVsIiwiZ2V0U2VsZWN0ZWRSb3dNb2RlbCIsInJvd01vZGVsIiwic2VsZWN0Um93c0ZuIiwiZ2V0RmlsdGVyZWRTZWxlY3RlZFJvd01vZGVsIiwiZ2V0R3JvdXBlZFNlbGVjdGVkUm93TW9kZWwiLCJpc0FsbFJvd3NTZWxlY3RlZCIsInBhZ2luYXRpb25GbGF0Um93cyIsImlzQWxsUGFnZVJvd3NTZWxlY3RlZCIsImdldElzU29tZVJvd3NTZWxlY3RlZCIsIl90YWJsZSRnZXRTdGF0ZSRyb3dTZSIsInRvdGFsU2VsZWN0ZWQiLCJnZXRJc1NvbWVQYWdlUm93c1NlbGVjdGVkIiwiZ2V0SXNTZWxlY3RlZCIsImdldElzU29tZVNlbGVjdGVkIiwiZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkSGFuZGxlciIsImdldFRvZ2dsZUFsbFBhZ2VSb3dzU2VsZWN0ZWRIYW5kbGVyIiwidG9nZ2xlU2VsZWN0ZWQiLCJpc1NlbGVjdGVkIiwiX29wdHMkc2VsZWN0Q2hpbGRyZW4iLCJzZWxlY3RlZFJvd0lkcyIsInNlbGVjdENoaWxkcmVuIiwiaXNSb3dTZWxlY3RlZCIsImlzU3ViUm93U2VsZWN0ZWQiLCJnZXRJc0FsbFN1YlJvd3NTZWxlY3RlZCIsImdldENhblNlbGVjdFN1YlJvd3MiLCJnZXRDYW5NdWx0aVNlbGVjdCIsIl90YWJsZSRvcHRpb25zJGVuYWJsZTMiLCJnZXRUb2dnbGVTZWxlY3RlZEhhbmRsZXIiLCJjYW5TZWxlY3QiLCJpbmNsdWRlQ2hpbGRyZW4iLCJuZXdTZWxlY3RlZEZsYXRSb3dzIiwibmV3U2VsZWN0ZWRSb3dzQnlJZCIsInJlY3Vyc2VSb3dzIiwiX3JvdyRzdWJSb3dzMiIsInNlbGVjdGlvbiIsIl9zZWxlY3Rpb24kcm93JGlkIiwiX3JvdyRzdWJSb3dzMyIsImFsbENoaWxkcmVuU2VsZWN0ZWQiLCJzb21lU2VsZWN0ZWQiLCJzdWJSb3ciLCJzdWJSb3dDaGlsZHJlblNlbGVjdGVkIiwicmVTcGxpdEFscGhhTnVtZXJpYyIsImFscGhhbnVtZXJpYyIsInJvd0EiLCJyb3dCIiwiY29tcGFyZUFscGhhbnVtZXJpYyIsImFscGhhbnVtZXJpY0Nhc2VTZW5zaXRpdmUiLCJ0ZXh0IiwiY29tcGFyZUJhc2ljIiwidGV4dENhc2VTZW5zaXRpdmUiLCJkYXRldGltZSIsImJhc2ljIiwiYVN0ciIsImJTdHIiLCJhYSIsImJiIiwiYW4iLCJwYXJzZUludCIsImJuIiwiY29tYm8iLCJzb3J0aW5nRm5zIiwiUm93U29ydGluZyIsInNvcnRpbmciLCJzb3J0aW5nRm4iLCJzb3J0VW5kZWZpbmVkIiwib25Tb3J0aW5nQ2hhbmdlIiwiaXNNdWx0aVNvcnRFdmVudCIsInNoaWZ0S2V5IiwiZ2V0QXV0b1NvcnRpbmdGbiIsImZpcnN0Um93cyIsImlzU3RyaW5nIiwiZ2V0QXV0b1NvcnREaXIiLCJnZXRTb3J0aW5nRm4iLCJfdGFibGUkb3B0aW9ucyRzb3J0aW4iLCJfdGFibGUkb3B0aW9ucyRzb3J0aW4yIiwidG9nZ2xlU29ydGluZyIsImRlc2MiLCJtdWx0aSIsIm5leHRTb3J0aW5nT3JkZXIiLCJnZXROZXh0U29ydGluZ09yZGVyIiwiaGFzTWFudWFsVmFsdWUiLCJzZXRTb3J0aW5nIiwiZXhpc3RpbmdTb3J0aW5nIiwiZXhpc3RpbmdJbmRleCIsIm5ld1NvcnRpbmciLCJzb3J0QWN0aW9uIiwibmV4dERlc2MiLCJnZXRDYW5NdWx0aVNvcnQiLCJfdGFibGUkb3B0aW9ucyRtYXhNdWwiLCJtYXhNdWx0aVNvcnRDb2xDb3VudCIsImdldEZpcnN0U29ydERpciIsIl9jb2x1bW4kY29sdW1uRGVmJHNvciIsInNvcnREZXNjRmlyc3QiLCJmaXJzdFNvcnREaXJlY3Rpb24iLCJpc1NvcnRlZCIsImdldElzU29ydGVkIiwiZW5hYmxlU29ydGluZ1JlbW92YWwiLCJlbmFibGVNdWx0aVJlbW92ZSIsImdldENhblNvcnQiLCJlbmFibGVTb3J0aW5nIiwiX2NvbHVtbiRjb2x1bW5EZWYkZW5hMiIsImVuYWJsZU11bHRpU29ydCIsIl90YWJsZSRnZXRTdGF0ZSRzb3J0aSIsImNvbHVtblNvcnQiLCJnZXRTb3J0SW5kZXgiLCJfdGFibGUkZ2V0U3RhdGUkc29ydGkyIiwiX3RhYmxlJGdldFN0YXRlJHNvcnRpMyIsImNsZWFyU29ydGluZyIsImdldFRvZ2dsZVNvcnRpbmdIYW5kbGVyIiwiY2FuU29ydCIsInJlc2V0U29ydGluZyIsIl90YWJsZSRpbml0aWFsU3RhdGUkcyIsImdldFByZVNvcnRlZFJvd01vZGVsIiwiX2dldFNvcnRlZFJvd01vZGVsIiwibWFudWFsU29ydGluZyIsImJ1aWx0SW5GZWF0dXJlcyIsIl9vcHRpb25zJF9mZWF0dXJlcyIsIl9vcHRpb25zJGluaXRpYWxTdGF0ZSIsImRlYnVnVGFibGUiLCJkZWZhdWx0T3B0aW9ucyIsImFzc2lnbiIsIm1lcmdlT3B0aW9ucyIsImNvcmVJbml0aWFsU3RhdGUiLCJfZmVhdHVyZSRnZXRJbml0aWFsU3QiLCJxdWV1ZWRUaW1lb3V0IiwiY29yZUluc3RhbmNlIiwiY2IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwic2V0VGltZW91dCIsInJlc2V0Iiwic2V0T3B0aW9ucyIsIm5ld09wdGlvbnMiLCJvblN0YXRlQ2hhbmdlIiwiX2dldFJvd0lkIiwiZ2V0Um93SWQiLCJfZ2V0Q29yZVJvd01vZGVsIiwic2VhcmNoQWxsIiwiX2RlZmF1bHRDb2x1bW4iLCJfcHJvcHMkcmVuZGVyVmFsdWUkdG8iLCJfcHJvcHMkcmVuZGVyVmFsdWUiLCJfZ2V0Q29sdW1uRGVmcyIsImNvbHVtbkRlZnMiLCJyZWN1cnNlQ29sdW1ucyIsImdyb3VwaW5nQ29sdW1uRGVmIiwiX2dldEFsbEZsYXRDb2x1bW5zQnlJZCIsImZsYXRDb2x1bW5zIiwiZGF0YSIsImFjY2Vzc1Jvd3MiLCJvcmlnaW5hbFJvd3MiLCJnZXRTdWJSb3dzIiwiX3JvdyRvcmlnaW5hbFN1YlJvd3MiLCJvcmlnaW5hbFN1YlJvd3MiLCJleHBhbmRSb3dzIiwiZXhwYW5kZWRSb3dzIiwiaGFuZGxlUm93IiwiX3RhYmxlJGdldENvbHVtbiIsImZhY2V0ZWRSb3dNb2RlbCIsInVuaXF1ZVZhbHVlcyIsImZsYXRSb3ciLCJfZmxhdFJvdyRnZXRVbmlxdWVWYWwiLCJmYWNldGVkTWluVmFsdWUiLCJmYWNldGVkTWF4VmFsdWUiLCJmaWx0ZXJSb3dzIiwiZmlsdGVyUm93SW1wbCIsImZpbHRlclJvd01vZGVsRnJvbUxlYWZzIiwiZmlsdGVyUm93TW9kZWxGcm9tUm9vdCIsInJvd3NUb0ZpbHRlciIsImZpbHRlclJvdyIsIl90YWJsZSRvcHRpb25zJG1heExlYSIsIm5ld0ZpbHRlcmVkRmxhdFJvd3MiLCJuZXdGaWx0ZXJlZFJvd3NCeUlkIiwicmVjdXJzZUZpbHRlclJvd3MiLCJuZXdSb3ciLCJfdGFibGUkb3B0aW9ucyRtYXhMZWEyIiwicGFzcyIsInByZVJvd01vZGVsIiwiZmlsdGVyYWJsZUlkcyIsImZpbHRlclJvd3NJbXBsIiwiZmFjZXRlZFVuaXF1ZVZhbHVlcyIsImoiLCJfZmFjZXRlZFVuaXF1ZVZhbHVlcyQiLCJzZXQiLCJnZXQiLCJyZXNvbHZlZENvbHVtbkZpbHRlcnMiLCJyZXNvbHZlZEdsb2JhbEZpbHRlcnMiLCJfZmlsdGVyRm4kcmVzb2x2ZUZpbHQiLCJnbG9iYWxseUZpbHRlcmFibGVDb2x1bW5zIiwiX2dsb2JhbEZpbHRlckZuJHJlc29sIiwiY3VycmVudENvbHVtbkZpbHRlciIsImN1cnJlbnRHbG9iYWxGaWx0ZXIiLCJmaWx0ZXJNZXRhIiwiX19nbG9iYWxfXyIsImV4aXN0aW5nR3JvdXBpbmciLCJncm91cGVkRmxhdFJvd3MiLCJncm91cGVkUm93c0J5SWQiLCJncm91cFVwUmVjdXJzaXZlbHkiLCJyb3dHcm91cHNNYXAiLCJncm91cEJ5IiwiYWdncmVnYXRlZEdyb3VwZWRSb3dzIiwiZW50cmllcyIsImdyb3VwaW5nVmFsdWUiLCJncm91cGVkUm93cyIsIl9ncm91cGVkUm93cyQwJGdldFZhbCIsImFnZ3JlZ2F0ZUZuIiwiZ3JvdXBNYXAiLCJyZXNLZXkiLCJwcmV2aW91cyIsInBhZ2VTdGFydCIsInBhZ2VFbmQiLCJwYWdpbmF0ZWRSb3dNb2RlbCIsInNvcnRpbmdTdGF0ZSIsInNvcnRlZEZsYXRSb3dzIiwiYXZhaWxhYmxlU29ydGluZyIsImNvbHVtbkluZm9CeUlkIiwic29ydEVudHJ5IiwiaW52ZXJ0U29ydGluZyIsInNvcnREYXRhIiwic29ydGVkRGF0YSIsIl9zb3J0RW50cnkkZGVzYyIsImNvbHVtbkluZm8iLCJpc0Rlc2MiLCJzb3J0SW50IiwiYVZhbHVlIiwiYlZhbHVlIiwiYVVuZGVmaW5lZCIsImJVbmRlZmluZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbHVtbkhlbHBlci50cyIsIi4uLy4uL3NyYy91dGlscy50cyIsIi4uLy4uL3NyYy9jb3JlL2NlbGwudHMiLCIuLi8uLi9zcmMvY29yZS9jb2x1bW4udHMiLCIuLi8uLi9zcmMvY29yZS9oZWFkZXJzLnRzIiwiLi4vLi4vc3JjL2NvcmUvcm93LnRzIiwiLi4vLi4vc3JjL2ZlYXR1cmVzL0NvbHVtbkZhY2V0aW5nLnRzIiwiLi4vLi4vc3JjL2ZpbHRlckZucy50cyIsIi4uLy4uL3NyYy9mZWF0dXJlcy9Db2x1bW5GaWx0ZXJpbmcudHMiLCIuLi8uLi9zcmMvYWdncmVnYXRpb25GbnMudHMiLCIuLi8uLi9zcmMvZmVhdHVyZXMvQ29sdW1uR3JvdXBpbmcudHMiLCIuLi8uLi9zcmMvZmVhdHVyZXMvQ29sdW1uT3JkZXJpbmcudHMiLCIuLi8uLi9zcmMvZmVhdHVyZXMvQ29sdW1uUGlubmluZy50cyIsIi4uLy4uL3NyYy91dGlscy9kb2N1bWVudC50cyIsIi4uLy4uL3NyYy9mZWF0dXJlcy9Db2x1bW5TaXppbmcudHMiLCIuLi8uLi9zcmMvZmVhdHVyZXMvQ29sdW1uVmlzaWJpbGl0eS50cyIsIi4uLy4uL3NyYy9mZWF0dXJlcy9HbG9iYWxGYWNldGluZy50cyIsIi4uLy4uL3NyYy9mZWF0dXJlcy9HbG9iYWxGaWx0ZXJpbmcudHMiLCIuLi8uLi9zcmMvZmVhdHVyZXMvUm93RXhwYW5kaW5nLnRzIiwiLi4vLi4vc3JjL2ZlYXR1cmVzL1Jvd1BhZ2luYXRpb24udHMiLCIuLi8uLi9zcmMvZmVhdHVyZXMvUm93UGlubmluZy50cyIsIi4uLy4uL3NyYy9mZWF0dXJlcy9Sb3dTZWxlY3Rpb24udHMiLCIuLi8uLi9zcmMvc29ydGluZ0Zucy50cyIsIi4uLy4uL3NyYy9mZWF0dXJlcy9Sb3dTb3J0aW5nLnRzIiwiLi4vLi4vc3JjL2NvcmUvdGFibGUudHMiLCIuLi8uLi9zcmMvdXRpbHMvZ2V0Q29yZVJvd01vZGVsLnRzIiwiLi4vLi4vc3JjL3V0aWxzL2dldEV4cGFuZGVkUm93TW9kZWwudHMiLCIuLi8uLi9zcmMvdXRpbHMvZ2V0RmFjZXRlZE1pbk1heFZhbHVlcy50cyIsIi4uLy4uL3NyYy91dGlscy9maWx0ZXJSb3dzVXRpbHMudHMiLCIuLi8uLi9zcmMvdXRpbHMvZ2V0RmFjZXRlZFJvd01vZGVsLnRzIiwiLi4vLi4vc3JjL3V0aWxzL2dldEZhY2V0ZWRVbmlxdWVWYWx1ZXMudHMiLCIuLi8uLi9zcmMvdXRpbHMvZ2V0RmlsdGVyZWRSb3dNb2RlbC50cyIsIi4uLy4uL3NyYy91dGlscy9nZXRHcm91cGVkUm93TW9kZWwudHMiLCIuLi8uLi9zcmMvdXRpbHMvZ2V0UGFnaW5hdGlvblJvd01vZGVsLnRzIiwiLi4vLi4vc3JjL3V0aWxzL2dldFNvcnRlZFJvd01vZGVsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFjY2Vzc29yRm4sXG4gIEFjY2Vzc29yRm5Db2x1bW5EZWYsXG4gIEFjY2Vzc29yS2V5Q29sdW1uRGVmLFxuICBEaXNwbGF5Q29sdW1uRGVmLFxuICBHcm91cENvbHVtbkRlZixcbiAgSWRlbnRpZmllZENvbHVtbkRlZixcbiAgUm93RGF0YSxcbn0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IERlZXBLZXlzLCBEZWVwVmFsdWUgfSBmcm9tICcuL3V0aWxzJ1xuXG4vLyB0eXBlIFBlcnNvbiA9IHtcbi8vICAgZmlyc3ROYW1lOiBzdHJpbmdcbi8vICAgbGFzdE5hbWU6IHN0cmluZ1xuLy8gICBhZ2U6IG51bWJlclxuLy8gICB2aXNpdHM6IG51bWJlclxuLy8gICBzdGF0dXM6IHN0cmluZ1xuLy8gICBwcm9ncmVzczogbnVtYmVyXG4vLyAgIGNyZWF0ZWRBdDogRGF0ZVxuLy8gICBuZXN0ZWQ6IHtcbi8vICAgICBmb286IFtcbi8vICAgICAgIHtcbi8vICAgICAgICAgYmFyOiAnYmFyJ1xuLy8gICAgICAgfVxuLy8gICAgIF1cbi8vICAgICBiYXI6IHsgc3ViQmFyOiBib29sZWFuIH1bXVxuLy8gICAgIGJhejoge1xuLy8gICAgICAgZm9vOiAnZm9vJ1xuLy8gICAgICAgYmFyOiB7XG4vLyAgICAgICAgIGJhejogJ2Jheidcbi8vICAgICAgIH1cbi8vICAgICB9XG4vLyAgIH1cbi8vIH1cblxuLy8gY29uc3QgdGVzdDogRGVlcEtleXM8UGVyc29uPiA9ICduZXN0ZWQuZm9vLjAuYmFyJ1xuLy8gY29uc3QgdGVzdDI6IERlZXBLZXlzPFBlcnNvbj4gPSAnbmVzdGVkLmJhcidcblxuLy8gY29uc3QgaGVscGVyID0gY3JlYXRlQ29sdW1uSGVscGVyPFBlcnNvbj4oKVxuXG4vLyBoZWxwZXIuYWNjZXNzb3IoJ25lc3RlZC5mb28nLCB7XG4vLyAgIGNlbGw6IGluZm8gPT4gaW5mby5nZXRWYWx1ZSgpLFxuLy8gfSlcblxuLy8gaGVscGVyLmFjY2Vzc29yKCduZXN0ZWQuZm9vLjAuYmFyJywge1xuLy8gICBjZWxsOiBpbmZvID0+IGluZm8uZ2V0VmFsdWUoKSxcbi8vIH0pXG5cbi8vIGhlbHBlci5hY2Nlc3NvcignbmVzdGVkLmJhcicsIHtcbi8vICAgY2VsbDogaW5mbyA9PiBpbmZvLmdldFZhbHVlKCksXG4vLyB9KVxuXG5leHBvcnQgdHlwZSBDb2x1bW5IZWxwZXI8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiA9IHtcbiAgYWNjZXNzb3I6IDxcbiAgICBUQWNjZXNzb3IgZXh0ZW5kcyBBY2Nlc3NvckZuPFREYXRhPiB8IERlZXBLZXlzPFREYXRhPixcbiAgICBUVmFsdWUgZXh0ZW5kcyBUQWNjZXNzb3IgZXh0ZW5kcyBBY2Nlc3NvckZuPFREYXRhLCBpbmZlciBUUmV0dXJuPlxuICAgICAgPyBUUmV0dXJuXG4gICAgICA6IFRBY2Nlc3NvciBleHRlbmRzIERlZXBLZXlzPFREYXRhPlxuICAgICAgICA/IERlZXBWYWx1ZTxURGF0YSwgVEFjY2Vzc29yPlxuICAgICAgICA6IG5ldmVyLFxuICA+KFxuICAgIGFjY2Vzc29yOiBUQWNjZXNzb3IsXG4gICAgY29sdW1uOiBUQWNjZXNzb3IgZXh0ZW5kcyBBY2Nlc3NvckZuPFREYXRhPlxuICAgICAgPyBEaXNwbGF5Q29sdW1uRGVmPFREYXRhLCBUVmFsdWU+XG4gICAgICA6IElkZW50aWZpZWRDb2x1bW5EZWY8VERhdGEsIFRWYWx1ZT5cbiAgKSA9PiBUQWNjZXNzb3IgZXh0ZW5kcyBBY2Nlc3NvckZuPFREYXRhPlxuICAgID8gQWNjZXNzb3JGbkNvbHVtbkRlZjxURGF0YSwgVFZhbHVlPlxuICAgIDogQWNjZXNzb3JLZXlDb2x1bW5EZWY8VERhdGEsIFRWYWx1ZT5cbiAgZGlzcGxheTogKGNvbHVtbjogRGlzcGxheUNvbHVtbkRlZjxURGF0YT4pID0+IERpc3BsYXlDb2x1bW5EZWY8VERhdGEsIHVua25vd24+XG4gIGdyb3VwOiAoY29sdW1uOiBHcm91cENvbHVtbkRlZjxURGF0YT4pID0+IEdyb3VwQ29sdW1uRGVmPFREYXRhLCB1bmtub3duPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29sdW1uSGVscGVyPFxuICBURGF0YSBleHRlbmRzIFJvd0RhdGEsXG4+KCk6IENvbHVtbkhlbHBlcjxURGF0YT4ge1xuICByZXR1cm4ge1xuICAgIGFjY2Vzc29yOiAoYWNjZXNzb3IsIGNvbHVtbikgPT4ge1xuICAgICAgcmV0dXJuIHR5cGVvZiBhY2Nlc3NvciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/ICh7XG4gICAgICAgICAgICAuLi5jb2x1bW4sXG4gICAgICAgICAgICBhY2Nlc3NvckZuOiBhY2Nlc3NvcixcbiAgICAgICAgICB9IGFzIGFueSlcbiAgICAgICAgOiB7XG4gICAgICAgICAgICAuLi5jb2x1bW4sXG4gICAgICAgICAgICBhY2Nlc3NvcktleTogYWNjZXNzb3IsXG4gICAgICAgICAgfVxuICAgIH0sXG4gICAgZGlzcGxheTogY29sdW1uID0+IGNvbHVtbixcbiAgICBncm91cDogY29sdW1uID0+IGNvbHVtbixcbiAgfVxufVxuIiwiaW1wb3J0IHsgVGFibGVPcHRpb25zUmVzb2x2ZWQsIFRhYmxlU3RhdGUsIFVwZGF0ZXIgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgdHlwZSBQYXJ0aWFsS2V5czxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+ICYgUGFydGlhbDxQaWNrPFQsIEs+PlxuZXhwb3J0IHR5cGUgUmVxdWlyZWRLZXlzPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IE9taXQ8VCwgSz4gJlxuICBSZXF1aXJlZDxQaWNrPFQsIEs+PlxuZXhwb3J0IHR5cGUgT3ZlcndyaXRlPFQsIFUgZXh0ZW5kcyB7IFtUS2V5IGluIGtleW9mIFRdPzogYW55IH0+ID0gT21pdDxcbiAgVCxcbiAga2V5b2YgVVxuPiAmXG4gIFVcblxuZXhwb3J0IHR5cGUgVW5pb25Ub0ludGVyc2VjdGlvbjxUPiA9IChcbiAgVCBleHRlbmRzIGFueSA/ICh4OiBUKSA9PiBhbnkgOiBuZXZlclxuKSBleHRlbmRzICh4OiBpbmZlciBSKSA9PiBhbnlcbiAgPyBSXG4gIDogbmV2ZXJcblxuZXhwb3J0IHR5cGUgSXNBbnk8VCwgWSwgTj4gPSAxIGV4dGVuZHMgMCAmIFQgPyBZIDogTlxuZXhwb3J0IHR5cGUgSXNLbm93bjxULCBZLCBOPiA9IHVua25vd24gZXh0ZW5kcyBUID8gTiA6IFlcblxudHlwZSBDb21wdXRlUmFuZ2U8XG4gIE4gZXh0ZW5kcyBudW1iZXIsXG4gIFJlc3VsdCBleHRlbmRzIEFycmF5PHVua25vd24+ID0gW10sXG4+ID0gUmVzdWx0WydsZW5ndGgnXSBleHRlbmRzIE5cbiAgPyBSZXN1bHRcbiAgOiBDb21wdXRlUmFuZ2U8TiwgWy4uLlJlc3VsdCwgUmVzdWx0WydsZW5ndGgnXV0+XG50eXBlIEluZGV4NDAgPSBDb21wdXRlUmFuZ2U8NDA+W251bWJlcl1cblxuLy8gSXMgdGhpcyB0eXBlIGEgdHVwbGU/XG50eXBlIElzVHVwbGU8VD4gPSBUIGV4dGVuZHMgcmVhZG9ubHkgYW55W10gJiB7IGxlbmd0aDogaW5mZXIgTGVuZ3RoIH1cbiAgPyBMZW5ndGggZXh0ZW5kcyBJbmRleDQwXG4gICAgPyBUXG4gICAgOiBuZXZlclxuICA6IG5ldmVyXG5cbi8vIElmIHRoaXMgdHlwZSBpcyBhIHR1cGxlLCB3aGF0IGluZGljZXMgYXJlIGFsbG93ZWQ/XG50eXBlIEFsbG93ZWRJbmRleGVzPFxuICBUdXBsZSBleHRlbmRzIFJlYWRvbmx5QXJyYXk8YW55PixcbiAgS2V5cyBleHRlbmRzIG51bWJlciA9IG5ldmVyLFxuPiA9IFR1cGxlIGV4dGVuZHMgcmVhZG9ubHkgW11cbiAgPyBLZXlzXG4gIDogVHVwbGUgZXh0ZW5kcyByZWFkb25seSBbaW5mZXIgXywgLi4uaW5mZXIgVGFpbF1cbiAgICA/IEFsbG93ZWRJbmRleGVzPFRhaWwsIEtleXMgfCBUYWlsWydsZW5ndGgnXT5cbiAgICA6IEtleXNcblxuZXhwb3J0IHR5cGUgRGVlcEtleXM8VCwgVERlcHRoIGV4dGVuZHMgYW55W10gPSBbXT4gPSBURGVwdGhbJ2xlbmd0aCddIGV4dGVuZHMgNVxuICA/IG5ldmVyXG4gIDogdW5rbm93biBleHRlbmRzIFRcbiAgICA/IHN0cmluZ1xuICAgIDogVCBleHRlbmRzIHJlYWRvbmx5IGFueVtdICYgSXNUdXBsZTxUPlxuICAgICAgPyBBbGxvd2VkSW5kZXhlczxUPiB8IERlZXBLZXlzUHJlZml4PFQsIEFsbG93ZWRJbmRleGVzPFQ+LCBURGVwdGg+XG4gICAgICA6IFQgZXh0ZW5kcyBhbnlbXVxuICAgICAgICA/IERlZXBLZXlzPFRbbnVtYmVyXSwgWy4uLlREZXB0aCwgYW55XT5cbiAgICAgICAgOiBUIGV4dGVuZHMgRGF0ZVxuICAgICAgICAgID8gbmV2ZXJcbiAgICAgICAgICA6IFQgZXh0ZW5kcyBvYmplY3RcbiAgICAgICAgICAgID8gKGtleW9mIFQgJiBzdHJpbmcpIHwgRGVlcEtleXNQcmVmaXg8VCwga2V5b2YgVCwgVERlcHRoPlxuICAgICAgICAgICAgOiBuZXZlclxuXG50eXBlIERlZXBLZXlzUHJlZml4PFxuICBULFxuICBUUHJlZml4LFxuICBURGVwdGggZXh0ZW5kcyBhbnlbXSxcbj4gPSBUUHJlZml4IGV4dGVuZHMga2V5b2YgVCAmIChudW1iZXIgfCBzdHJpbmcpXG4gID8gYCR7VFByZWZpeH0uJHtEZWVwS2V5czxUW1RQcmVmaXhdLCBbLi4uVERlcHRoLCBhbnldPiAmIHN0cmluZ31gXG4gIDogbmV2ZXJcblxuZXhwb3J0IHR5cGUgRGVlcFZhbHVlPFQsIFRQcm9wPiA9XG4gIFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgbnVtYmVyLCBhbnk+XG4gICAgPyBUUHJvcCBleHRlbmRzIGAke2luZmVyIFRCcmFuY2h9LiR7aW5mZXIgVERlZXBQcm9wfWBcbiAgICAgID8gRGVlcFZhbHVlPFRbVEJyYW5jaF0sIFREZWVwUHJvcD5cbiAgICAgIDogVFtUUHJvcCAmIHN0cmluZ11cbiAgICA6IG5ldmVyXG5cbmV4cG9ydCB0eXBlIE5vSW5mZXI8VD4gPSBbVF1bVCBleHRlbmRzIGFueSA/IDAgOiBuZXZlcl1cblxuZXhwb3J0IHR5cGUgR2V0dGVyPFRWYWx1ZT4gPSA8VFRWYWx1ZSA9IFRWYWx1ZT4oKSA9PiBOb0luZmVyPFRUVmFsdWU+XG5cbi8vL1xuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25hbFVwZGF0ZTxUPih1cGRhdGVyOiBVcGRhdGVyPFQ+LCBpbnB1dDogVCk6IFQge1xuICByZXR1cm4gdHlwZW9mIHVwZGF0ZXIgPT09ICdmdW5jdGlvbidcbiAgICA/ICh1cGRhdGVyIGFzIChpbnB1dDogVCkgPT4gVCkoaW5wdXQpXG4gICAgOiB1cGRhdGVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge1xuICAvL1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVN0YXRlVXBkYXRlcjxLIGV4dGVuZHMga2V5b2YgVGFibGVTdGF0ZT4oXG4gIGtleTogSyxcbiAgaW5zdGFuY2U6IHVua25vd25cbikge1xuICByZXR1cm4gKHVwZGF0ZXI6IFVwZGF0ZXI8VGFibGVTdGF0ZVtLXT4pID0+IHtcbiAgICA7KGluc3RhbmNlIGFzIGFueSkuc2V0U3RhdGUoPFRUYWJsZVN0YXRlPihvbGQ6IFRUYWJsZVN0YXRlKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5vbGQsXG4gICAgICAgIFtrZXldOiBmdW5jdGlvbmFsVXBkYXRlKHVwZGF0ZXIsIChvbGQgYXMgYW55KVtrZXldKSxcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbnR5cGUgQW55RnVuY3Rpb24gPSAoLi4uYXJnczogYW55KSA9PiBhbnlcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb248VCBleHRlbmRzIEFueUZ1bmN0aW9uPihkOiBhbnkpOiBkIGlzIFQge1xuICByZXR1cm4gZCBpbnN0YW5jZW9mIEZ1bmN0aW9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlckFycmF5KGQ6IGFueSk6IGQgaXMgbnVtYmVyW10ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShkKSAmJiBkLmV2ZXJ5KHZhbCA9PiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5CeTxUTm9kZT4oXG4gIGFycjogVE5vZGVbXSxcbiAgZ2V0Q2hpbGRyZW46IChpdGVtOiBUTm9kZSkgPT4gVE5vZGVbXVxuKSB7XG4gIGNvbnN0IGZsYXQ6IFROb2RlW10gPSBbXVxuXG4gIGNvbnN0IHJlY3Vyc2UgPSAoc3ViQXJyOiBUTm9kZVtdKSA9PiB7XG4gICAgc3ViQXJyLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBmbGF0LnB1c2goaXRlbSlcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oaXRlbSlcbiAgICAgIGlmIChjaGlsZHJlbj8ubGVuZ3RoKSB7XG4gICAgICAgIHJlY3Vyc2UoY2hpbGRyZW4pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJlY3Vyc2UoYXJyKVxuXG4gIHJldHVybiBmbGF0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vPFREZXBzIGV4dGVuZHMgcmVhZG9ubHkgYW55W10sIFREZXBBcmdzLCBUUmVzdWx0PihcbiAgZ2V0RGVwczogKGRlcEFyZ3M/OiBURGVwQXJncykgPT4gWy4uLlREZXBzXSxcbiAgZm46ICguLi5hcmdzOiBOb0luZmVyPFsuLi5URGVwc10+KSA9PiBUUmVzdWx0LFxuICBvcHRzOiB7XG4gICAga2V5OiBhbnlcbiAgICBkZWJ1Zz86ICgpID0+IGFueVxuICAgIG9uQ2hhbmdlPzogKHJlc3VsdDogVFJlc3VsdCkgPT4gdm9pZFxuICB9XG4pOiAoZGVwQXJncz86IFREZXBBcmdzKSA9PiBUUmVzdWx0IHtcbiAgbGV0IGRlcHM6IGFueVtdID0gW11cbiAgbGV0IHJlc3VsdDogVFJlc3VsdCB8IHVuZGVmaW5lZFxuXG4gIHJldHVybiBkZXBBcmdzID0+IHtcbiAgICBsZXQgZGVwVGltZTogbnVtYmVyXG4gICAgaWYgKG9wdHMua2V5ICYmIG9wdHMuZGVidWcpIGRlcFRpbWUgPSBEYXRlLm5vdygpXG5cbiAgICBjb25zdCBuZXdEZXBzID0gZ2V0RGVwcyhkZXBBcmdzKVxuXG4gICAgY29uc3QgZGVwc0NoYW5nZWQgPVxuICAgICAgbmV3RGVwcy5sZW5ndGggIT09IGRlcHMubGVuZ3RoIHx8XG4gICAgICBuZXdEZXBzLnNvbWUoKGRlcDogYW55LCBpbmRleDogbnVtYmVyKSA9PiBkZXBzW2luZGV4XSAhPT0gZGVwKVxuXG4gICAgaWYgKCFkZXBzQ2hhbmdlZCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCFcbiAgICB9XG5cbiAgICBkZXBzID0gbmV3RGVwc1xuXG4gICAgbGV0IHJlc3VsdFRpbWU6IG51bWJlclxuICAgIGlmIChvcHRzLmtleSAmJiBvcHRzLmRlYnVnKSByZXN1bHRUaW1lID0gRGF0ZS5ub3coKVxuXG4gICAgcmVzdWx0ID0gZm4oLi4ubmV3RGVwcylcbiAgICBvcHRzPy5vbkNoYW5nZT8uKHJlc3VsdClcblxuICAgIGlmIChvcHRzLmtleSAmJiBvcHRzLmRlYnVnKSB7XG4gICAgICBpZiAob3B0cz8uZGVidWcoKSkge1xuICAgICAgICBjb25zdCBkZXBFbmRUaW1lID0gTWF0aC5yb3VuZCgoRGF0ZS5ub3coKSAtIGRlcFRpbWUhKSAqIDEwMCkgLyAxMDBcbiAgICAgICAgY29uc3QgcmVzdWx0RW5kVGltZSA9IE1hdGgucm91bmQoKERhdGUubm93KCkgLSByZXN1bHRUaW1lISkgKiAxMDApIC8gMTAwXG4gICAgICAgIGNvbnN0IHJlc3VsdEZwc1BlcmNlbnRhZ2UgPSByZXN1bHRFbmRUaW1lIC8gMTZcblxuICAgICAgICBjb25zdCBwYWQgPSAoc3RyOiBudW1iZXIgfCBzdHJpbmcsIG51bTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgc3RyID0gU3RyaW5nKHN0cilcbiAgICAgICAgICB3aGlsZSAoc3RyLmxlbmd0aCA8IG51bSkge1xuICAgICAgICAgICAgc3RyID0gJyAnICsgc3RyXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgICBgJWPij7EgJHtwYWQocmVzdWx0RW5kVGltZSwgNSl9IC8ke3BhZChkZXBFbmRUaW1lLCA1KX0gbXNgLFxuICAgICAgICAgIGBcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogLjZyZW07XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIGNvbG9yOiBoc2woJHtNYXRoLm1heChcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgTWF0aC5taW4oMTIwIC0gMTIwICogcmVzdWx0RnBzUGVyY2VudGFnZSwgMTIwKVxuICAgICAgICAgICAgKX1kZWcgMTAwJSAzMSUpO2AsXG4gICAgICAgICAgb3B0cz8ua2V5XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0IVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW1vT3B0aW9ucyhcbiAgdGFibGVPcHRpb25zOiBQYXJ0aWFsPFRhYmxlT3B0aW9uc1Jlc29sdmVkPGFueT4+LFxuICBkZWJ1Z0xldmVsOlxuICAgIHwgJ2RlYnVnQWxsJ1xuICAgIHwgJ2RlYnVnQ2VsbHMnXG4gICAgfCAnZGVidWdUYWJsZSdcbiAgICB8ICdkZWJ1Z0NvbHVtbnMnXG4gICAgfCAnZGVidWdSb3dzJ1xuICAgIHwgJ2RlYnVnSGVhZGVycycsXG4gIGtleTogc3RyaW5nLFxuICBvbkNoYW5nZT86IChyZXN1bHQ6IGFueSkgPT4gdm9pZFxuKSB7XG4gIHJldHVybiB7XG4gICAgZGVidWc6ICgpID0+IHRhYmxlT3B0aW9ucz8uZGVidWdBbGwgPz8gdGFibGVPcHRpb25zW2RlYnVnTGV2ZWxdLFxuICAgIGtleTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYga2V5LFxuICAgIG9uQ2hhbmdlLFxuICB9XG59XG4iLCJpbXBvcnQgeyBSb3dEYXRhLCBDZWxsLCBDb2x1bW4sIFJvdywgVGFibGUgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IEdldHRlciwgZ2V0TWVtb09wdGlvbnMsIG1lbW8gfSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IGludGVyZmFjZSBDZWxsQ29udGV4dDxURGF0YSBleHRlbmRzIFJvd0RhdGEsIFRWYWx1ZT4ge1xuICBjZWxsOiBDZWxsPFREYXRhLCBUVmFsdWU+XG4gIGNvbHVtbjogQ29sdW1uPFREYXRhLCBUVmFsdWU+XG4gIGdldFZhbHVlOiBHZXR0ZXI8VFZhbHVlPlxuICByZW5kZXJWYWx1ZTogR2V0dGVyPFRWYWx1ZSB8IG51bGw+XG4gIHJvdzogUm93PFREYXRhPlxuICB0YWJsZTogVGFibGU8VERhdGE+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZUNlbGw8VERhdGEgZXh0ZW5kcyBSb3dEYXRhLCBUVmFsdWU+IHtcbiAgLyoqXG4gICAqIFRoZSBhc3NvY2lhdGVkIENvbHVtbiBvYmplY3QgZm9yIHRoZSBjZWxsLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvY2VsbCNjb2x1bW4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jZWxscylcbiAgICovXG4gIGNvbHVtbjogQ29sdW1uPFREYXRhLCBUVmFsdWU+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZW5kZXJpbmcgY29udGV4dCAob3IgcHJvcHMpIGZvciBjZWxsLWJhc2VkIGNvbXBvbmVudHMgbGlrZSBjZWxscyBhbmQgYWdncmVnYXRlZCBjZWxscy4gVXNlIHRoZXNlIHByb3BzIHdpdGggeW91ciBmcmFtZXdvcmsncyBgZmxleFJlbmRlcmAgdXRpbGl0eSB0byByZW5kZXIgdGhlc2UgdXNpbmcgdGhlIHRlbXBsYXRlIG9mIHlvdXIgY2hvaWNlOlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvY2VsbCNnZXRjb250ZXh0KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY2VsbHMpXG4gICAqL1xuICBnZXRDb250ZXh0OiAoKSA9PiBDZWxsQ29udGV4dDxURGF0YSwgVFZhbHVlPlxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgZm9yIHRoZSBjZWxsLCBhY2Nlc3NlZCB2aWEgdGhlIGFzc29jaWF0ZWQgY29sdW1uJ3MgYWNjZXNzb3Iga2V5IG9yIGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvY2VsbCNnZXR2YWx1ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NlbGxzKVxuICAgKi9cbiAgZ2V0VmFsdWU6IENlbGxDb250ZXh0PFREYXRhLCBUVmFsdWU+WydnZXRWYWx1ZSddXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIElEIGZvciB0aGUgY2VsbCBhY3Jvc3MgdGhlIGVudGlyZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2NlbGwjaWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jZWxscylcbiAgICovXG4gIGlkOiBzdHJpbmdcbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIHZhbHVlIGZvciBhIGNlbGwgdGhlIHNhbWUgYXMgYGdldFZhbHVlYCwgYnV0IHdpbGwgcmV0dXJuIHRoZSBgcmVuZGVyRmFsbGJhY2tWYWx1ZWAgaWYgbm8gdmFsdWUgaXMgZm91bmQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9jZWxsI3JlbmRlcnZhbHVlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY2VsbHMpXG4gICAqL1xuICByZW5kZXJWYWx1ZTogQ2VsbENvbnRleHQ8VERhdGEsIFRWYWx1ZT5bJ3JlbmRlclZhbHVlJ11cbiAgLyoqXG4gICAqIFRoZSBhc3NvY2lhdGVkIFJvdyBvYmplY3QgZm9yIHRoZSBjZWxsLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvY2VsbCNyb3cpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jZWxscylcbiAgICovXG4gIHJvdzogUm93PFREYXRhPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2VsbDxURGF0YSBleHRlbmRzIFJvd0RhdGEsIFRWYWx1ZT4oXG4gIHRhYmxlOiBUYWJsZTxURGF0YT4sXG4gIHJvdzogUm93PFREYXRhPixcbiAgY29sdW1uOiBDb2x1bW48VERhdGEsIFRWYWx1ZT4sXG4gIGNvbHVtbklkOiBzdHJpbmdcbik6IENlbGw8VERhdGEsIFRWYWx1ZT4ge1xuICBjb25zdCBnZXRSZW5kZXJWYWx1ZSA9ICgpID0+XG4gICAgY2VsbC5nZXRWYWx1ZSgpID8/IHRhYmxlLm9wdGlvbnMucmVuZGVyRmFsbGJhY2tWYWx1ZVxuXG4gIGNvbnN0IGNlbGw6IENvcmVDZWxsPFREYXRhLCBUVmFsdWU+ID0ge1xuICAgIGlkOiBgJHtyb3cuaWR9XyR7Y29sdW1uLmlkfWAsXG4gICAgcm93LFxuICAgIGNvbHVtbixcbiAgICBnZXRWYWx1ZTogKCkgPT4gcm93LmdldFZhbHVlKGNvbHVtbklkKSxcbiAgICByZW5kZXJWYWx1ZTogZ2V0UmVuZGVyVmFsdWUsXG4gICAgZ2V0Q29udGV4dDogbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZSwgY29sdW1uLCByb3csIGNlbGxdLFxuICAgICAgKHRhYmxlLCBjb2x1bW4sIHJvdywgY2VsbCkgPT4gKHtcbiAgICAgICAgdGFibGUsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgcm93LFxuICAgICAgICBjZWxsOiBjZWxsIGFzIENlbGw8VERhdGEsIFRWYWx1ZT4sXG4gICAgICAgIGdldFZhbHVlOiBjZWxsLmdldFZhbHVlLFxuICAgICAgICByZW5kZXJWYWx1ZTogY2VsbC5yZW5kZXJWYWx1ZSxcbiAgICAgIH0pLFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnQ2VsbHMnLCAnY2VsbC5nZXRDb250ZXh0JylcbiAgICApLFxuICB9XG5cbiAgdGFibGUuX2ZlYXR1cmVzLmZvckVhY2goZmVhdHVyZSA9PiB7XG4gICAgZmVhdHVyZS5jcmVhdGVDZWxsPy4oXG4gICAgICBjZWxsIGFzIENlbGw8VERhdGEsIFRWYWx1ZT4sXG4gICAgICBjb2x1bW4sXG4gICAgICByb3cgYXMgUm93PFREYXRhPixcbiAgICAgIHRhYmxlXG4gICAgKVxuICB9LCB7fSlcblxuICByZXR1cm4gY2VsbCBhcyBDZWxsPFREYXRhLCBUVmFsdWU+XG59XG4iLCJpbXBvcnQge1xuICBDb2x1bW4sXG4gIFRhYmxlLFxuICBBY2Nlc3NvckZuLFxuICBDb2x1bW5EZWYsXG4gIFJvd0RhdGEsXG4gIENvbHVtbkRlZlJlc29sdmVkLFxufSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IGdldE1lbW9PcHRpb25zLCBtZW1vIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZUNvbHVtbjxURGF0YSBleHRlbmRzIFJvd0RhdGEsIFRWYWx1ZT4ge1xuICAvKipcbiAgICogVGhlIHJlc29sdmVkIGFjY2Vzc29yIGZ1bmN0aW9uIHRvIHVzZSB3aGVuIGV4dHJhY3RpbmcgdGhlIHZhbHVlIGZvciB0aGUgY29sdW1uIGZyb20gZWFjaCByb3cuIFdpbGwgb25seSBiZSBkZWZpbmVkIGlmIHRoZSBjb2x1bW4gZGVmIGhhcyBhIHZhbGlkIGFjY2Vzc29yIGtleSBvciBmdW5jdGlvbiBkZWZpbmVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvY29sdW1uI2FjY2Vzc29yZm4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZGVmcylcbiAgICovXG4gIGFjY2Vzc29yRm4/OiBBY2Nlc3NvckZuPFREYXRhLCBUVmFsdWU+XG4gIC8qKlxuICAgKiBUaGUgb3JpZ2luYWwgY29sdW1uIGRlZiB1c2VkIHRvIGNyZWF0ZSB0aGUgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvY29sdW1uI2NvbHVtbmRlZilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1kZWZzKVxuICAgKi9cbiAgY29sdW1uRGVmOiBDb2x1bW5EZWY8VERhdGEsIFRWYWx1ZT5cbiAgLyoqXG4gICAqIFRoZSBjaGlsZCBjb2x1bW4gKGlmIHRoZSBjb2x1bW4gaXMgYSBncm91cCBjb2x1bW4pLiBXaWxsIGJlIGFuIGVtcHR5IGFycmF5IGlmIHRoZSBjb2x1bW4gaXMgbm90IGEgZ3JvdXAgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvY29sdW1uI2NvbHVtbnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZGVmcylcbiAgICovXG4gIGNvbHVtbnM6IENvbHVtbjxURGF0YSwgVFZhbHVlPltdXG4gIC8qKlxuICAgKiBUaGUgZGVwdGggb2YgdGhlIGNvbHVtbiAoaWYgZ3JvdXBlZCkgcmVsYXRpdmUgdG8gdGhlIHJvb3QgY29sdW1uIGRlZiBhcnJheS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2NvbHVtbiNkZXB0aClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1kZWZzKVxuICAgKi9cbiAgZGVwdGg6IG51bWJlclxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmxhdHRlbmVkIGFycmF5IG9mIHRoaXMgY29sdW1uIGFuZCBhbGwgY2hpbGQvZ3JhbmQtY2hpbGQgY29sdW1ucyBmb3IgdGhpcyBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9jb2x1bW4jZ2V0ZmxhdGNvbHVtbnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZGVmcylcbiAgICovXG4gIGdldEZsYXRDb2x1bW5zOiAoKSA9PiBDb2x1bW48VERhdGEsIFRWYWx1ZT5bXVxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgbGVhZi1ub2RlIGNvbHVtbnMgZm9yIHRoaXMgY29sdW1uLiBJZiBhIGNvbHVtbiBoYXMgbm8gY2hpbGRyZW4sIGl0IGlzIGNvbnNpZGVyZWQgdGhlIG9ubHkgbGVhZi1ub2RlIGNvbHVtbi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2NvbHVtbiNnZXRsZWFmY29sdW1ucylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1kZWZzKVxuICAgKi9cbiAgZ2V0TGVhZkNvbHVtbnM6ICgpID0+IENvbHVtbjxURGF0YSwgVFZhbHVlPltdXG4gIC8qKlxuICAgKiBUaGUgcmVzb2x2ZWQgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjb2x1bW4gcmVzb2x2ZWQgaW4gdGhpcyBwcmlvcml0eTpcbiAgICAgIC0gQSBtYW51YWwgYGlkYCBwcm9wZXJ0eSBmcm9tIHRoZSBjb2x1bW4gZGVmXG4gICAgICAtIFRoZSBhY2Nlc3NvciBrZXkgZnJvbSB0aGUgY29sdW1uIGRlZlxuICAgICAgLSBUaGUgaGVhZGVyIHN0cmluZyBmcm9tIHRoZSBjb2x1bW4gZGVmXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9jb2x1bW4jaWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZGVmcylcbiAgICovXG4gIGlkOiBzdHJpbmdcbiAgLyoqXG4gICAqIFRoZSBwYXJlbnQgY29sdW1uIGZvciB0aGlzIGNvbHVtbi4gV2lsbCBiZSB1bmRlZmluZWQgaWYgdGhpcyBpcyBhIHJvb3QgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvY29sdW1uI3BhcmVudClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1kZWZzKVxuICAgKi9cbiAgcGFyZW50PzogQ29sdW1uPFREYXRhLCBUVmFsdWU+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb2x1bW48VERhdGEgZXh0ZW5kcyBSb3dEYXRhLCBUVmFsdWU+KFxuICB0YWJsZTogVGFibGU8VERhdGE+LFxuICBjb2x1bW5EZWY6IENvbHVtbkRlZjxURGF0YSwgVFZhbHVlPixcbiAgZGVwdGg6IG51bWJlcixcbiAgcGFyZW50PzogQ29sdW1uPFREYXRhLCBUVmFsdWU+XG4pOiBDb2x1bW48VERhdGEsIFRWYWx1ZT4ge1xuICBjb25zdCBkZWZhdWx0Q29sdW1uID0gdGFibGUuX2dldERlZmF1bHRDb2x1bW5EZWYoKVxuXG4gIGNvbnN0IHJlc29sdmVkQ29sdW1uRGVmID0ge1xuICAgIC4uLmRlZmF1bHRDb2x1bW4sXG4gICAgLi4uY29sdW1uRGVmLFxuICB9IGFzIENvbHVtbkRlZlJlc29sdmVkPFREYXRhPlxuXG4gIGNvbnN0IGFjY2Vzc29yS2V5ID0gcmVzb2x2ZWRDb2x1bW5EZWYuYWNjZXNzb3JLZXlcblxuICBsZXQgaWQgPVxuICAgIHJlc29sdmVkQ29sdW1uRGVmLmlkID8/XG4gICAgKGFjY2Vzc29yS2V5XG4gICAgICA/IHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VBbGwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBhY2Nlc3NvcktleS5yZXBsYWNlQWxsKCcuJywgJ18nKVxuICAgICAgICA6IGFjY2Vzc29yS2V5LnJlcGxhY2UoL1xcLi9nLCAnXycpXG4gICAgICA6IHVuZGVmaW5lZCkgPz9cbiAgICAodHlwZW9mIHJlc29sdmVkQ29sdW1uRGVmLmhlYWRlciA9PT0gJ3N0cmluZydcbiAgICAgID8gcmVzb2x2ZWRDb2x1bW5EZWYuaGVhZGVyXG4gICAgICA6IHVuZGVmaW5lZClcblxuICBsZXQgYWNjZXNzb3JGbjogQWNjZXNzb3JGbjxURGF0YT4gfCB1bmRlZmluZWRcblxuICBpZiAocmVzb2x2ZWRDb2x1bW5EZWYuYWNjZXNzb3JGbikge1xuICAgIGFjY2Vzc29yRm4gPSByZXNvbHZlZENvbHVtbkRlZi5hY2Nlc3NvckZuXG4gIH0gZWxzZSBpZiAoYWNjZXNzb3JLZXkpIHtcbiAgICAvLyBTdXBwb3J0IGRlZXAgYWNjZXNzb3Iga2V5c1xuICAgIGlmIChhY2Nlc3NvcktleS5pbmNsdWRlcygnLicpKSB7XG4gICAgICBhY2Nlc3NvckZuID0gKG9yaWdpbmFsUm93OiBURGF0YSkgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gb3JpZ2luYWxSb3cgYXMgUmVjb3JkPHN0cmluZywgYW55PlxuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGFjY2Vzc29yS2V5LnNwbGl0KCcuJykpIHtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQ/LltrZXldXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgcmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgYFwiJHtrZXl9XCIgaW4gZGVlcGx5IG5lc3RlZCBrZXkgXCIke2FjY2Vzc29yS2V5fVwiIHJldHVybmVkIHVuZGVmaW5lZC5gXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhY2Nlc3NvckZuID0gKG9yaWdpbmFsUm93OiBURGF0YSkgPT5cbiAgICAgICAgKG9yaWdpbmFsUm93IGFzIGFueSlbcmVzb2x2ZWRDb2x1bW5EZWYuYWNjZXNzb3JLZXldXG4gICAgfVxuICB9XG5cbiAgaWYgKCFpZCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIHJlc29sdmVkQ29sdW1uRGVmLmFjY2Vzc29yRm5cbiAgICAgICAgICA/IGBDb2x1bW5zIHJlcXVpcmUgYW4gaWQgd2hlbiB1c2luZyBhbiBhY2Nlc3NvckZuYFxuICAgICAgICAgIDogYENvbHVtbnMgcmVxdWlyZSBhbiBpZCB3aGVuIHVzaW5nIGEgbm9uLXN0cmluZyBoZWFkZXJgXG4gICAgICApXG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcigpXG4gIH1cblxuICBsZXQgY29sdW1uOiBDb3JlQ29sdW1uPFREYXRhLCBhbnk+ID0ge1xuICAgIGlkOiBgJHtTdHJpbmcoaWQpfWAsXG4gICAgYWNjZXNzb3JGbixcbiAgICBwYXJlbnQ6IHBhcmVudCBhcyBhbnksXG4gICAgZGVwdGgsXG4gICAgY29sdW1uRGVmOiByZXNvbHZlZENvbHVtbkRlZiBhcyBDb2x1bW5EZWY8VERhdGEsIGFueT4sXG4gICAgY29sdW1uczogW10sXG4gICAgZ2V0RmxhdENvbHVtbnM6IG1lbW8oXG4gICAgICAoKSA9PiBbdHJ1ZV0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgY29sdW1uIGFzIENvbHVtbjxURGF0YSwgVFZhbHVlPixcbiAgICAgICAgICAuLi5jb2x1bW4uY29sdW1ucz8uZmxhdE1hcChkID0+IGQuZ2V0RmxhdENvbHVtbnMoKSksXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdDb2x1bW5zJywgJ2NvbHVtbi5nZXRGbGF0Q29sdW1ucycpXG4gICAgKSxcbiAgICBnZXRMZWFmQ29sdW1uczogbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5fZ2V0T3JkZXJDb2x1bW5zRm4oKV0sXG4gICAgICBvcmRlckNvbHVtbnMgPT4ge1xuICAgICAgICBpZiAoY29sdW1uLmNvbHVtbnM/Lmxlbmd0aCkge1xuICAgICAgICAgIGxldCBsZWFmQ29sdW1ucyA9IGNvbHVtbi5jb2x1bW5zLmZsYXRNYXAoY29sdW1uID0+XG4gICAgICAgICAgICBjb2x1bW4uZ2V0TGVhZkNvbHVtbnMoKVxuICAgICAgICAgIClcblxuICAgICAgICAgIHJldHVybiBvcmRlckNvbHVtbnMobGVhZkNvbHVtbnMpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW2NvbHVtbiBhcyBDb2x1bW48VERhdGEsIFRWYWx1ZT5dXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnQ29sdW1ucycsICdjb2x1bW4uZ2V0TGVhZkNvbHVtbnMnKVxuICAgICksXG4gIH1cblxuICBmb3IgKGNvbnN0IGZlYXR1cmUgb2YgdGFibGUuX2ZlYXR1cmVzKSB7XG4gICAgZmVhdHVyZS5jcmVhdGVDb2x1bW4/Lihjb2x1bW4gYXMgQ29sdW1uPFREYXRhLCBUVmFsdWU+LCB0YWJsZSlcbiAgfVxuXG4gIC8vIFllcywgd2UgaGF2ZSB0byBjb252ZXJ0IHRhYmxlIHRvIHVua25vd24sIGJlY2F1c2Ugd2Uga25vdyBtb3JlIHRoYW4gdGhlIGNvbXBpbGVyIGhlcmUuXG4gIHJldHVybiBjb2x1bW4gYXMgQ29sdW1uPFREYXRhLCBUVmFsdWU+XG59XG4iLCJpbXBvcnQge1xuICBSb3dEYXRhLFxuICBDb2x1bW4sXG4gIEhlYWRlcixcbiAgSGVhZGVyR3JvdXAsXG4gIFRhYmxlLFxuICBUYWJsZUZlYXR1cmUsXG59IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0TWVtb09wdGlvbnMsIG1lbW8gfSBmcm9tICcuLi91dGlscydcblxuY29uc3QgZGVidWcgPSAnZGVidWdIZWFkZXJzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVIZWFkZXJHcm91cDxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgZGVwdGg6IG51bWJlclxuICBoZWFkZXJzOiBIZWFkZXI8VERhdGEsIHVua25vd24+W11cbiAgaWQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWRlckNvbnRleHQ8VERhdGEsIFRWYWx1ZT4ge1xuICAvKipcbiAgICogQW4gaW5zdGFuY2Ugb2YgYSBjb2x1bW4uXG4gICAqL1xuICBjb2x1bW46IENvbHVtbjxURGF0YSwgVFZhbHVlPlxuICAvKipcbiAgICogQW4gaW5zdGFuY2Ugb2YgYSBoZWFkZXIuXG4gICAqL1xuICBoZWFkZXI6IEhlYWRlcjxURGF0YSwgVFZhbHVlPlxuICAvKipcbiAgICogVGhlIHRhYmxlIGluc3RhbmNlLlxuICAgKi9cbiAgdGFibGU6IFRhYmxlPFREYXRhPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVIZWFkZXI8VERhdGEgZXh0ZW5kcyBSb3dEYXRhLCBUVmFsdWU+IHtcbiAgLyoqXG4gICAqIFRoZSBjb2wtc3BhbiBmb3IgdGhlIGhlYWRlci5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlciNjb2xzcGFuKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvaGVhZGVycylcbiAgICovXG4gIGNvbFNwYW46IG51bWJlclxuICAvKipcbiAgICogVGhlIGhlYWRlcidzIGFzc29jaWF0ZWQgY29sdW1uIG9iamVjdC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlciNjb2x1bW4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgY29sdW1uOiBDb2x1bW48VERhdGEsIFRWYWx1ZT5cbiAgLyoqXG4gICAqIFRoZSBkZXB0aCBvZiB0aGUgaGVhZGVyLCB6ZXJvLWluZGV4ZWQgYmFzZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXIjZGVwdGgpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgZGVwdGg6IG51bWJlclxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVuZGVyaW5nIGNvbnRleHQgKG9yIHByb3BzKSBmb3IgY29sdW1uLWJhc2VkIGNvbXBvbmVudHMgbGlrZSBoZWFkZXJzLCBmb290ZXJzIGFuZCBmaWx0ZXJzLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVyI2dldGNvbnRleHQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgZ2V0Q29udGV4dDogKCkgPT4gSGVhZGVyQ29udGV4dDxURGF0YSwgVFZhbHVlPlxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGVhZiBoZWFkZXJzIGhpZXJhcmNoaWNhbGx5IG5lc3RlZCB1bmRlciB0aGlzIGhlYWRlci5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlciNnZXRsZWFmaGVhZGVycylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2hlYWRlcnMpXG4gICAqL1xuICBnZXRMZWFmSGVhZGVyczogKCkgPT4gSGVhZGVyPFREYXRhLCB1bmtub3duPltdXG4gIC8qKlxuICAgKiBUaGUgaGVhZGVyJ3MgYXNzb2NpYXRlZCBoZWFkZXIgZ3JvdXAgb2JqZWN0LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVyI2hlYWRlcmdyb3VwKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvaGVhZGVycylcbiAgICovXG4gIGhlYWRlckdyb3VwOiBIZWFkZXJHcm91cDxURGF0YT5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGhlYWRlci5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlciNpZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2hlYWRlcnMpXG4gICAqL1xuICBpZDogc3RyaW5nXG4gIC8qKlxuICAgKiBUaGUgaW5kZXggZm9yIHRoZSBoZWFkZXIgd2l0aGluIHRoZSBoZWFkZXIgZ3JvdXAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXIjaW5kZXgpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgaW5kZXg6IG51bWJlclxuICAvKipcbiAgICogQSBib29sZWFuIGRlbm90aW5nIGlmIHRoZSBoZWFkZXIgaXMgYSBwbGFjZWhvbGRlciBoZWFkZXIuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXIjaXNwbGFjZWhvbGRlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2hlYWRlcnMpXG4gICAqL1xuICBpc1BsYWNlaG9sZGVyOiBib29sZWFuXG4gIC8qKlxuICAgKiBJZiB0aGUgaGVhZGVyIGlzIGEgcGxhY2Vob2xkZXIgaGVhZGVyLCB0aGlzIHdpbGwgYmUgYSB1bmlxdWUgaGVhZGVyIElEIHRoYXQgZG9lcyBub3QgY29uZmxpY3Qgd2l0aCBhbnkgb3RoZXIgaGVhZGVycyBhY3Jvc3MgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVyI3BsYWNlaG9sZGVyaWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgcGxhY2Vob2xkZXJJZD86IHN0cmluZ1xuICAvKipcbiAgICogVGhlIHJvdy1zcGFuIGZvciB0aGUgaGVhZGVyLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVyI3Jvd3NwYW4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgcm93U3BhbjogbnVtYmVyXG4gIC8qKlxuICAgKiBUaGUgaGVhZGVyJ3MgaGllcmFyY2hpY2FsIHN1Yi9jaGlsZCBoZWFkZXJzLiBXaWxsIGJlIGVtcHR5IGlmIHRoZSBoZWFkZXIncyBhc3NvY2lhdGVkIGNvbHVtbiBpcyBhIGxlYWYtY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVyI3N1YmhlYWRlcnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgc3ViSGVhZGVyczogSGVhZGVyPFREYXRhLCBUVmFsdWU+W11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBIZWFkZXJzSW5zdGFuY2U8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCBoZWFkZXIgZ3JvdXBzIGZvciB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXJzI2dldGhlYWRlcmdyb3VwcylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2hlYWRlcnMpXG4gICAqL1xuICBnZXRIZWFkZXJHcm91cHM6ICgpID0+IEhlYWRlckdyb3VwPFREYXRhPltdXG4gIC8qKlxuICAgKiBJZiBwaW5uaW5nLCByZXR1cm5zIHRoZSBoZWFkZXIgZ3JvdXBzIGZvciB0aGUgbGVmdCBwaW5uZWQgY29sdW1ucy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlcnMjZ2V0bGVmdGhlYWRlcmdyb3VwcylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2hlYWRlcnMpXG4gICAqL1xuICBnZXRMZWZ0SGVhZGVyR3JvdXBzOiAoKSA9PiBIZWFkZXJHcm91cDxURGF0YT5bXVxuICAvKipcbiAgICogSWYgcGlubmluZywgcmV0dXJucyB0aGUgaGVhZGVyIGdyb3VwcyBmb3IgY29sdW1ucyB0aGF0IGFyZSBub3QgcGlubmVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVycyNnZXRjZW50ZXJoZWFkZXJncm91cHMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgZ2V0Q2VudGVySGVhZGVyR3JvdXBzOiAoKSA9PiBIZWFkZXJHcm91cDxURGF0YT5bXVxuICAvKipcbiAgICogSWYgcGlubmluZywgcmV0dXJucyB0aGUgaGVhZGVyIGdyb3VwcyBmb3IgdGhlIHJpZ2h0IHBpbm5lZCBjb2x1bW5zLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVycyNnZXRyaWdodGhlYWRlcmdyb3VwcylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2hlYWRlcnMpXG4gICAqL1xuICBnZXRSaWdodEhlYWRlckdyb3VwczogKCkgPT4gSGVhZGVyR3JvdXA8VERhdGE+W11cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZm9vdGVyIGdyb3VwcyBmb3IgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVycyNnZXRmb290ZXJncm91cHMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgZ2V0Rm9vdGVyR3JvdXBzOiAoKSA9PiBIZWFkZXJHcm91cDxURGF0YT5bXVxuICAvKipcbiAgICogSWYgcGlubmluZywgcmV0dXJucyB0aGUgZm9vdGVyIGdyb3VwcyBmb3IgdGhlIGxlZnQgcGlubmVkIGNvbHVtbnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXJzI2dldGxlZnRmb290ZXJncm91cHMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgZ2V0TGVmdEZvb3Rlckdyb3VwczogKCkgPT4gSGVhZGVyR3JvdXA8VERhdGE+W11cbiAgLyoqXG4gICAqIElmIHBpbm5pbmcsIHJldHVybnMgdGhlIGZvb3RlciBncm91cHMgZm9yIGNvbHVtbnMgdGhhdCBhcmUgbm90IHBpbm5lZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlcnMjZ2V0Y2VudGVyZm9vdGVyZ3JvdXBzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvaGVhZGVycylcbiAgICovXG4gIGdldENlbnRlckZvb3Rlckdyb3VwczogKCkgPT4gSGVhZGVyR3JvdXA8VERhdGE+W11cbiAgLyoqXG4gICAqIElmIHBpbm5pbmcsIHJldHVybnMgdGhlIGZvb3RlciBncm91cHMgZm9yIHRoZSByaWdodCBwaW5uZWQgY29sdW1ucy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlcnMjZ2V0cmlnaHRmb290ZXJncm91cHMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgZ2V0UmlnaHRGb290ZXJHcm91cHM6ICgpID0+IEhlYWRlckdyb3VwPFREYXRhPltdXG5cbiAgLyoqXG4gICAqIFJldHVybnMgaGVhZGVycyBmb3IgYWxsIGNvbHVtbnMgaW4gdGhlIHRhYmxlLCBpbmNsdWRpbmcgcGFyZW50IGhlYWRlcnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXJzI2dldGZsYXRoZWFkZXJzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvaGVhZGVycylcbiAgICovXG4gIGdldEZsYXRIZWFkZXJzOiAoKSA9PiBIZWFkZXI8VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIElmIHBpbm5pbmcsIHJldHVybnMgaGVhZGVycyBmb3IgYWxsIGxlZnQgcGlubmVkIGNvbHVtbnMgaW4gdGhlIHRhYmxlLCBpbmNsdWRpbmcgcGFyZW50IGhlYWRlcnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXJzI2dldGxlZnRmbGF0aGVhZGVycylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2hlYWRlcnMpXG4gICAqL1xuICBnZXRMZWZ0RmxhdEhlYWRlcnM6ICgpID0+IEhlYWRlcjxURGF0YSwgdW5rbm93bj5bXVxuICAvKipcbiAgICogSWYgcGlubmluZywgcmV0dXJucyBoZWFkZXJzIGZvciBhbGwgY29sdW1ucyB0aGF0IGFyZSBub3QgcGlubmVkLCBpbmNsdWRpbmcgcGFyZW50IGhlYWRlcnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXJzI2dldGNlbnRlcmZsYXRoZWFkZXJzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvaGVhZGVycylcbiAgICovXG4gIGdldENlbnRlckZsYXRIZWFkZXJzOiAoKSA9PiBIZWFkZXI8VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIElmIHBpbm5pbmcsIHJldHVybnMgaGVhZGVycyBmb3IgYWxsIHJpZ2h0IHBpbm5lZCBjb2x1bW5zIGluIHRoZSB0YWJsZSwgaW5jbHVkaW5nIHBhcmVudCBoZWFkZXJzLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvaGVhZGVycyNnZXRyaWdodGZsYXRoZWFkZXJzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvaGVhZGVycylcbiAgICovXG4gIGdldFJpZ2h0RmxhdEhlYWRlcnM6ICgpID0+IEhlYWRlcjxURGF0YSwgdW5rbm93bj5bXVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGhlYWRlcnMgZm9yIGFsbCBsZWFmIGNvbHVtbnMgaW4gdGhlIHRhYmxlLCAobm90IGluY2x1ZGluZyBwYXJlbnQgaGVhZGVycykuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9oZWFkZXJzI2dldGxlYWZoZWFkZXJzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvaGVhZGVycylcbiAgICovXG4gIGdldExlYWZIZWFkZXJzOiAoKSA9PiBIZWFkZXI8VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIElmIHBpbm5pbmcsIHJldHVybnMgaGVhZGVycyBmb3IgYWxsIGxlZnQgcGlubmVkIGxlYWYgY29sdW1ucyBpbiB0aGUgdGFibGUsIChub3QgaW5jbHVkaW5nIHBhcmVudCBoZWFkZXJzKS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlcnMjZ2V0bGVmdGxlYWZoZWFkZXJzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvaGVhZGVycylcbiAgICovXG4gIGdldExlZnRMZWFmSGVhZGVyczogKCkgPT4gSGVhZGVyPFREYXRhLCB1bmtub3duPltdXG4gIC8qKlxuICAgKiBJZiBwaW5uaW5nLCByZXR1cm5zIGhlYWRlcnMgZm9yIGFsbCBjb2x1bW5zIHRoYXQgYXJlIG5vdCBwaW5uZWQsIChub3QgaW5jbHVkaW5nIHBhcmVudCBoZWFkZXJzKS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlcnMjZ2V0Y2VudGVybGVhZmhlYWRlcnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9oZWFkZXJzKVxuICAgKi9cbiAgZ2V0Q2VudGVyTGVhZkhlYWRlcnM6ICgpID0+IEhlYWRlcjxURGF0YSwgdW5rbm93bj5bXVxuICAvKipcbiAgICogSWYgcGlubmluZywgcmV0dXJucyBoZWFkZXJzIGZvciBhbGwgcmlnaHQgcGlubmVkIGxlYWYgY29sdW1ucyBpbiB0aGUgdGFibGUsIChub3QgaW5jbHVkaW5nIHBhcmVudCBoZWFkZXJzKS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL2hlYWRlcnMjZ2V0cmlnaHRsZWFmaGVhZGVycylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2hlYWRlcnMpXG4gICAqL1xuICBnZXRSaWdodExlYWZIZWFkZXJzOiAoKSA9PiBIZWFkZXI8VERhdGEsIHVua25vd24+W11cbn1cblxuLy9cblxuZnVuY3Rpb24gY3JlYXRlSGVhZGVyPFREYXRhIGV4dGVuZHMgUm93RGF0YSwgVFZhbHVlPihcbiAgdGFibGU6IFRhYmxlPFREYXRhPixcbiAgY29sdW1uOiBDb2x1bW48VERhdGEsIFRWYWx1ZT4sXG4gIG9wdGlvbnM6IHtcbiAgICBpZD86IHN0cmluZ1xuICAgIGlzUGxhY2Vob2xkZXI/OiBib29sZWFuXG4gICAgcGxhY2Vob2xkZXJJZD86IHN0cmluZ1xuICAgIGluZGV4OiBudW1iZXJcbiAgICBkZXB0aDogbnVtYmVyXG4gIH1cbik6IEhlYWRlcjxURGF0YSwgVFZhbHVlPiB7XG4gIGNvbnN0IGlkID0gb3B0aW9ucy5pZCA/PyBjb2x1bW4uaWRcblxuICBsZXQgaGVhZGVyOiBDb3JlSGVhZGVyPFREYXRhLCBUVmFsdWU+ID0ge1xuICAgIGlkLFxuICAgIGNvbHVtbixcbiAgICBpbmRleDogb3B0aW9ucy5pbmRleCxcbiAgICBpc1BsYWNlaG9sZGVyOiAhIW9wdGlvbnMuaXNQbGFjZWhvbGRlcixcbiAgICBwbGFjZWhvbGRlcklkOiBvcHRpb25zLnBsYWNlaG9sZGVySWQsXG4gICAgZGVwdGg6IG9wdGlvbnMuZGVwdGgsXG4gICAgc3ViSGVhZGVyczogW10sXG4gICAgY29sU3BhbjogMCxcbiAgICByb3dTcGFuOiAwLFxuICAgIGhlYWRlckdyb3VwOiBudWxsISxcbiAgICBnZXRMZWFmSGVhZGVyczogKCk6IEhlYWRlcjxURGF0YSwgdW5rbm93bj5bXSA9PiB7XG4gICAgICBjb25zdCBsZWFmSGVhZGVyczogSGVhZGVyPFREYXRhLCB1bmtub3duPltdID0gW11cblxuICAgICAgY29uc3QgcmVjdXJzZUhlYWRlciA9IChoOiBDb3JlSGVhZGVyPFREYXRhLCBhbnk+KSA9PiB7XG4gICAgICAgIGlmIChoLnN1YkhlYWRlcnMgJiYgaC5zdWJIZWFkZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGguc3ViSGVhZGVycy5tYXAocmVjdXJzZUhlYWRlcilcbiAgICAgICAgfVxuICAgICAgICBsZWFmSGVhZGVycy5wdXNoKGggYXMgSGVhZGVyPFREYXRhLCB1bmtub3duPilcbiAgICAgIH1cblxuICAgICAgcmVjdXJzZUhlYWRlcihoZWFkZXIpXG5cbiAgICAgIHJldHVybiBsZWFmSGVhZGVyc1xuICAgIH0sXG4gICAgZ2V0Q29udGV4dDogKCkgPT4gKHtcbiAgICAgIHRhYmxlLFxuICAgICAgaGVhZGVyOiBoZWFkZXIgYXMgSGVhZGVyPFREYXRhLCBUVmFsdWU+LFxuICAgICAgY29sdW1uLFxuICAgIH0pLFxuICB9XG5cbiAgdGFibGUuX2ZlYXR1cmVzLmZvckVhY2goZmVhdHVyZSA9PiB7XG4gICAgZmVhdHVyZS5jcmVhdGVIZWFkZXI/LihoZWFkZXIgYXMgSGVhZGVyPFREYXRhLCBUVmFsdWU+LCB0YWJsZSlcbiAgfSlcblxuICByZXR1cm4gaGVhZGVyIGFzIEhlYWRlcjxURGF0YSwgVFZhbHVlPlxufVxuXG5leHBvcnQgY29uc3QgSGVhZGVyczogVGFibGVGZWF0dXJlID0ge1xuICBjcmVhdGVUYWJsZTogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4odGFibGU6IFRhYmxlPFREYXRhPik6IHZvaWQgPT4ge1xuICAgIC8vIEhlYWRlciBHcm91cHNcblxuICAgIHRhYmxlLmdldEhlYWRlckdyb3VwcyA9IG1lbW8oXG4gICAgICAoKSA9PiBbXG4gICAgICAgIHRhYmxlLmdldEFsbENvbHVtbnMoKSxcbiAgICAgICAgdGFibGUuZ2V0VmlzaWJsZUxlYWZDb2x1bW5zKCksXG4gICAgICAgIHRhYmxlLmdldFN0YXRlKCkuY29sdW1uUGlubmluZy5sZWZ0LFxuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblBpbm5pbmcucmlnaHQsXG4gICAgICBdLFxuICAgICAgKGFsbENvbHVtbnMsIGxlYWZDb2x1bW5zLCBsZWZ0LCByaWdodCkgPT4ge1xuICAgICAgICBjb25zdCBsZWZ0Q29sdW1ucyA9XG4gICAgICAgICAgbGVmdFxuICAgICAgICAgICAgPy5tYXAoY29sdW1uSWQgPT4gbGVhZkNvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKSEpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pID8/IFtdXG5cbiAgICAgICAgY29uc3QgcmlnaHRDb2x1bW5zID1cbiAgICAgICAgICByaWdodFxuICAgICAgICAgICAgPy5tYXAoY29sdW1uSWQgPT4gbGVhZkNvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKSEpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pID8/IFtdXG5cbiAgICAgICAgY29uc3QgY2VudGVyQ29sdW1ucyA9IGxlYWZDb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICBjb2x1bW4gPT4gIWxlZnQ/LmluY2x1ZGVzKGNvbHVtbi5pZCkgJiYgIXJpZ2h0Py5pbmNsdWRlcyhjb2x1bW4uaWQpXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCBoZWFkZXJHcm91cHMgPSBidWlsZEhlYWRlckdyb3VwcyhcbiAgICAgICAgICBhbGxDb2x1bW5zLFxuICAgICAgICAgIFsuLi5sZWZ0Q29sdW1ucywgLi4uY2VudGVyQ29sdW1ucywgLi4ucmlnaHRDb2x1bW5zXSxcbiAgICAgICAgICB0YWJsZVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIGhlYWRlckdyb3Vwc1xuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsIGRlYnVnLCAnZ2V0SGVhZGVyR3JvdXBzJylcbiAgICApXG5cbiAgICB0YWJsZS5nZXRDZW50ZXJIZWFkZXJHcm91cHMgPSBtZW1vKFxuICAgICAgKCkgPT4gW1xuICAgICAgICB0YWJsZS5nZXRBbGxDb2x1bW5zKCksXG4gICAgICAgIHRhYmxlLmdldFZpc2libGVMZWFmQ29sdW1ucygpLFxuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblBpbm5pbmcubGVmdCxcbiAgICAgICAgdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5QaW5uaW5nLnJpZ2h0LFxuICAgICAgXSxcbiAgICAgIChhbGxDb2x1bW5zLCBsZWFmQ29sdW1ucywgbGVmdCwgcmlnaHQpID0+IHtcbiAgICAgICAgbGVhZkNvbHVtbnMgPSBsZWFmQ29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgY29sdW1uID0+ICFsZWZ0Py5pbmNsdWRlcyhjb2x1bW4uaWQpICYmICFyaWdodD8uaW5jbHVkZXMoY29sdW1uLmlkKVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBidWlsZEhlYWRlckdyb3VwcyhhbGxDb2x1bW5zLCBsZWFmQ29sdW1ucywgdGFibGUsICdjZW50ZXInKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsIGRlYnVnLCAnZ2V0Q2VudGVySGVhZGVyR3JvdXBzJylcbiAgICApXG5cbiAgICB0YWJsZS5nZXRMZWZ0SGVhZGVyR3JvdXBzID0gbWVtbyhcbiAgICAgICgpID0+IFtcbiAgICAgICAgdGFibGUuZ2V0QWxsQ29sdW1ucygpLFxuICAgICAgICB0YWJsZS5nZXRWaXNpYmxlTGVhZkNvbHVtbnMoKSxcbiAgICAgICAgdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5QaW5uaW5nLmxlZnQsXG4gICAgICBdLFxuICAgICAgKGFsbENvbHVtbnMsIGxlYWZDb2x1bW5zLCBsZWZ0KSA9PiB7XG4gICAgICAgIGNvbnN0IG9yZGVyZWRMZWFmQ29sdW1ucyA9XG4gICAgICAgICAgbGVmdFxuICAgICAgICAgICAgPy5tYXAoY29sdW1uSWQgPT4gbGVhZkNvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKSEpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pID8/IFtdXG5cbiAgICAgICAgcmV0dXJuIGJ1aWxkSGVhZGVyR3JvdXBzKGFsbENvbHVtbnMsIG9yZGVyZWRMZWFmQ29sdW1ucywgdGFibGUsICdsZWZ0JylcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCBkZWJ1ZywgJ2dldExlZnRIZWFkZXJHcm91cHMnKVxuICAgIClcblxuICAgIHRhYmxlLmdldFJpZ2h0SGVhZGVyR3JvdXBzID0gbWVtbyhcbiAgICAgICgpID0+IFtcbiAgICAgICAgdGFibGUuZ2V0QWxsQ29sdW1ucygpLFxuICAgICAgICB0YWJsZS5nZXRWaXNpYmxlTGVhZkNvbHVtbnMoKSxcbiAgICAgICAgdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5QaW5uaW5nLnJpZ2h0LFxuICAgICAgXSxcbiAgICAgIChhbGxDb2x1bW5zLCBsZWFmQ29sdW1ucywgcmlnaHQpID0+IHtcbiAgICAgICAgY29uc3Qgb3JkZXJlZExlYWZDb2x1bW5zID1cbiAgICAgICAgICByaWdodFxuICAgICAgICAgICAgPy5tYXAoY29sdW1uSWQgPT4gbGVhZkNvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKSEpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pID8/IFtdXG5cbiAgICAgICAgcmV0dXJuIGJ1aWxkSGVhZGVyR3JvdXBzKGFsbENvbHVtbnMsIG9yZGVyZWRMZWFmQ29sdW1ucywgdGFibGUsICdyaWdodCcpXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgZGVidWcsICdnZXRSaWdodEhlYWRlckdyb3VwcycpXG4gICAgKVxuXG4gICAgLy8gRm9vdGVyIEdyb3Vwc1xuXG4gICAgdGFibGUuZ2V0Rm9vdGVyR3JvdXBzID0gbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5nZXRIZWFkZXJHcm91cHMoKV0sXG4gICAgICBoZWFkZXJHcm91cHMgPT4ge1xuICAgICAgICByZXR1cm4gWy4uLmhlYWRlckdyb3Vwc10ucmV2ZXJzZSgpXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgZGVidWcsICdnZXRGb290ZXJHcm91cHMnKVxuICAgIClcblxuICAgIHRhYmxlLmdldExlZnRGb290ZXJHcm91cHMgPSBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldExlZnRIZWFkZXJHcm91cHMoKV0sXG4gICAgICBoZWFkZXJHcm91cHMgPT4ge1xuICAgICAgICByZXR1cm4gWy4uLmhlYWRlckdyb3Vwc10ucmV2ZXJzZSgpXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgZGVidWcsICdnZXRMZWZ0Rm9vdGVyR3JvdXBzJylcbiAgICApXG5cbiAgICB0YWJsZS5nZXRDZW50ZXJGb290ZXJHcm91cHMgPSBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldENlbnRlckhlYWRlckdyb3VwcygpXSxcbiAgICAgIGhlYWRlckdyb3VwcyA9PiB7XG4gICAgICAgIHJldHVybiBbLi4uaGVhZGVyR3JvdXBzXS5yZXZlcnNlKClcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCBkZWJ1ZywgJ2dldENlbnRlckZvb3Rlckdyb3VwcycpXG4gICAgKVxuXG4gICAgdGFibGUuZ2V0UmlnaHRGb290ZXJHcm91cHMgPSBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldFJpZ2h0SGVhZGVyR3JvdXBzKCldLFxuICAgICAgaGVhZGVyR3JvdXBzID0+IHtcbiAgICAgICAgcmV0dXJuIFsuLi5oZWFkZXJHcm91cHNdLnJldmVyc2UoKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsIGRlYnVnLCAnZ2V0UmlnaHRGb290ZXJHcm91cHMnKVxuICAgIClcblxuICAgIC8vIEZsYXQgSGVhZGVyc1xuXG4gICAgdGFibGUuZ2V0RmxhdEhlYWRlcnMgPSBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldEhlYWRlckdyb3VwcygpXSxcbiAgICAgIGhlYWRlckdyb3VwcyA9PiB7XG4gICAgICAgIHJldHVybiBoZWFkZXJHcm91cHNcbiAgICAgICAgICAubWFwKGhlYWRlckdyb3VwID0+IHtcbiAgICAgICAgICAgIHJldHVybiBoZWFkZXJHcm91cC5oZWFkZXJzXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmxhdCgpXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgZGVidWcsICdnZXRGbGF0SGVhZGVycycpXG4gICAgKVxuXG4gICAgdGFibGUuZ2V0TGVmdEZsYXRIZWFkZXJzID0gbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5nZXRMZWZ0SGVhZGVyR3JvdXBzKCldLFxuICAgICAgbGVmdCA9PiB7XG4gICAgICAgIHJldHVybiBsZWZ0XG4gICAgICAgICAgLm1hcChoZWFkZXJHcm91cCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyR3JvdXAuaGVhZGVyc1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZsYXQoKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsIGRlYnVnLCAnZ2V0TGVmdEZsYXRIZWFkZXJzJylcbiAgICApXG5cbiAgICB0YWJsZS5nZXRDZW50ZXJGbGF0SGVhZGVycyA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0Q2VudGVySGVhZGVyR3JvdXBzKCldLFxuICAgICAgbGVmdCA9PiB7XG4gICAgICAgIHJldHVybiBsZWZ0XG4gICAgICAgICAgLm1hcChoZWFkZXJHcm91cCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyR3JvdXAuaGVhZGVyc1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZsYXQoKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsIGRlYnVnLCAnZ2V0Q2VudGVyRmxhdEhlYWRlcnMnKVxuICAgIClcblxuICAgIHRhYmxlLmdldFJpZ2h0RmxhdEhlYWRlcnMgPSBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldFJpZ2h0SGVhZGVyR3JvdXBzKCldLFxuICAgICAgbGVmdCA9PiB7XG4gICAgICAgIHJldHVybiBsZWZ0XG4gICAgICAgICAgLm1hcChoZWFkZXJHcm91cCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyR3JvdXAuaGVhZGVyc1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZsYXQoKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsIGRlYnVnLCAnZ2V0UmlnaHRGbGF0SGVhZGVycycpXG4gICAgKVxuXG4gICAgLy8gTGVhZiBIZWFkZXJzXG5cbiAgICB0YWJsZS5nZXRDZW50ZXJMZWFmSGVhZGVycyA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0Q2VudGVyRmxhdEhlYWRlcnMoKV0sXG4gICAgICBmbGF0SGVhZGVycyA9PiB7XG4gICAgICAgIHJldHVybiBmbGF0SGVhZGVycy5maWx0ZXIoaGVhZGVyID0+ICFoZWFkZXIuc3ViSGVhZGVycz8ubGVuZ3RoKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsIGRlYnVnLCAnZ2V0Q2VudGVyTGVhZkhlYWRlcnMnKVxuICAgIClcblxuICAgIHRhYmxlLmdldExlZnRMZWFmSGVhZGVycyA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0TGVmdEZsYXRIZWFkZXJzKCldLFxuICAgICAgZmxhdEhlYWRlcnMgPT4ge1xuICAgICAgICByZXR1cm4gZmxhdEhlYWRlcnMuZmlsdGVyKGhlYWRlciA9PiAhaGVhZGVyLnN1YkhlYWRlcnM/Lmxlbmd0aClcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCBkZWJ1ZywgJ2dldExlZnRMZWFmSGVhZGVycycpXG4gICAgKVxuXG4gICAgdGFibGUuZ2V0UmlnaHRMZWFmSGVhZGVycyA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0UmlnaHRGbGF0SGVhZGVycygpXSxcbiAgICAgIGZsYXRIZWFkZXJzID0+IHtcbiAgICAgICAgcmV0dXJuIGZsYXRIZWFkZXJzLmZpbHRlcihoZWFkZXIgPT4gIWhlYWRlci5zdWJIZWFkZXJzPy5sZW5ndGgpXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgZGVidWcsICdnZXRSaWdodExlYWZIZWFkZXJzJylcbiAgICApXG5cbiAgICB0YWJsZS5nZXRMZWFmSGVhZGVycyA9IG1lbW8oXG4gICAgICAoKSA9PiBbXG4gICAgICAgIHRhYmxlLmdldExlZnRIZWFkZXJHcm91cHMoKSxcbiAgICAgICAgdGFibGUuZ2V0Q2VudGVySGVhZGVyR3JvdXBzKCksXG4gICAgICAgIHRhYmxlLmdldFJpZ2h0SGVhZGVyR3JvdXBzKCksXG4gICAgICBdLFxuICAgICAgKGxlZnQsIGNlbnRlciwgcmlnaHQpID0+IHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAuLi4obGVmdFswXT8uaGVhZGVycyA/PyBbXSksXG4gICAgICAgICAgLi4uKGNlbnRlclswXT8uaGVhZGVycyA/PyBbXSksXG4gICAgICAgICAgLi4uKHJpZ2h0WzBdPy5oZWFkZXJzID8/IFtdKSxcbiAgICAgICAgXVxuICAgICAgICAgIC5tYXAoaGVhZGVyID0+IHtcbiAgICAgICAgICAgIHJldHVybiBoZWFkZXIuZ2V0TGVhZkhlYWRlcnMoKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZsYXQoKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsIGRlYnVnLCAnZ2V0TGVhZkhlYWRlcnMnKVxuICAgIClcbiAgfSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkSGVhZGVyR3JvdXBzPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gIGFsbENvbHVtbnM6IENvbHVtbjxURGF0YSwgdW5rbm93bj5bXSxcbiAgY29sdW1uc1RvR3JvdXA6IENvbHVtbjxURGF0YSwgdW5rbm93bj5bXSxcbiAgdGFibGU6IFRhYmxlPFREYXRhPixcbiAgaGVhZGVyRmFtaWx5PzogJ2NlbnRlcicgfCAnbGVmdCcgfCAncmlnaHQnXG4pIHtcbiAgLy8gRmluZCB0aGUgbWF4IGRlcHRoIG9mIHRoZSBjb2x1bW5zOlxuICAvLyBidWlsZCB0aGUgbGVhZiBjb2x1bW4gcm93XG4gIC8vIGJ1aWxkIGVhY2ggYnVmZmVyIHJvdyBnb2luZyB1cFxuICAvLyAgICBwbGFjZWhvbGRlciBmb3Igbm9uLWV4aXN0ZW50IGxldmVsXG4gIC8vICAgIHJlYWwgY29sdW1uIGZvciBleGlzdGluZyBsZXZlbFxuXG4gIGxldCBtYXhEZXB0aCA9IDBcblxuICBjb25zdCBmaW5kTWF4RGVwdGggPSAoY29sdW1uczogQ29sdW1uPFREYXRhLCB1bmtub3duPltdLCBkZXB0aCA9IDEpID0+IHtcbiAgICBtYXhEZXB0aCA9IE1hdGgubWF4KG1heERlcHRoLCBkZXB0aClcblxuICAgIGNvbHVtbnNcbiAgICAgIC5maWx0ZXIoY29sdW1uID0+IGNvbHVtbi5nZXRJc1Zpc2libGUoKSlcbiAgICAgIC5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgICAgIGlmIChjb2x1bW4uY29sdW1ucz8ubGVuZ3RoKSB7XG4gICAgICAgICAgZmluZE1heERlcHRoKGNvbHVtbi5jb2x1bW5zLCBkZXB0aCArIDEpXG4gICAgICAgIH1cbiAgICAgIH0sIDApXG4gIH1cblxuICBmaW5kTWF4RGVwdGgoYWxsQ29sdW1ucylcblxuICBsZXQgaGVhZGVyR3JvdXBzOiBIZWFkZXJHcm91cDxURGF0YT5bXSA9IFtdXG5cbiAgY29uc3QgY3JlYXRlSGVhZGVyR3JvdXAgPSAoXG4gICAgaGVhZGVyc1RvR3JvdXA6IEhlYWRlcjxURGF0YSwgdW5rbm93bj5bXSxcbiAgICBkZXB0aDogbnVtYmVyXG4gICkgPT4ge1xuICAgIC8vIFRoZSBoZWFkZXIgZ3JvdXAgd2UgYXJlIGNyZWF0aW5nXG4gICAgY29uc3QgaGVhZGVyR3JvdXA6IEhlYWRlckdyb3VwPFREYXRhPiA9IHtcbiAgICAgIGRlcHRoLFxuICAgICAgaWQ6IFtoZWFkZXJGYW1pbHksIGAke2RlcHRofWBdLmZpbHRlcihCb29sZWFuKS5qb2luKCdfJyksXG4gICAgICBoZWFkZXJzOiBbXSxcbiAgICB9XG5cbiAgICAvLyBUaGUgcGFyZW50IGNvbHVtbnMgd2UncmUgZ29pbmcgdG8gc2NhbiBuZXh0XG4gICAgY29uc3QgcGVuZGluZ1BhcmVudEhlYWRlcnM6IEhlYWRlcjxURGF0YSwgdW5rbm93bj5bXSA9IFtdXG5cbiAgICAvLyBTY2FuIGVhY2ggY29sdW1uIGZvciBwYXJlbnRzXG4gICAgaGVhZGVyc1RvR3JvdXAuZm9yRWFjaChoZWFkZXJUb0dyb3VwID0+IHtcbiAgICAgIC8vIFdoYXQgaXMgdGhlIGxhdGVzdCAobGFzdCkgcGFyZW50IGNvbHVtbj9cblxuICAgICAgY29uc3QgbGF0ZXN0UGVuZGluZ1BhcmVudEhlYWRlciA9IFsuLi5wZW5kaW5nUGFyZW50SGVhZGVyc10ucmV2ZXJzZSgpWzBdXG5cbiAgICAgIGNvbnN0IGlzTGVhZkhlYWRlciA9IGhlYWRlclRvR3JvdXAuY29sdW1uLmRlcHRoID09PSBoZWFkZXJHcm91cC5kZXB0aFxuXG4gICAgICBsZXQgY29sdW1uOiBDb2x1bW48VERhdGEsIHVua25vd24+XG4gICAgICBsZXQgaXNQbGFjZWhvbGRlciA9IGZhbHNlXG5cbiAgICAgIGlmIChpc0xlYWZIZWFkZXIgJiYgaGVhZGVyVG9Hcm91cC5jb2x1bW4ucGFyZW50KSB7XG4gICAgICAgIC8vIFRoZSBwYXJlbnQgaGVhZGVyIGlzIG5ld1xuICAgICAgICBjb2x1bW4gPSBoZWFkZXJUb0dyb3VwLmNvbHVtbi5wYXJlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoZSBwYXJlbnQgaGVhZGVyIGlzIHJlcGVhdGVkXG4gICAgICAgIGNvbHVtbiA9IGhlYWRlclRvR3JvdXAuY29sdW1uXG4gICAgICAgIGlzUGxhY2Vob2xkZXIgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgbGF0ZXN0UGVuZGluZ1BhcmVudEhlYWRlciAmJlxuICAgICAgICBsYXRlc3RQZW5kaW5nUGFyZW50SGVhZGVyPy5jb2x1bW4gPT09IGNvbHVtblxuICAgICAgKSB7XG4gICAgICAgIC8vIFRoaXMgY29sdW1uIGlzIHJlcGVhdGVkLiBBZGQgaXQgYXMgYSBzdWIgaGVhZGVyIHRvIHRoZSBuZXh0IGJhdGNoXG4gICAgICAgIGxhdGVzdFBlbmRpbmdQYXJlbnRIZWFkZXIuc3ViSGVhZGVycy5wdXNoKGhlYWRlclRvR3JvdXApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGlzIGEgbmV3IGhlYWRlci4gTGV0J3MgY3JlYXRlIGl0XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGNyZWF0ZUhlYWRlcih0YWJsZSwgY29sdW1uLCB7XG4gICAgICAgICAgaWQ6IFtoZWFkZXJGYW1pbHksIGRlcHRoLCBjb2x1bW4uaWQsIGhlYWRlclRvR3JvdXA/LmlkXVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgLmpvaW4oJ18nKSxcbiAgICAgICAgICBpc1BsYWNlaG9sZGVyLFxuICAgICAgICAgIHBsYWNlaG9sZGVySWQ6IGlzUGxhY2Vob2xkZXJcbiAgICAgICAgICAgID8gYCR7cGVuZGluZ1BhcmVudEhlYWRlcnMuZmlsdGVyKGQgPT4gZC5jb2x1bW4gPT09IGNvbHVtbikubGVuZ3RofWBcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgIGluZGV4OiBwZW5kaW5nUGFyZW50SGVhZGVycy5sZW5ndGgsXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gQWRkIHRoZSBoZWFkZXJUb0dyb3VwIGFzIGEgc3ViSGVhZGVyIG9mIHRoZSBuZXcgaGVhZGVyXG4gICAgICAgIGhlYWRlci5zdWJIZWFkZXJzLnB1c2goaGVhZGVyVG9Hcm91cClcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgaGVhZGVyIHRvIHRoZSBwZW5kaW5nUGFyZW50SGVhZGVycyB0byBnZXQgZ3JvdXBlZFxuICAgICAgICAvLyBpbiB0aGUgbmV4dCBiYXRjaFxuICAgICAgICBwZW5kaW5nUGFyZW50SGVhZGVycy5wdXNoKGhlYWRlcilcbiAgICAgIH1cblxuICAgICAgaGVhZGVyR3JvdXAuaGVhZGVycy5wdXNoKGhlYWRlclRvR3JvdXApXG4gICAgICBoZWFkZXJUb0dyb3VwLmhlYWRlckdyb3VwID0gaGVhZGVyR3JvdXBcbiAgICB9KVxuXG4gICAgaGVhZGVyR3JvdXBzLnB1c2goaGVhZGVyR3JvdXApXG5cbiAgICBpZiAoZGVwdGggPiAwKSB7XG4gICAgICBjcmVhdGVIZWFkZXJHcm91cChwZW5kaW5nUGFyZW50SGVhZGVycywgZGVwdGggLSAxKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJvdHRvbUhlYWRlcnMgPSBjb2x1bW5zVG9Hcm91cC5tYXAoKGNvbHVtbiwgaW5kZXgpID0+XG4gICAgY3JlYXRlSGVhZGVyKHRhYmxlLCBjb2x1bW4sIHtcbiAgICAgIGRlcHRoOiBtYXhEZXB0aCxcbiAgICAgIGluZGV4LFxuICAgIH0pXG4gIClcblxuICBjcmVhdGVIZWFkZXJHcm91cChib3R0b21IZWFkZXJzLCBtYXhEZXB0aCAtIDEpXG5cbiAgaGVhZGVyR3JvdXBzLnJldmVyc2UoKVxuXG4gIC8vIGhlYWRlckdyb3VwcyA9IGhlYWRlckdyb3Vwcy5maWx0ZXIoaGVhZGVyR3JvdXAgPT4ge1xuICAvLyAgIHJldHVybiAhaGVhZGVyR3JvdXAuaGVhZGVycy5ldmVyeShoZWFkZXIgPT4gaGVhZGVyLmlzUGxhY2Vob2xkZXIpXG4gIC8vIH0pXG5cbiAgY29uc3QgcmVjdXJzZUhlYWRlcnNGb3JTcGFucyA9IChcbiAgICBoZWFkZXJzOiBIZWFkZXI8VERhdGEsIHVua25vd24+W11cbiAgKTogeyBjb2xTcGFuOiBudW1iZXI7IHJvd1NwYW46IG51bWJlciB9W10gPT4ge1xuICAgIGNvbnN0IGZpbHRlcmVkSGVhZGVycyA9IGhlYWRlcnMuZmlsdGVyKGhlYWRlciA9PlxuICAgICAgaGVhZGVyLmNvbHVtbi5nZXRJc1Zpc2libGUoKVxuICAgIClcblxuICAgIHJldHVybiBmaWx0ZXJlZEhlYWRlcnMubWFwKGhlYWRlciA9PiB7XG4gICAgICBsZXQgY29sU3BhbiA9IDBcbiAgICAgIGxldCByb3dTcGFuID0gMFxuICAgICAgbGV0IGNoaWxkUm93U3BhbnMgPSBbMF1cblxuICAgICAgaWYgKGhlYWRlci5zdWJIZWFkZXJzICYmIGhlYWRlci5zdWJIZWFkZXJzLmxlbmd0aCkge1xuICAgICAgICBjaGlsZFJvd1NwYW5zID0gW11cblxuICAgICAgICByZWN1cnNlSGVhZGVyc0ZvclNwYW5zKGhlYWRlci5zdWJIZWFkZXJzKS5mb3JFYWNoKFxuICAgICAgICAgICh7IGNvbFNwYW46IGNoaWxkQ29sU3Bhbiwgcm93U3BhbjogY2hpbGRSb3dTcGFuIH0pID0+IHtcbiAgICAgICAgICAgIGNvbFNwYW4gKz0gY2hpbGRDb2xTcGFuXG4gICAgICAgICAgICBjaGlsZFJvd1NwYW5zLnB1c2goY2hpbGRSb3dTcGFuKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sU3BhbiA9IDFcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWluQ2hpbGRSb3dTcGFuID0gTWF0aC5taW4oLi4uY2hpbGRSb3dTcGFucylcbiAgICAgIHJvd1NwYW4gPSByb3dTcGFuICsgbWluQ2hpbGRSb3dTcGFuXG5cbiAgICAgIGhlYWRlci5jb2xTcGFuID0gY29sU3BhblxuICAgICAgaGVhZGVyLnJvd1NwYW4gPSByb3dTcGFuXG5cbiAgICAgIHJldHVybiB7IGNvbFNwYW4sIHJvd1NwYW4gfVxuICAgIH0pXG4gIH1cblxuICByZWN1cnNlSGVhZGVyc0ZvclNwYW5zKGhlYWRlckdyb3Vwc1swXT8uaGVhZGVycyA/PyBbXSlcblxuICByZXR1cm4gaGVhZGVyR3JvdXBzXG59XG4iLCJpbXBvcnQgeyBSb3dEYXRhLCBDZWxsLCBSb3csIFRhYmxlIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBmbGF0dGVuQnksIGdldE1lbW9PcHRpb25zLCBtZW1vIH0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyBjcmVhdGVDZWxsIH0gZnJvbSAnLi9jZWxsJ1xuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVSb3c8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIF9nZXRBbGxDZWxsc0J5Q29sdW1uSWQ6ICgpID0+IFJlY29yZDxzdHJpbmcsIENlbGw8VERhdGEsIHVua25vd24+PlxuICBfdW5pcXVlVmFsdWVzQ2FjaGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4gIF92YWx1ZXNDYWNoZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbiAgLyoqXG4gICAqIFRoZSBkZXB0aCBvZiB0aGUgcm93IChpZiBuZXN0ZWQgb3IgZ3JvdXBlZCkgcmVsYXRpdmUgdG8gdGhlIHJvb3Qgcm93IGFycmF5LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvcm93I2RlcHRoKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93cylcbiAgICovXG4gIGRlcHRoOiBudW1iZXJcbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIG9mIHRoZSBjZWxscyBmb3IgdGhlIHJvdy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3JvdyNnZXRhbGxjZWxscylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvd3MpXG4gICAqL1xuICBnZXRBbGxDZWxsczogKCkgPT4gQ2VsbDxURGF0YSwgdW5rbm93bj5bXVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGVhZiByb3dzIGZvciB0aGUgcm93LCBub3QgaW5jbHVkaW5nIGFueSBwYXJlbnQgcm93cy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3JvdyNnZXRsZWFmcm93cylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvd3MpXG4gICAqL1xuICBnZXRMZWFmUm93czogKCkgPT4gUm93PFREYXRhPltdXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwYXJlbnQgcm93IGZvciB0aGUgcm93LCBpZiBpdCBleGlzdHMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9yb3cjZ2V0cGFyZW50cm93KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93cylcbiAgICovXG4gIGdldFBhcmVudFJvdzogKCkgPT4gUm93PFREYXRhPiB8IHVuZGVmaW5lZFxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcGFyZW50IHJvd3MgZm9yIHRoZSByb3csIGFsbCB0aGUgd2F5IHVwIHRvIGEgcm9vdCByb3cuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9yb3cjZ2V0cGFyZW50cm93cylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvd3MpXG4gICAqL1xuICBnZXRQYXJlbnRSb3dzOiAoKSA9PiBSb3c8VERhdGE+W11cbiAgLyoqXG4gICAqIFJldHVybnMgYSB1bmlxdWUgYXJyYXkgb2YgdmFsdWVzIGZyb20gdGhlIHJvdyBmb3IgYSBnaXZlbiBjb2x1bW5JZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3JvdyNnZXR1bmlxdWV2YWx1ZXMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3dzKVxuICAgKi9cbiAgZ2V0VW5pcXVlVmFsdWVzOiA8VFZhbHVlPihjb2x1bW5JZDogc3RyaW5nKSA9PiBUVmFsdWVbXVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgZnJvbSB0aGUgcm93IGZvciBhIGdpdmVuIGNvbHVtbklkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvcm93I2dldHZhbHVlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93cylcbiAgICovXG4gIGdldFZhbHVlOiA8VFZhbHVlPihjb2x1bW5JZDogc3RyaW5nKSA9PiBUVmFsdWVcbiAgLyoqXG4gICAqIFRoZSByZXNvbHZlZCB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHJvdyByZXNvbHZlZCB2aWEgdGhlIGBvcHRpb25zLmdldFJvd0lkYCBvcHRpb24uIERlZmF1bHRzIHRvIHRoZSByb3cncyBpbmRleCAob3IgcmVsYXRpdmUgaW5kZXggaWYgaXQgaXMgYSBzdWJSb3cpLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvcm93I2lkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93cylcbiAgICovXG4gIGlkOiBzdHJpbmdcbiAgLyoqXG4gICAqIFRoZSBpbmRleCBvZiB0aGUgcm93IHdpdGhpbiBpdHMgcGFyZW50IGFycmF5IChvciB0aGUgcm9vdCBkYXRhIGFycmF5KS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3JvdyNpbmRleClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvd3MpXG4gICAqL1xuICBpbmRleDogbnVtYmVyXG4gIC8qKlxuICAgKiBUaGUgb3JpZ2luYWwgcm93IG9iamVjdCBwcm92aWRlZCB0byB0aGUgdGFibGUuIElmIHRoZSByb3cgaXMgYSBncm91cGVkIHJvdywgdGhlIG9yaWdpbmFsIHJvdyBvYmplY3Qgd2lsbCBiZSB0aGUgZmlyc3Qgb3JpZ2luYWwgaW4gdGhlIGdyb3VwLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvcm93I29yaWdpbmFsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93cylcbiAgICovXG4gIG9yaWdpbmFsOiBURGF0YVxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgdGhlIG9yaWdpbmFsIHN1YlJvd3MgYXMgcmV0dXJuZWQgYnkgdGhlIGBvcHRpb25zLmdldFN1YlJvd3NgIG9wdGlvbi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3JvdyNvcmlnaW5hbHN1YnJvd3MpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3dzKVxuICAgKi9cbiAgb3JpZ2luYWxTdWJSb3dzPzogVERhdGFbXVxuICAvKipcbiAgICogSWYgbmVzdGVkLCB0aGlzIHJvdydzIHBhcmVudCByb3cgaWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9yb3cjcGFyZW50aWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3dzKVxuICAgKi9cbiAgcGFyZW50SWQ/OiBzdHJpbmdcbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIHZhbHVlIGZvciB0aGUgcm93IGluIGEgZ2l2ZW4gY29sdW1uSWQgdGhlIHNhbWUgYXMgYGdldFZhbHVlYCwgYnV0IHdpbGwgcmV0dXJuIHRoZSBgcmVuZGVyRmFsbGJhY2tWYWx1ZWAgaWYgbm8gdmFsdWUgaXMgZm91bmQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS9yb3cjcmVuZGVydmFsdWUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3dzKVxuICAgKi9cbiAgcmVuZGVyVmFsdWU6IDxUVmFsdWU+KGNvbHVtbklkOiBzdHJpbmcpID0+IFRWYWx1ZVxuICAvKipcbiAgICogQW4gYXJyYXkgb2Ygc3ViUm93cyBmb3IgdGhlIHJvdyBhcyByZXR1cm5lZCBhbmQgY3JlYXRlZCBieSB0aGUgYG9wdGlvbnMuZ2V0U3ViUm93c2Agb3B0aW9uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvcm93I3N1YnJvd3MpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3dzKVxuICAgKi9cbiAgc3ViUm93czogUm93PFREYXRhPltdXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSb3cgPSA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgdGFibGU6IFRhYmxlPFREYXRhPixcbiAgaWQ6IHN0cmluZyxcbiAgb3JpZ2luYWw6IFREYXRhLFxuICByb3dJbmRleDogbnVtYmVyLFxuICBkZXB0aDogbnVtYmVyLFxuICBzdWJSb3dzPzogUm93PFREYXRhPltdLFxuICBwYXJlbnRJZD86IHN0cmluZ1xuKTogUm93PFREYXRhPiA9PiB7XG4gIGxldCByb3c6IENvcmVSb3c8VERhdGE+ID0ge1xuICAgIGlkLFxuICAgIGluZGV4OiByb3dJbmRleCxcbiAgICBvcmlnaW5hbCxcbiAgICBkZXB0aCxcbiAgICBwYXJlbnRJZCxcbiAgICBfdmFsdWVzQ2FjaGU6IHt9LFxuICAgIF91bmlxdWVWYWx1ZXNDYWNoZToge30sXG4gICAgZ2V0VmFsdWU6IGNvbHVtbklkID0+IHtcbiAgICAgIGlmIChyb3cuX3ZhbHVlc0NhY2hlLmhhc093blByb3BlcnR5KGNvbHVtbklkKSkge1xuICAgICAgICByZXR1cm4gcm93Ll92YWx1ZXNDYWNoZVtjb2x1bW5JZF1cbiAgICAgIH1cblxuICAgICAgY29uc3QgY29sdW1uID0gdGFibGUuZ2V0Q29sdW1uKGNvbHVtbklkKVxuXG4gICAgICBpZiAoIWNvbHVtbj8uYWNjZXNzb3JGbikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIHJvdy5fdmFsdWVzQ2FjaGVbY29sdW1uSWRdID0gY29sdW1uLmFjY2Vzc29yRm4oXG4gICAgICAgIHJvdy5vcmlnaW5hbCBhcyBURGF0YSxcbiAgICAgICAgcm93SW5kZXhcbiAgICAgIClcblxuICAgICAgcmV0dXJuIHJvdy5fdmFsdWVzQ2FjaGVbY29sdW1uSWRdIGFzIGFueVxuICAgIH0sXG4gICAgZ2V0VW5pcXVlVmFsdWVzOiBjb2x1bW5JZCA9PiB7XG4gICAgICBpZiAocm93Ll91bmlxdWVWYWx1ZXNDYWNoZS5oYXNPd25Qcm9wZXJ0eShjb2x1bW5JZCkpIHtcbiAgICAgICAgcmV0dXJuIHJvdy5fdW5pcXVlVmFsdWVzQ2FjaGVbY29sdW1uSWRdXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbHVtbiA9IHRhYmxlLmdldENvbHVtbihjb2x1bW5JZClcblxuICAgICAgaWYgKCFjb2x1bW4/LmFjY2Vzc29yRm4pIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBpZiAoIWNvbHVtbi5jb2x1bW5EZWYuZ2V0VW5pcXVlVmFsdWVzKSB7XG4gICAgICAgIHJvdy5fdW5pcXVlVmFsdWVzQ2FjaGVbY29sdW1uSWRdID0gW3Jvdy5nZXRWYWx1ZShjb2x1bW5JZCldXG4gICAgICAgIHJldHVybiByb3cuX3VuaXF1ZVZhbHVlc0NhY2hlW2NvbHVtbklkXVxuICAgICAgfVxuXG4gICAgICByb3cuX3VuaXF1ZVZhbHVlc0NhY2hlW2NvbHVtbklkXSA9IGNvbHVtbi5jb2x1bW5EZWYuZ2V0VW5pcXVlVmFsdWVzKFxuICAgICAgICByb3cub3JpZ2luYWwgYXMgVERhdGEsXG4gICAgICAgIHJvd0luZGV4XG4gICAgICApXG5cbiAgICAgIHJldHVybiByb3cuX3VuaXF1ZVZhbHVlc0NhY2hlW2NvbHVtbklkXSBhcyBhbnlcbiAgICB9LFxuICAgIHJlbmRlclZhbHVlOiBjb2x1bW5JZCA9PlxuICAgICAgcm93LmdldFZhbHVlKGNvbHVtbklkKSA/PyB0YWJsZS5vcHRpb25zLnJlbmRlckZhbGxiYWNrVmFsdWUsXG4gICAgc3ViUm93czogc3ViUm93cyA/PyBbXSxcbiAgICBnZXRMZWFmUm93czogKCkgPT4gZmxhdHRlbkJ5KHJvdy5zdWJSb3dzLCBkID0+IGQuc3ViUm93cyksXG4gICAgZ2V0UGFyZW50Um93OiAoKSA9PlxuICAgICAgcm93LnBhcmVudElkID8gdGFibGUuZ2V0Um93KHJvdy5wYXJlbnRJZCwgdHJ1ZSkgOiB1bmRlZmluZWQsXG4gICAgZ2V0UGFyZW50Um93czogKCkgPT4ge1xuICAgICAgbGV0IHBhcmVudFJvd3M6IFJvdzxURGF0YT5bXSA9IFtdXG4gICAgICBsZXQgY3VycmVudFJvdyA9IHJvd1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50Um93ID0gY3VycmVudFJvdy5nZXRQYXJlbnRSb3coKVxuICAgICAgICBpZiAoIXBhcmVudFJvdykgYnJlYWtcbiAgICAgICAgcGFyZW50Um93cy5wdXNoKHBhcmVudFJvdylcbiAgICAgICAgY3VycmVudFJvdyA9IHBhcmVudFJvd1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmVudFJvd3MucmV2ZXJzZSgpXG4gICAgfSxcbiAgICBnZXRBbGxDZWxsczogbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5nZXRBbGxMZWFmQ29sdW1ucygpXSxcbiAgICAgIGxlYWZDb2x1bW5zID0+IHtcbiAgICAgICAgcmV0dXJuIGxlYWZDb2x1bW5zLm1hcChjb2x1bW4gPT4ge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVDZWxsKHRhYmxlLCByb3cgYXMgUm93PFREYXRhPiwgY29sdW1uLCBjb2x1bW4uaWQpXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnUm93cycsICdnZXRBbGxDZWxscycpXG4gICAgKSxcblxuICAgIF9nZXRBbGxDZWxsc0J5Q29sdW1uSWQ6IG1lbW8oXG4gICAgICAoKSA9PiBbcm93LmdldEFsbENlbGxzKCldLFxuICAgICAgYWxsQ2VsbHMgPT4ge1xuICAgICAgICByZXR1cm4gYWxsQ2VsbHMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIGNlbGwpID0+IHtcbiAgICAgICAgICAgIGFjY1tjZWxsLmNvbHVtbi5pZF0gPSBjZWxsXG4gICAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBDZWxsPFREYXRhLCB1bmtub3duPj5cbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsICdkZWJ1Z1Jvd3MnLCAnZ2V0QWxsQ2VsbHNCeUNvbHVtbklkJylcbiAgICApLFxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZS5fZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGFibGUuX2ZlYXR1cmVzW2ldXG4gICAgZmVhdHVyZT8uY3JlYXRlUm93Py4ocm93IGFzIFJvdzxURGF0YT4sIHRhYmxlKVxuICB9XG5cbiAgcmV0dXJuIHJvdyBhcyBSb3c8VERhdGE+XG59XG4iLCJpbXBvcnQgeyBSb3dNb2RlbCB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgQ29sdW1uLCBSb3dEYXRhLCBUYWJsZSwgVGFibGVGZWF0dXJlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgRmFjZXRlZENvbHVtbjxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgX2dldEZhY2V0ZWRNaW5NYXhWYWx1ZXM/OiAoKSA9PiB1bmRlZmluZWQgfCBbbnVtYmVyLCBudW1iZXJdXG4gIF9nZXRGYWNldGVkUm93TW9kZWw/OiAoKSA9PiBSb3dNb2RlbDxURGF0YT5cbiAgX2dldEZhY2V0ZWRVbmlxdWVWYWx1ZXM/OiAoKSA9PiBNYXA8YW55LCBudW1iZXI+XG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIHRoYXQgKipjb21wdXRlcyBhbmQgcmV0dXJucyoqIGEgbWluL21heCB0dXBsZSBkZXJpdmVkIGZyb20gYGNvbHVtbi5nZXRGYWNldGVkUm93TW9kZWxgLiBVc2VmdWwgZm9yIGRpc3BsYXlpbmcgZmFjZXRlZCByZXN1bHQgdmFsdWVzLlxuICAgKiA+IOKaoO+4jyBSZXF1aXJlcyB0aGF0IHlvdSBwYXNzIGEgdmFsaWQgYGdldEZhY2V0ZWRNaW5NYXhWYWx1ZXNgIGZ1bmN0aW9uIHRvIGBvcHRpb25zLmdldEZhY2V0ZWRNaW5NYXhWYWx1ZXNgLiBBIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gaXMgcHJvdmlkZWQgdmlhIHRoZSBleHBvcnRlZCBgZ2V0RmFjZXRlZE1pbk1heFZhbHVlc2AgZnVuY3Rpb24uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZhY2V0aW5nI2dldGZhY2V0ZWRtaW5tYXh2YWx1ZXMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmFjZXRpbmcpXG4gICAqL1xuICBnZXRGYWNldGVkTWluTWF4VmFsdWVzOiAoKSA9PiB1bmRlZmluZWQgfCBbbnVtYmVyLCBudW1iZXJdXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgbW9kZWwgd2l0aCBhbGwgb3RoZXIgY29sdW1uIGZpbHRlcnMgYXBwbGllZCwgZXhjbHVkaW5nIGl0cyBvd24gZmlsdGVyLiBVc2VmdWwgZm9yIGRpc3BsYXlpbmcgZmFjZXRlZCByZXN1bHQgY291bnRzLlxuICAgKiA+IOKaoO+4jyBSZXF1aXJlcyB0aGF0IHlvdSBwYXNzIGEgdmFsaWQgYGdldEZhY2V0ZWRSb3dNb2RlbGAgZnVuY3Rpb24gdG8gYG9wdGlvbnMuZmFjZXRlZFJvd01vZGVsYC4gQSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGlzIHByb3ZpZGVkIHZpYSB0aGUgZXhwb3J0ZWQgYGdldEZhY2V0ZWRSb3dNb2RlbGAgZnVuY3Rpb24uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZhY2V0aW5nI2dldGZhY2V0ZWRyb3dtb2RlbClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1mYWNldGluZylcbiAgICovXG4gIGdldEZhY2V0ZWRSb3dNb2RlbDogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIHRoYXQgKipjb21wdXRlcyBhbmQgcmV0dXJucyoqIGEgYE1hcGAgb2YgdW5pcXVlIHZhbHVlcyBhbmQgdGhlaXIgb2NjdXJyZW5jZXMgZGVyaXZlZCBmcm9tIGBjb2x1bW4uZ2V0RmFjZXRlZFJvd01vZGVsYC4gVXNlZnVsIGZvciBkaXNwbGF5aW5nIGZhY2V0ZWQgcmVzdWx0IHZhbHVlcy5cbiAgICogPiDimqDvuI8gUmVxdWlyZXMgdGhhdCB5b3UgcGFzcyBhIHZhbGlkIGBnZXRGYWNldGVkVW5pcXVlVmFsdWVzYCBmdW5jdGlvbiB0byBgb3B0aW9ucy5nZXRGYWNldGVkVW5pcXVlVmFsdWVzYC4gQSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGlzIHByb3ZpZGVkIHZpYSB0aGUgZXhwb3J0ZWQgYGdldEZhY2V0ZWRVbmlxdWVWYWx1ZXNgIGZ1bmN0aW9uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1mYWNldGluZyNnZXRmYWNldGVkdW5pcXVldmFsdWVzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLWZhY2V0aW5nKVxuICAgKi9cbiAgZ2V0RmFjZXRlZFVuaXF1ZVZhbHVlczogKCkgPT4gTWFwPGFueSwgbnVtYmVyPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZhY2V0ZWRPcHRpb25zPFREYXRhIGV4dGVuZHMgUm93RGF0YT4ge1xuICBnZXRGYWNldGVkTWluTWF4VmFsdWVzPzogKFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT4sXG4gICAgY29sdW1uSWQ6IHN0cmluZ1xuICApID0+ICgpID0+IHVuZGVmaW5lZCB8IFtudW1iZXIsIG51bWJlcl1cbiAgZ2V0RmFjZXRlZFJvd01vZGVsPzogKFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT4sXG4gICAgY29sdW1uSWQ6IHN0cmluZ1xuICApID0+ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICBnZXRGYWNldGVkVW5pcXVlVmFsdWVzPzogKFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT4sXG4gICAgY29sdW1uSWQ6IHN0cmluZ1xuICApID0+ICgpID0+IE1hcDxhbnksIG51bWJlcj5cbn1cblxuLy9cblxuZXhwb3J0IGNvbnN0IENvbHVtbkZhY2V0aW5nOiBUYWJsZUZlYXR1cmUgPSB7XG4gIGNyZWF0ZUNvbHVtbjogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gICAgY29sdW1uOiBDb2x1bW48VERhdGEsIHVua25vd24+LFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogdm9pZCA9PiB7XG4gICAgY29sdW1uLl9nZXRGYWNldGVkUm93TW9kZWwgPVxuICAgICAgdGFibGUub3B0aW9ucy5nZXRGYWNldGVkUm93TW9kZWwgJiZcbiAgICAgIHRhYmxlLm9wdGlvbnMuZ2V0RmFjZXRlZFJvd01vZGVsKHRhYmxlLCBjb2x1bW4uaWQpXG4gICAgY29sdW1uLmdldEZhY2V0ZWRSb3dNb2RlbCA9ICgpID0+IHtcbiAgICAgIGlmICghY29sdW1uLl9nZXRGYWNldGVkUm93TW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlLmdldFByZUZpbHRlcmVkUm93TW9kZWwoKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29sdW1uLl9nZXRGYWNldGVkUm93TW9kZWwoKVxuICAgIH1cbiAgICBjb2x1bW4uX2dldEZhY2V0ZWRVbmlxdWVWYWx1ZXMgPVxuICAgICAgdGFibGUub3B0aW9ucy5nZXRGYWNldGVkVW5pcXVlVmFsdWVzICYmXG4gICAgICB0YWJsZS5vcHRpb25zLmdldEZhY2V0ZWRVbmlxdWVWYWx1ZXModGFibGUsIGNvbHVtbi5pZClcbiAgICBjb2x1bW4uZ2V0RmFjZXRlZFVuaXF1ZVZhbHVlcyA9ICgpID0+IHtcbiAgICAgIGlmICghY29sdW1uLl9nZXRGYWNldGVkVW5pcXVlVmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWFwKClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbHVtbi5fZ2V0RmFjZXRlZFVuaXF1ZVZhbHVlcygpXG4gICAgfVxuICAgIGNvbHVtbi5fZ2V0RmFjZXRlZE1pbk1heFZhbHVlcyA9XG4gICAgICB0YWJsZS5vcHRpb25zLmdldEZhY2V0ZWRNaW5NYXhWYWx1ZXMgJiZcbiAgICAgIHRhYmxlLm9wdGlvbnMuZ2V0RmFjZXRlZE1pbk1heFZhbHVlcyh0YWJsZSwgY29sdW1uLmlkKVxuICAgIGNvbHVtbi5nZXRGYWNldGVkTWluTWF4VmFsdWVzID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb2x1bW4uX2dldEZhY2V0ZWRNaW5NYXhWYWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29sdW1uLl9nZXRGYWNldGVkTWluTWF4VmFsdWVzKClcbiAgICB9XG4gIH0sXG59XG4iLCJpbXBvcnQgeyBGaWx0ZXJGbiB9IGZyb20gJy4vZmVhdHVyZXMvQ29sdW1uRmlsdGVyaW5nJ1xuXG5jb25zdCBpbmNsdWRlc1N0cmluZzogRmlsdGVyRm48YW55PiA9IChcbiAgcm93LFxuICBjb2x1bW5JZDogc3RyaW5nLFxuICBmaWx0ZXJWYWx1ZTogc3RyaW5nXG4pID0+IHtcbiAgY29uc3Qgc2VhcmNoID0gZmlsdGVyVmFsdWU/LnRvU3RyaW5nKCk/LnRvTG93ZXJDYXNlKClcbiAgcmV0dXJuIEJvb2xlYW4oXG4gICAgcm93XG4gICAgICAuZ2V0VmFsdWU8c3RyaW5nIHwgbnVsbD4oY29sdW1uSWQpXG4gICAgICA/LnRvU3RyaW5nKClcbiAgICAgID8udG9Mb3dlckNhc2UoKVxuICAgICAgPy5pbmNsdWRlcyhzZWFyY2gpXG4gIClcbn1cblxuaW5jbHVkZXNTdHJpbmcuYXV0b1JlbW92ZSA9ICh2YWw6IGFueSkgPT4gdGVzdEZhbHNleSh2YWwpXG5cbmNvbnN0IGluY2x1ZGVzU3RyaW5nU2Vuc2l0aXZlOiBGaWx0ZXJGbjxhbnk+ID0gKFxuICByb3csXG4gIGNvbHVtbklkOiBzdHJpbmcsXG4gIGZpbHRlclZhbHVlOiBzdHJpbmdcbikgPT4ge1xuICByZXR1cm4gQm9vbGVhbihcbiAgICByb3cuZ2V0VmFsdWU8c3RyaW5nIHwgbnVsbD4oY29sdW1uSWQpPy50b1N0cmluZygpPy5pbmNsdWRlcyhmaWx0ZXJWYWx1ZSlcbiAgKVxufVxuXG5pbmNsdWRlc1N0cmluZ1NlbnNpdGl2ZS5hdXRvUmVtb3ZlID0gKHZhbDogYW55KSA9PiB0ZXN0RmFsc2V5KHZhbClcblxuY29uc3QgZXF1YWxzU3RyaW5nOiBGaWx0ZXJGbjxhbnk+ID0gKFxuICByb3csXG4gIGNvbHVtbklkOiBzdHJpbmcsXG4gIGZpbHRlclZhbHVlOiBzdHJpbmdcbikgPT4ge1xuICByZXR1cm4gKFxuICAgIHJvdy5nZXRWYWx1ZTxzdHJpbmcgfCBudWxsPihjb2x1bW5JZCk/LnRvU3RyaW5nKCk/LnRvTG93ZXJDYXNlKCkgPT09XG4gICAgZmlsdGVyVmFsdWU/LnRvTG93ZXJDYXNlKClcbiAgKVxufVxuXG5lcXVhbHNTdHJpbmcuYXV0b1JlbW92ZSA9ICh2YWw6IGFueSkgPT4gdGVzdEZhbHNleSh2YWwpXG5cbmNvbnN0IGFyckluY2x1ZGVzOiBGaWx0ZXJGbjxhbnk+ID0gKFxuICByb3csXG4gIGNvbHVtbklkOiBzdHJpbmcsXG4gIGZpbHRlclZhbHVlOiB1bmtub3duXG4pID0+IHtcbiAgcmV0dXJuIHJvdy5nZXRWYWx1ZTx1bmtub3duW10+KGNvbHVtbklkKT8uaW5jbHVkZXMoZmlsdGVyVmFsdWUpXG59XG5cbmFyckluY2x1ZGVzLmF1dG9SZW1vdmUgPSAodmFsOiBhbnkpID0+IHRlc3RGYWxzZXkodmFsKVxuXG5jb25zdCBhcnJJbmNsdWRlc0FsbDogRmlsdGVyRm48YW55PiA9IChcbiAgcm93LFxuICBjb2x1bW5JZDogc3RyaW5nLFxuICBmaWx0ZXJWYWx1ZTogdW5rbm93bltdXG4pID0+IHtcbiAgcmV0dXJuICFmaWx0ZXJWYWx1ZS5zb21lKFxuICAgIHZhbCA9PiAhcm93LmdldFZhbHVlPHVua25vd25bXT4oY29sdW1uSWQpPy5pbmNsdWRlcyh2YWwpXG4gIClcbn1cblxuYXJySW5jbHVkZXNBbGwuYXV0b1JlbW92ZSA9ICh2YWw6IGFueSkgPT4gdGVzdEZhbHNleSh2YWwpIHx8ICF2YWw/Lmxlbmd0aFxuXG5jb25zdCBhcnJJbmNsdWRlc1NvbWU6IEZpbHRlckZuPGFueT4gPSAoXG4gIHJvdyxcbiAgY29sdW1uSWQ6IHN0cmluZyxcbiAgZmlsdGVyVmFsdWU6IHVua25vd25bXVxuKSA9PiB7XG4gIHJldHVybiBmaWx0ZXJWYWx1ZS5zb21lKHZhbCA9PlxuICAgIHJvdy5nZXRWYWx1ZTx1bmtub3duW10+KGNvbHVtbklkKT8uaW5jbHVkZXModmFsKVxuICApXG59XG5cbmFyckluY2x1ZGVzU29tZS5hdXRvUmVtb3ZlID0gKHZhbDogYW55KSA9PiB0ZXN0RmFsc2V5KHZhbCkgfHwgIXZhbD8ubGVuZ3RoXG5cbmNvbnN0IGVxdWFsczogRmlsdGVyRm48YW55PiA9IChyb3csIGNvbHVtbklkOiBzdHJpbmcsIGZpbHRlclZhbHVlOiB1bmtub3duKSA9PiB7XG4gIHJldHVybiByb3cuZ2V0VmFsdWUoY29sdW1uSWQpID09PSBmaWx0ZXJWYWx1ZVxufVxuXG5lcXVhbHMuYXV0b1JlbW92ZSA9ICh2YWw6IGFueSkgPT4gdGVzdEZhbHNleSh2YWwpXG5cbmNvbnN0IHdlYWtFcXVhbHM6IEZpbHRlckZuPGFueT4gPSAoXG4gIHJvdyxcbiAgY29sdW1uSWQ6IHN0cmluZyxcbiAgZmlsdGVyVmFsdWU6IHVua25vd25cbikgPT4ge1xuICByZXR1cm4gcm93LmdldFZhbHVlKGNvbHVtbklkKSA9PSBmaWx0ZXJWYWx1ZVxufVxuXG53ZWFrRXF1YWxzLmF1dG9SZW1vdmUgPSAodmFsOiBhbnkpID0+IHRlc3RGYWxzZXkodmFsKVxuXG5jb25zdCBpbk51bWJlclJhbmdlOiBGaWx0ZXJGbjxhbnk+ID0gKFxuICByb3csXG4gIGNvbHVtbklkOiBzdHJpbmcsXG4gIGZpbHRlclZhbHVlOiBbbnVtYmVyLCBudW1iZXJdXG4pID0+IHtcbiAgbGV0IFttaW4sIG1heF0gPSBmaWx0ZXJWYWx1ZVxuXG4gIGNvbnN0IHJvd1ZhbHVlID0gcm93LmdldFZhbHVlPG51bWJlcj4oY29sdW1uSWQpXG4gIHJldHVybiByb3dWYWx1ZSA+PSBtaW4gJiYgcm93VmFsdWUgPD0gbWF4XG59XG5cbmluTnVtYmVyUmFuZ2UucmVzb2x2ZUZpbHRlclZhbHVlID0gKHZhbDogW2FueSwgYW55XSkgPT4ge1xuICBsZXQgW3Vuc2FmZU1pbiwgdW5zYWZlTWF4XSA9IHZhbFxuXG4gIGxldCBwYXJzZWRNaW4gPVxuICAgIHR5cGVvZiB1bnNhZmVNaW4gIT09ICdudW1iZXInID8gcGFyc2VGbG9hdCh1bnNhZmVNaW4gYXMgc3RyaW5nKSA6IHVuc2FmZU1pblxuICBsZXQgcGFyc2VkTWF4ID1cbiAgICB0eXBlb2YgdW5zYWZlTWF4ICE9PSAnbnVtYmVyJyA/IHBhcnNlRmxvYXQodW5zYWZlTWF4IGFzIHN0cmluZykgOiB1bnNhZmVNYXhcblxuICBsZXQgbWluID1cbiAgICB1bnNhZmVNaW4gPT09IG51bGwgfHwgTnVtYmVyLmlzTmFOKHBhcnNlZE1pbikgPyAtSW5maW5pdHkgOiBwYXJzZWRNaW5cbiAgbGV0IG1heCA9IHVuc2FmZU1heCA9PT0gbnVsbCB8fCBOdW1iZXIuaXNOYU4ocGFyc2VkTWF4KSA/IEluZmluaXR5IDogcGFyc2VkTWF4XG5cbiAgaWYgKG1pbiA+IG1heCkge1xuICAgIGNvbnN0IHRlbXAgPSBtaW5cbiAgICBtaW4gPSBtYXhcbiAgICBtYXggPSB0ZW1wXG4gIH1cblxuICByZXR1cm4gW21pbiwgbWF4XSBhcyBjb25zdFxufVxuXG5pbk51bWJlclJhbmdlLmF1dG9SZW1vdmUgPSAodmFsOiBhbnkpID0+XG4gIHRlc3RGYWxzZXkodmFsKSB8fCAodGVzdEZhbHNleSh2YWxbMF0pICYmIHRlc3RGYWxzZXkodmFsWzFdKSlcblxuLy8gRXhwb3J0XG5cbmV4cG9ydCBjb25zdCBmaWx0ZXJGbnMgPSB7XG4gIGluY2x1ZGVzU3RyaW5nLFxuICBpbmNsdWRlc1N0cmluZ1NlbnNpdGl2ZSxcbiAgZXF1YWxzU3RyaW5nLFxuICBhcnJJbmNsdWRlcyxcbiAgYXJySW5jbHVkZXNBbGwsXG4gIGFyckluY2x1ZGVzU29tZSxcbiAgZXF1YWxzLFxuICB3ZWFrRXF1YWxzLFxuICBpbk51bWJlclJhbmdlLFxufVxuXG5leHBvcnQgdHlwZSBCdWlsdEluRmlsdGVyRm4gPSBrZXlvZiB0eXBlb2YgZmlsdGVyRm5zXG5cbi8vIFV0aWxzXG5cbmZ1bmN0aW9uIHRlc3RGYWxzZXkodmFsOiBhbnkpIHtcbiAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkIHx8IHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09ICcnXG59XG4iLCJpbXBvcnQgeyBSb3dNb2RlbCB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgQnVpbHRJbkZpbHRlckZuLCBmaWx0ZXJGbnMgfSBmcm9tICcuLi9maWx0ZXJGbnMnXG5pbXBvcnQge1xuICBDb2x1bW4sXG4gIEZpbHRlckZucyxcbiAgRmlsdGVyTWV0YSxcbiAgT25DaGFuZ2VGbixcbiAgUm93LFxuICBSb3dEYXRhLFxuICBUYWJsZSxcbiAgVGFibGVGZWF0dXJlLFxuICBVcGRhdGVyLFxufSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IGZ1bmN0aW9uYWxVcGRhdGUsIGlzRnVuY3Rpb24sIG1ha2VTdGF0ZVVwZGF0ZXIgfSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IGludGVyZmFjZSBDb2x1bW5GaWx0ZXJzVGFibGVTdGF0ZSB7XG4gIGNvbHVtbkZpbHRlcnM6IENvbHVtbkZpbHRlcnNTdGF0ZVxufVxuXG5leHBvcnQgdHlwZSBDb2x1bW5GaWx0ZXJzU3RhdGUgPSBDb2x1bW5GaWx0ZXJbXVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtbkZpbHRlciB7XG4gIGlkOiBzdHJpbmdcbiAgdmFsdWU6IHVua25vd25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNvbHZlZENvbHVtbkZpbHRlcjxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgZmlsdGVyRm46IEZpbHRlckZuPFREYXRhPlxuICBpZDogc3RyaW5nXG4gIHJlc29sdmVkVmFsdWU6IHVua25vd25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWx0ZXJGbjxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgKFxuICAgIHJvdzogUm93PFREYXRhPixcbiAgICBjb2x1bW5JZDogc3RyaW5nLFxuICAgIGZpbHRlclZhbHVlOiBhbnksXG4gICAgYWRkTWV0YTogKG1ldGE6IEZpbHRlck1ldGEpID0+IHZvaWRcbiAgKTogYm9vbGVhblxuICBhdXRvUmVtb3ZlPzogQ29sdW1uRmlsdGVyQXV0b1JlbW92ZVRlc3RGbjxURGF0YT5cbiAgcmVzb2x2ZUZpbHRlclZhbHVlPzogVHJhbnNmb3JtRmlsdGVyVmFsdWVGbjxURGF0YT5cbn1cblxuZXhwb3J0IHR5cGUgVHJhbnNmb3JtRmlsdGVyVmFsdWVGbjxURGF0YSBleHRlbmRzIFJvd0RhdGE+ID0gKFxuICB2YWx1ZTogYW55LFxuICBjb2x1bW4/OiBDb2x1bW48VERhdGEsIHVua25vd24+XG4pID0+IHVua25vd25cblxuZXhwb3J0IHR5cGUgQ29sdW1uRmlsdGVyQXV0b1JlbW92ZVRlc3RGbjxURGF0YSBleHRlbmRzIFJvd0RhdGE+ID0gKFxuICB2YWx1ZTogYW55LFxuICBjb2x1bW4/OiBDb2x1bW48VERhdGEsIHVua25vd24+XG4pID0+IGJvb2xlYW5cblxuZXhwb3J0IHR5cGUgQ3VzdG9tRmlsdGVyRm5zPFREYXRhIGV4dGVuZHMgUm93RGF0YT4gPSBSZWNvcmQ8XG4gIHN0cmluZyxcbiAgRmlsdGVyRm48VERhdGE+XG4+XG5cbmV4cG9ydCB0eXBlIEZpbHRlckZuT3B0aW9uPFREYXRhIGV4dGVuZHMgUm93RGF0YT4gPVxuICB8ICdhdXRvJ1xuICB8IEJ1aWx0SW5GaWx0ZXJGblxuICB8IGtleW9mIEZpbHRlckZuc1xuICB8IEZpbHRlckZuPFREYXRhPlxuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtbkZpbHRlcnNDb2x1bW5EZWY8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBFbmFibGVzL2Rpc2FibGVzIHRoZSAqKmNvbHVtbioqIGZpbHRlciBmb3IgdGhpcyBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZpbHRlcmluZyNlbmFibGVjb2x1bW5maWx0ZXIpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgZW5hYmxlQ29sdW1uRmlsdGVyPzogYm9vbGVhblxuICAvKipcbiAgICogVGhlIGZpbHRlciBmdW5jdGlvbiB0byB1c2Ugd2l0aCB0aGlzIGNvbHVtbi4gQ2FuIGJlIHRoZSBuYW1lIG9mIGEgYnVpbHQtaW4gZmlsdGVyIGZ1bmN0aW9uIG9yIGEgY3VzdG9tIGZpbHRlciBmdW5jdGlvbi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI2ZpbHRlcmZuKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLWZpbHRlcmluZylcbiAgICovXG4gIGZpbHRlckZuPzogRmlsdGVyRm5PcHRpb248VERhdGE+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uRmlsdGVyc0NvbHVtbjxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIGZpbHRlciBmdW5jdGlvbiBmb3IgdGhlIGNvbHVtbiBiYXNlZCBvZmYgb2YgdGhlIGNvbHVtbnMgZmlyc3Qga25vd24gdmFsdWUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZpbHRlcmluZyNnZXRhdXRvZmlsdGVyZm4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgZ2V0QXV0b0ZpbHRlckZuOiAoKSA9PiBGaWx0ZXJGbjxURGF0YT4gfCB1bmRlZmluZWRcbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNvbHVtbiBjYW4gYmUgKipjb2x1bW4qKiBmaWx0ZXJlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI2dldGNhbmZpbHRlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1maWx0ZXJpbmcpXG4gICAqL1xuICBnZXRDYW5GaWx0ZXI6ICgpID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZpbHRlciBmdW5jdGlvbiAoZWl0aGVyIHVzZXItZGVmaW5lZCBvciBhdXRvbWF0aWMsIGRlcGVuZGluZyBvbiBjb25maWd1cmF0aW9uKSBmb3IgdGhlIGNvbHVtbklkIHNwZWNpZmllZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI2dldGZpbHRlcmZuKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLWZpbHRlcmluZylcbiAgICovXG4gIGdldEZpbHRlckZuOiAoKSA9PiBGaWx0ZXJGbjxURGF0YT4gfCB1bmRlZmluZWRcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGluZGV4IChpbmNsdWRpbmcgYC0xYCkgb2YgdGhlIGNvbHVtbiBmaWx0ZXIgaW4gdGhlIHRhYmxlJ3MgYHN0YXRlLmNvbHVtbkZpbHRlcnNgIGFycmF5LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1maWx0ZXJpbmcjZ2V0ZmlsdGVyaW5kZXgpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgZ2V0RmlsdGVySW5kZXg6ICgpID0+IG51bWJlclxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBmaWx0ZXIgdmFsdWUgZm9yIHRoZSBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZpbHRlcmluZyNnZXRmaWx0ZXJ2YWx1ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1maWx0ZXJpbmcpXG4gICAqL1xuICBnZXRGaWx0ZXJWYWx1ZTogKCkgPT4gdW5rbm93blxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29sdW1uIGlzIGN1cnJlbnRseSBmaWx0ZXJlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI2dldGlzZmlsdGVyZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgZ2V0SXNGaWx0ZXJlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IHNldHMgdGhlIGN1cnJlbnQgZmlsdGVyIHZhbHVlIGZvciB0aGUgY29sdW1uLiBZb3UgY2FuIHBhc3MgaXQgYSB2YWx1ZSBvciBhbiB1cGRhdGVyIGZ1bmN0aW9uIGZvciBpbW11dGFiaWxpdHktc2FmZSBvcGVyYXRpb25zIG9uIGV4aXN0aW5nIHZhbHVlcy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI3NldGZpbHRlcnZhbHVlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLWZpbHRlcmluZylcbiAgICovXG4gIHNldEZpbHRlclZhbHVlOiAodXBkYXRlcjogVXBkYXRlcjxhbnk+KSA9PiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uRmlsdGVyc1JvdzxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgLyoqXG4gICAqIFRoZSBjb2x1bW4gZmlsdGVycyBtYXAgZm9yIHRoZSByb3cuIFRoaXMgb2JqZWN0IHRyYWNrcyB3aGV0aGVyIGEgcm93IGlzIHBhc3NpbmcvZmFpbGluZyBzcGVjaWZpYyBmaWx0ZXJzIGJ5IHRoZWlyIGNvbHVtbiBJRC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI2NvbHVtbmZpbHRlcnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgY29sdW1uRmlsdGVyczogUmVjb3JkPHN0cmluZywgYm9vbGVhbj5cbiAgLyoqXG4gICAqIFRoZSBjb2x1bW4gZmlsdGVycyBtZXRhIG1hcCBmb3IgdGhlIHJvdy4gVGhpcyBvYmplY3QgdHJhY2tzIGFueSBmaWx0ZXIgbWV0YSBmb3IgYSByb3cgYXMgb3B0aW9uYWxseSBwcm92aWRlZCBkdXJpbmcgdGhlIGZpbHRlcmluZyBwcm9jZXNzLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1maWx0ZXJpbmcjY29sdW1uZmlsdGVyc21ldGEpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgY29sdW1uRmlsdGVyc01ldGE6IFJlY29yZDxzdHJpbmcsIEZpbHRlck1ldGE+XG59XG5cbmludGVyZmFjZSBDb2x1bW5GaWx0ZXJzT3B0aW9uc0Jhc2U8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBFbmFibGVzL2Rpc2FibGVzICoqY29sdW1uKiogZmlsdGVyaW5nIGZvciBhbGwgY29sdW1ucy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI2VuYWJsZWNvbHVtbmZpbHRlcnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgZW5hYmxlQ29sdW1uRmlsdGVycz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIEVuYWJsZXMvZGlzYWJsZXMgYWxsIGZpbHRlcmluZyBmb3IgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1maWx0ZXJpbmcjZW5hYmxlZmlsdGVycylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1maWx0ZXJpbmcpXG4gICAqL1xuICBlbmFibGVGaWx0ZXJzPzogYm9vbGVhblxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgZmlsdGVyaW5nIGlzIGRvbmUgZnJvbSBwYXJlbnQgcm93cyBkb3duIChzbyBpZiBhIHBhcmVudCByb3cgaXMgZmlsdGVyZWQgb3V0LCBhbGwgb2YgaXRzIGNoaWxkcmVuIHdpbGwgYmUgZmlsdGVyZWQgb3V0IGFzIHdlbGwpLiBTZXR0aW5nIHRoaXMgb3B0aW9uIHRvIGB0cnVlYCB3aWxsIGNhdXNlIGZpbHRlcmluZyB0byBiZSBkb25lIGZyb20gbGVhZiByb3dzIHVwICh3aGljaCBtZWFucyBwYXJlbnQgcm93cyB3aWxsIGJlIGluY2x1ZGVkIHNvIGxvbmcgYXMgb25lIG9mIHRoZWlyIGNoaWxkIG9yIGdyYW5kLWNoaWxkIHJvd3MgaXMgYWxzbyBpbmNsdWRlZCkuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZpbHRlcmluZyNmaWx0ZXJmcm9tbGVhZnJvd3MpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgZmlsdGVyRnJvbUxlYWZSb3dzPzogYm9vbGVhblxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkICoqb25jZSoqIHBlciB0YWJsZSBhbmQgc2hvdWxkIHJldHVybiBhICoqbmV3IGZ1bmN0aW9uKiogd2hpY2ggd2lsbCBjYWxjdWxhdGUgYW5kIHJldHVybiB0aGUgcm93IG1vZGVsIGZvciB0aGUgdGFibGUgd2hlbiBpdCdzIGZpbHRlcmVkLlxuICAgKiAtIEZvciBzZXJ2ZXItc2lkZSBmaWx0ZXJpbmcsIHRoaXMgZnVuY3Rpb24gaXMgdW5uZWNlc3NhcnkgYW5kIGNhbiBiZSBpZ25vcmVkIHNpbmNlIHRoZSBzZXJ2ZXIgc2hvdWxkIGFscmVhZHkgcmV0dXJuIHRoZSBmaWx0ZXJlZCByb3cgbW9kZWwuXG4gICAqIC0gRm9yIGNsaWVudC1zaWRlIGZpbHRlcmluZywgdGhpcyBmdW5jdGlvbiBpcyByZXF1aXJlZC4gQSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGlzIHByb3ZpZGVkIHZpYSBhbnkgdGFibGUgYWRhcHRlcidzIGB7IGdldEZpbHRlcmVkUm93TW9kZWwgfWAgZXhwb3J0LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1maWx0ZXJpbmcjZ2V0ZmlsdGVyZWRyb3dtb2RlbClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1maWx0ZXJpbmcpXG4gICAqL1xuICBnZXRGaWx0ZXJlZFJvd01vZGVsPzogKHRhYmxlOiBUYWJsZTxhbnk+KSA9PiAoKSA9PiBSb3dNb2RlbDxhbnk+XG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgYGdldEZpbHRlcmVkUm93TW9kZWxgIGZyb20gYmVpbmcgdXNlZCB0byBmaWx0ZXIgZGF0YS4gVGhpcyBtYXkgYmUgdXNlZnVsIGlmIHlvdXIgdGFibGUgbmVlZHMgdG8gZHluYW1pY2FsbHkgc3VwcG9ydCBib3RoIGNsaWVudC1zaWRlIGFuZCBzZXJ2ZXItc2lkZSBmaWx0ZXJpbmcuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZpbHRlcmluZyNtYW51YWxmaWx0ZXJpbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgbWFudWFsRmlsdGVyaW5nPzogYm9vbGVhblxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgZmlsdGVyaW5nIGlzIGRvbmUgZm9yIGFsbCByb3dzIChtYXggZGVwdGggb2YgMTAwKSwgbm8gbWF0dGVyIGlmIHRoZXkgYXJlIHJvb3QgbGV2ZWwgcGFyZW50IHJvd3Mgb3IgdGhlIGNoaWxkIGxlYWYgcm93cyBvZiBhIHBhcmVudCByb3cuIFNldHRpbmcgdGhpcyBvcHRpb24gdG8gYDBgIHdpbGwgY2F1c2UgZmlsdGVyaW5nIHRvIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgcm9vdCBsZXZlbCBwYXJlbnQgcm93cywgd2l0aCBhbGwgc3ViLXJvd3MgcmVtYWluaW5nIHVuZmlsdGVyZWQuIFNpbWlsYXJseSwgc2V0dGluZyB0aGlzIG9wdGlvbiB0byBgMWAgd2lsbCBjYXVzZSBmaWx0ZXJpbmcgdG8gb25seSBiZSBhcHBsaWVkIHRvIGNoaWxkIGxlYWYgcm93cyAxIGxldmVsIGRlZXAsIGFuZCBzbyBvbi5cblxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3Igc2l0dWF0aW9ucyB3aGVyZSB5b3Ugd2FudCBhIHJvdydzIGVudGlyZSBjaGlsZCBoaWVyYXJjaHkgdG8gYmUgdmlzaWJsZSByZWdhcmRsZXNzIG9mIHRoZSBhcHBsaWVkIGZpbHRlci5cbiAgICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZpbHRlcmluZyNtYXhsZWFmcm93ZmlsdGVyZGVwdGgpXG4gICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLWZpbHRlcmluZylcbiAgICovXG4gIG1heExlYWZSb3dGaWx0ZXJEZXB0aD86IG51bWJlclxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBgdXBkYXRlckZuYCB3aGVuIGBzdGF0ZS5jb2x1bW5GaWx0ZXJzYCBjaGFuZ2VzLiBUaGlzIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCBpbnRlcm5hbCBzdGF0ZSBtYW5hZ2VtZW50LCBzbyB5b3Ugd2lsbCBuZWVkIHRvIHBlcnNpc3QgdGhlIHN0YXRlIGNoYW5nZSBlaXRoZXIgZnVsbHkgb3IgcGFydGlhbGx5IG91dHNpZGUgb2YgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1maWx0ZXJpbmcjb25jb2x1bW5maWx0ZXJzY2hhbmdlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLWZpbHRlcmluZylcbiAgICovXG4gIG9uQ29sdW1uRmlsdGVyc0NoYW5nZT86IE9uQ2hhbmdlRm48Q29sdW1uRmlsdGVyc1N0YXRlPlxufVxuXG50eXBlIFJlc29sdmVkRmlsdGVyRm5zID0ga2V5b2YgRmlsdGVyRm5zIGV4dGVuZHMgbmV2ZXJcbiAgPyB7XG4gICAgICBmaWx0ZXJGbnM/OiBSZWNvcmQ8c3RyaW5nLCBGaWx0ZXJGbjxhbnk+PlxuICAgIH1cbiAgOiB7XG4gICAgICBmaWx0ZXJGbnM6IFJlY29yZDxrZXlvZiBGaWx0ZXJGbnMsIEZpbHRlckZuPGFueT4+XG4gICAgfVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtbkZpbHRlcnNPcHRpb25zPFREYXRhIGV4dGVuZHMgUm93RGF0YT5cbiAgZXh0ZW5kcyBDb2x1bW5GaWx0ZXJzT3B0aW9uc0Jhc2U8VERhdGE+LFxuICAgIFJlc29sdmVkRmlsdGVyRm5zIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uRmlsdGVyc0luc3RhbmNlPFREYXRhIGV4dGVuZHMgUm93RGF0YT4ge1xuICBfZ2V0RmlsdGVyZWRSb3dNb2RlbD86ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm93IG1vZGVsIGZvciB0aGUgdGFibGUgYWZ0ZXIgKipjb2x1bW4qKiBmaWx0ZXJpbmcgaGFzIGJlZW4gYXBwbGllZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI2dldGZpbHRlcmVkcm93bW9kZWwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tZmlsdGVyaW5nKVxuICAgKi9cbiAgZ2V0RmlsdGVyZWRSb3dNb2RlbDogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgbW9kZWwgZm9yIHRoZSB0YWJsZSBiZWZvcmUgYW55ICoqY29sdW1uKiogZmlsdGVyaW5nIGhhcyBiZWVuIGFwcGxpZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZpbHRlcmluZyNnZXRwcmVmaWx0ZXJlZHJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLWZpbHRlcmluZylcbiAgICovXG4gIGdldFByZUZpbHRlcmVkUm93TW9kZWw6ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmVzZXRzIHRoZSAqKmNvbHVtbkZpbHRlcnMqKiBzdGF0ZSB0byBgaW5pdGlhbFN0YXRlLmNvbHVtbkZpbHRlcnNgLCBvciBgdHJ1ZWAgY2FuIGJlIHBhc3NlZCB0byBmb3JjZSBhIGRlZmF1bHQgYmxhbmsgc3RhdGUgcmVzZXQgdG8gYFtdYC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tZmlsdGVyaW5nI3Jlc2V0Y29sdW1uZmlsdGVycylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1maWx0ZXJpbmcpXG4gICAqL1xuICByZXNldENvbHVtbkZpbHRlcnM6IChkZWZhdWx0U3RhdGU/OiBib29sZWFuKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlICoqZ2xvYmFsRmlsdGVyKiogc3RhdGUgdG8gYGluaXRpYWxTdGF0ZS5nbG9iYWxGaWx0ZXJgLCBvciBgdHJ1ZWAgY2FuIGJlIHBhc3NlZCB0byBmb3JjZSBhIGRlZmF1bHQgYmxhbmsgc3RhdGUgcmVzZXQgdG8gYHVuZGVmaW5lZGAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLWZpbHRlcmluZyNyZXNldGdsb2JhbGZpbHRlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1maWx0ZXJpbmcpXG4gICAqL1xuICByZXNldEdsb2JhbEZpbHRlcjogKGRlZmF1bHRTdGF0ZT86IGJvb2xlYW4pID0+IHZvaWRcbiAgLyoqXG4gICAqIFNldHMgb3IgdXBkYXRlcyB0aGUgYHN0YXRlLmNvbHVtbkZpbHRlcnNgIHN0YXRlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1maWx0ZXJpbmcjc2V0Y29sdW1uZmlsdGVycylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1maWx0ZXJpbmcpXG4gICAqL1xuICBzZXRDb2x1bW5GaWx0ZXJzOiAodXBkYXRlcjogVXBkYXRlcjxDb2x1bW5GaWx0ZXJzU3RhdGU+KSA9PiB2b2lkXG4gIC8qKlxuICAgKiBTZXRzIG9yIHVwZGF0ZXMgdGhlIGBzdGF0ZS5nbG9iYWxGaWx0ZXJgIHN0YXRlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1maWx0ZXJpbmcjc2V0Z2xvYmFsZmlsdGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLWZpbHRlcmluZylcbiAgICovXG4gIHNldEdsb2JhbEZpbHRlcjogKHVwZGF0ZXI6IFVwZGF0ZXI8YW55PikgPT4gdm9pZFxufVxuXG4vL1xuXG5leHBvcnQgY29uc3QgQ29sdW1uRmlsdGVyaW5nOiBUYWJsZUZlYXR1cmUgPSB7XG4gIGdldERlZmF1bHRDb2x1bW5EZWY6IDxcbiAgICBURGF0YSBleHRlbmRzIFJvd0RhdGEsXG4gID4oKTogQ29sdW1uRmlsdGVyc0NvbHVtbkRlZjxURGF0YT4gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBmaWx0ZXJGbjogJ2F1dG8nLFxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGU6IChzdGF0ZSk6IENvbHVtbkZpbHRlcnNUYWJsZVN0YXRlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sdW1uRmlsdGVyczogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdE9wdGlvbnM6IDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogQ29sdW1uRmlsdGVyc09wdGlvbnM8VERhdGE+ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgb25Db2x1bW5GaWx0ZXJzQ2hhbmdlOiBtYWtlU3RhdGVVcGRhdGVyKCdjb2x1bW5GaWx0ZXJzJywgdGFibGUpLFxuICAgICAgZmlsdGVyRnJvbUxlYWZSb3dzOiBmYWxzZSxcbiAgICAgIG1heExlYWZSb3dGaWx0ZXJEZXB0aDogMTAwLFxuICAgIH0gYXMgQ29sdW1uRmlsdGVyc09wdGlvbnM8VERhdGE+XG4gIH0sXG5cbiAgY3JlYXRlQ29sdW1uOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICBjb2x1bW46IENvbHVtbjxURGF0YSwgdW5rbm93bj4sXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiB2b2lkID0+IHtcbiAgICBjb2x1bW4uZ2V0QXV0b0ZpbHRlckZuID0gKCkgPT4ge1xuICAgICAgY29uc3QgZmlyc3RSb3cgPSB0YWJsZS5nZXRDb3JlUm93TW9kZWwoKS5mbGF0Um93c1swXVxuXG4gICAgICBjb25zdCB2YWx1ZSA9IGZpcnN0Um93Py5nZXRWYWx1ZShjb2x1bW4uaWQpXG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXJGbnMuaW5jbHVkZXNTdHJpbmdcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlckZucy5pbk51bWJlclJhbmdlXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gZmlsdGVyRm5zLmVxdWFsc1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmlsdGVyRm5zLmVxdWFsc1xuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlckZucy5hcnJJbmNsdWRlc1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmlsdGVyRm5zLndlYWtFcXVhbHNcbiAgICB9XG4gICAgY29sdW1uLmdldEZpbHRlckZuID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oY29sdW1uLmNvbHVtbkRlZi5maWx0ZXJGbilcbiAgICAgICAgPyBjb2x1bW4uY29sdW1uRGVmLmZpbHRlckZuXG4gICAgICAgIDogY29sdW1uLmNvbHVtbkRlZi5maWx0ZXJGbiA9PT0gJ2F1dG8nXG4gICAgICAgICAgPyBjb2x1bW4uZ2V0QXV0b0ZpbHRlckZuKClcbiAgICAgICAgICA6IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRhYmxlLm9wdGlvbnMuZmlsdGVyRm5zPy5bY29sdW1uLmNvbHVtbkRlZi5maWx0ZXJGbiBhcyBzdHJpbmddID8/XG4gICAgICAgICAgICBmaWx0ZXJGbnNbY29sdW1uLmNvbHVtbkRlZi5maWx0ZXJGbiBhcyBCdWlsdEluRmlsdGVyRm5dXG4gICAgfVxuICAgIGNvbHVtbi5nZXRDYW5GaWx0ZXIgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoY29sdW1uLmNvbHVtbkRlZi5lbmFibGVDb2x1bW5GaWx0ZXIgPz8gdHJ1ZSkgJiZcbiAgICAgICAgKHRhYmxlLm9wdGlvbnMuZW5hYmxlQ29sdW1uRmlsdGVycyA/PyB0cnVlKSAmJlxuICAgICAgICAodGFibGUub3B0aW9ucy5lbmFibGVGaWx0ZXJzID8/IHRydWUpICYmXG4gICAgICAgICEhY29sdW1uLmFjY2Vzc29yRm5cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb2x1bW4uZ2V0SXNGaWx0ZXJlZCA9ICgpID0+IGNvbHVtbi5nZXRGaWx0ZXJJbmRleCgpID4gLTFcblxuICAgIGNvbHVtbi5nZXRGaWx0ZXJWYWx1ZSA9ICgpID0+XG4gICAgICB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtbkZpbHRlcnM/LmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW4uaWQpPy52YWx1ZVxuXG4gICAgY29sdW1uLmdldEZpbHRlckluZGV4ID0gKCkgPT5cbiAgICAgIHRhYmxlLmdldFN0YXRlKCkuY29sdW1uRmlsdGVycz8uZmluZEluZGV4KGQgPT4gZC5pZCA9PT0gY29sdW1uLmlkKSA/PyAtMVxuXG4gICAgY29sdW1uLnNldEZpbHRlclZhbHVlID0gdmFsdWUgPT4ge1xuICAgICAgdGFibGUuc2V0Q29sdW1uRmlsdGVycyhvbGQgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJGbiA9IGNvbHVtbi5nZXRGaWx0ZXJGbigpXG4gICAgICAgIGNvbnN0IHByZXZpb3VzRmlsdGVyID0gb2xkPy5maW5kKGQgPT4gZC5pZCA9PT0gY29sdW1uLmlkKVxuXG4gICAgICAgIGNvbnN0IG5ld0ZpbHRlciA9IGZ1bmN0aW9uYWxVcGRhdGUoXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgcHJldmlvdXNGaWx0ZXIgPyBwcmV2aW91c0ZpbHRlci52YWx1ZSA6IHVuZGVmaW5lZFxuICAgICAgICApXG5cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIoZmlsdGVyRm4gYXMgRmlsdGVyRm48VERhdGE+LCBuZXdGaWx0ZXIsIGNvbHVtbilcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG9sZD8uZmlsdGVyKGQgPT4gZC5pZCAhPT0gY29sdW1uLmlkKSA/PyBbXVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3RmlsdGVyT2JqID0geyBpZDogY29sdW1uLmlkLCB2YWx1ZTogbmV3RmlsdGVyIH1cblxuICAgICAgICBpZiAocHJldmlvdXNGaWx0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgb2xkPy5tYXAoZCA9PiB7XG4gICAgICAgICAgICAgIGlmIChkLmlkID09PSBjb2x1bW4uaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RmlsdGVyT2JqXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGRcbiAgICAgICAgICAgIH0pID8/IFtdXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9sZD8ubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIFsuLi5vbGQsIG5ld0ZpbHRlck9ial1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbbmV3RmlsdGVyT2JqXVxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlUm93OiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICByb3c6IFJvdzxURGF0YT4sXG4gICAgX3RhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogdm9pZCA9PiB7XG4gICAgcm93LmNvbHVtbkZpbHRlcnMgPSB7fVxuICAgIHJvdy5jb2x1bW5GaWx0ZXJzTWV0YSA9IHt9XG4gIH0sXG5cbiAgY3JlYXRlVGFibGU6IDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KHRhYmxlOiBUYWJsZTxURGF0YT4pOiB2b2lkID0+IHtcbiAgICB0YWJsZS5zZXRDb2x1bW5GaWx0ZXJzID0gKHVwZGF0ZXI6IFVwZGF0ZXI8Q29sdW1uRmlsdGVyc1N0YXRlPikgPT4ge1xuICAgICAgY29uc3QgbGVhZkNvbHVtbnMgPSB0YWJsZS5nZXRBbGxMZWFmQ29sdW1ucygpXG5cbiAgICAgIGNvbnN0IHVwZGF0ZUZuID0gKG9sZDogQ29sdW1uRmlsdGVyc1N0YXRlKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbmFsVXBkYXRlKHVwZGF0ZXIsIG9sZCk/LmZpbHRlcihmaWx0ZXIgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGxlYWZDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBmaWx0ZXIuaWQpXG5cbiAgICAgICAgICBpZiAoY29sdW1uKSB7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJGbiA9IGNvbHVtbi5nZXRGaWx0ZXJGbigpXG5cbiAgICAgICAgICAgIGlmIChzaG91bGRBdXRvUmVtb3ZlRmlsdGVyKGZpbHRlckZuLCBmaWx0ZXIudmFsdWUsIGNvbHVtbikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgdGFibGUub3B0aW9ucy5vbkNvbHVtbkZpbHRlcnNDaGFuZ2U/Lih1cGRhdGVGbilcbiAgICB9XG5cbiAgICB0YWJsZS5yZXNldENvbHVtbkZpbHRlcnMgPSBkZWZhdWx0U3RhdGUgPT4ge1xuICAgICAgdGFibGUuc2V0Q29sdW1uRmlsdGVycyhcbiAgICAgICAgZGVmYXVsdFN0YXRlID8gW10gOiB0YWJsZS5pbml0aWFsU3RhdGU/LmNvbHVtbkZpbHRlcnMgPz8gW11cbiAgICAgIClcbiAgICB9XG5cbiAgICB0YWJsZS5nZXRQcmVGaWx0ZXJlZFJvd01vZGVsID0gKCkgPT4gdGFibGUuZ2V0Q29yZVJvd01vZGVsKClcbiAgICB0YWJsZS5nZXRGaWx0ZXJlZFJvd01vZGVsID0gKCkgPT4ge1xuICAgICAgaWYgKCF0YWJsZS5fZ2V0RmlsdGVyZWRSb3dNb2RlbCAmJiB0YWJsZS5vcHRpb25zLmdldEZpbHRlcmVkUm93TW9kZWwpIHtcbiAgICAgICAgdGFibGUuX2dldEZpbHRlcmVkUm93TW9kZWwgPSB0YWJsZS5vcHRpb25zLmdldEZpbHRlcmVkUm93TW9kZWwodGFibGUpXG4gICAgICB9XG5cbiAgICAgIGlmICh0YWJsZS5vcHRpb25zLm1hbnVhbEZpbHRlcmluZyB8fCAhdGFibGUuX2dldEZpbHRlcmVkUm93TW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlLmdldFByZUZpbHRlcmVkUm93TW9kZWwoKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFibGUuX2dldEZpbHRlcmVkUm93TW9kZWwoKVxuICAgIH1cbiAgfSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZEF1dG9SZW1vdmVGaWx0ZXI8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgZmlsdGVyRm4/OiBGaWx0ZXJGbjxURGF0YT4sXG4gIHZhbHVlPzogYW55LFxuICBjb2x1bW4/OiBDb2x1bW48VERhdGEsIHVua25vd24+XG4pIHtcbiAgcmV0dXJuIChcbiAgICAoZmlsdGVyRm4gJiYgZmlsdGVyRm4uYXV0b1JlbW92ZVxuICAgICAgPyBmaWx0ZXJGbi5hdXRvUmVtb3ZlKHZhbHVlLCBjb2x1bW4pXG4gICAgICA6IGZhbHNlKSB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhdmFsdWUpXG4gIClcbn1cbiIsImltcG9ydCB7IEFnZ3JlZ2F0aW9uRm4gfSBmcm9tICcuL2ZlYXR1cmVzL0NvbHVtbkdyb3VwaW5nJ1xuaW1wb3J0IHsgaXNOdW1iZXJBcnJheSB9IGZyb20gJy4vdXRpbHMnXG5cbmNvbnN0IHN1bTogQWdncmVnYXRpb25Gbjxhbnk+ID0gKGNvbHVtbklkLCBfbGVhZlJvd3MsIGNoaWxkUm93cykgPT4ge1xuICAvLyBJdCdzIGZhc3RlciB0byBqdXN0IGFkZCB0aGUgYWdncmVnYXRpb25zIHRvZ2V0aGVyIGluc3RlYWQgb2ZcbiAgLy8gcHJvY2VzcyBsZWFmIG5vZGVzIGluZGl2aWR1YWxseVxuICByZXR1cm4gY2hpbGRSb3dzLnJlZHVjZSgoc3VtLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgbmV4dFZhbHVlID0gbmV4dC5nZXRWYWx1ZShjb2x1bW5JZClcbiAgICByZXR1cm4gc3VtICsgKHR5cGVvZiBuZXh0VmFsdWUgPT09ICdudW1iZXInID8gbmV4dFZhbHVlIDogMClcbiAgfSwgMClcbn1cblxuY29uc3QgbWluOiBBZ2dyZWdhdGlvbkZuPGFueT4gPSAoY29sdW1uSWQsIF9sZWFmUm93cywgY2hpbGRSb3dzKSA9PiB7XG4gIGxldCBtaW46IG51bWJlciB8IHVuZGVmaW5lZFxuXG4gIGNoaWxkUm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSByb3cuZ2V0VmFsdWU8bnVtYmVyPihjb2x1bW5JZClcblxuICAgIGlmIChcbiAgICAgIHZhbHVlICE9IG51bGwgJiZcbiAgICAgIChtaW4hID4gdmFsdWUgfHwgKG1pbiA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSlcbiAgICApIHtcbiAgICAgIG1pbiA9IHZhbHVlXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBtaW5cbn1cblxuY29uc3QgbWF4OiBBZ2dyZWdhdGlvbkZuPGFueT4gPSAoY29sdW1uSWQsIF9sZWFmUm93cywgY2hpbGRSb3dzKSA9PiB7XG4gIGxldCBtYXg6IG51bWJlciB8IHVuZGVmaW5lZFxuXG4gIGNoaWxkUm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSByb3cuZ2V0VmFsdWU8bnVtYmVyPihjb2x1bW5JZClcbiAgICBpZiAoXG4gICAgICB2YWx1ZSAhPSBudWxsICYmXG4gICAgICAobWF4ISA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpXG4gICAgKSB7XG4gICAgICBtYXggPSB2YWx1ZVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gbWF4XG59XG5cbmNvbnN0IGV4dGVudDogQWdncmVnYXRpb25Gbjxhbnk+ID0gKGNvbHVtbklkLCBfbGVhZlJvd3MsIGNoaWxkUm93cykgPT4ge1xuICBsZXQgbWluOiBudW1iZXIgfCB1bmRlZmluZWRcbiAgbGV0IG1heDogbnVtYmVyIHwgdW5kZWZpbmVkXG5cbiAgY2hpbGRSb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHJvdy5nZXRWYWx1ZTxudW1iZXI+KGNvbHVtbklkKVxuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBpZiAobWluID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHZhbHVlID49IHZhbHVlKSBtaW4gPSBtYXggPSB2YWx1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1pbiA+IHZhbHVlKSBtaW4gPSB2YWx1ZVxuICAgICAgICBpZiAobWF4ISA8IHZhbHVlKSBtYXggPSB2YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gW21pbiwgbWF4XVxufVxuXG5jb25zdCBtZWFuOiBBZ2dyZWdhdGlvbkZuPGFueT4gPSAoY29sdW1uSWQsIGxlYWZSb3dzKSA9PiB7XG4gIGxldCBjb3VudCA9IDBcbiAgbGV0IHN1bSA9IDBcblxuICBsZWFmUm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgbGV0IHZhbHVlID0gcm93LmdldFZhbHVlPG51bWJlcj4oY29sdW1uSWQpXG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkge1xuICAgICAgKytjb3VudCwgKHN1bSArPSB2YWx1ZSlcbiAgICB9XG4gIH0pXG5cbiAgaWYgKGNvdW50KSByZXR1cm4gc3VtIC8gY291bnRcblxuICByZXR1cm5cbn1cblxuY29uc3QgbWVkaWFuOiBBZ2dyZWdhdGlvbkZuPGFueT4gPSAoY29sdW1uSWQsIGxlYWZSb3dzKSA9PiB7XG4gIGlmICghbGVhZlJvd3MubGVuZ3RoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCB2YWx1ZXMgPSBsZWFmUm93cy5tYXAocm93ID0+IHJvdy5nZXRWYWx1ZShjb2x1bW5JZCkpXG4gIGlmICghaXNOdW1iZXJBcnJheSh2YWx1ZXMpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gdmFsdWVzWzBdXG4gIH1cblxuICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKHZhbHVlcy5sZW5ndGggLyAyKVxuICBjb25zdCBudW1zID0gdmFsdWVzLnNvcnQoKGEsIGIpID0+IGEgLSBiKVxuICByZXR1cm4gdmFsdWVzLmxlbmd0aCAlIDIgIT09IDAgPyBudW1zW21pZF0gOiAobnVtc1ttaWQgLSAxXSEgKyBudW1zW21pZF0hKSAvIDJcbn1cblxuY29uc3QgdW5pcXVlOiBBZ2dyZWdhdGlvbkZuPGFueT4gPSAoY29sdW1uSWQsIGxlYWZSb3dzKSA9PiB7XG4gIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQobGVhZlJvd3MubWFwKGQgPT4gZC5nZXRWYWx1ZShjb2x1bW5JZCkpKS52YWx1ZXMoKSlcbn1cblxuY29uc3QgdW5pcXVlQ291bnQ6IEFnZ3JlZ2F0aW9uRm48YW55PiA9IChjb2x1bW5JZCwgbGVhZlJvd3MpID0+IHtcbiAgcmV0dXJuIG5ldyBTZXQobGVhZlJvd3MubWFwKGQgPT4gZC5nZXRWYWx1ZShjb2x1bW5JZCkpKS5zaXplXG59XG5cbmNvbnN0IGNvdW50OiBBZ2dyZWdhdGlvbkZuPGFueT4gPSAoX2NvbHVtbklkLCBsZWFmUm93cykgPT4ge1xuICByZXR1cm4gbGVhZlJvd3MubGVuZ3RoXG59XG5cbmV4cG9ydCBjb25zdCBhZ2dyZWdhdGlvbkZucyA9IHtcbiAgc3VtLFxuICBtaW4sXG4gIG1heCxcbiAgZXh0ZW50LFxuICBtZWFuLFxuICBtZWRpYW4sXG4gIHVuaXF1ZSxcbiAgdW5pcXVlQ291bnQsXG4gIGNvdW50LFxufVxuXG5leHBvcnQgdHlwZSBCdWlsdEluQWdncmVnYXRpb25GbiA9IGtleW9mIHR5cGVvZiBhZ2dyZWdhdGlvbkZuc1xuIiwiaW1wb3J0IHsgUm93TW9kZWwgfSBmcm9tICcuLidcbmltcG9ydCB7IEJ1aWx0SW5BZ2dyZWdhdGlvbkZuLCBhZ2dyZWdhdGlvbkZucyB9IGZyb20gJy4uL2FnZ3JlZ2F0aW9uRm5zJ1xuaW1wb3J0IHtcbiAgQWdncmVnYXRpb25GbnMsXG4gIENlbGwsXG4gIENvbHVtbixcbiAgQ29sdW1uRGVmVGVtcGxhdGUsXG4gIE9uQ2hhbmdlRm4sXG4gIFJvdyxcbiAgUm93RGF0YSxcbiAgVGFibGUsXG4gIFRhYmxlRmVhdHVyZSxcbiAgVXBkYXRlcixcbn0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCBtYWtlU3RhdGVVcGRhdGVyIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCB0eXBlIEdyb3VwaW5nU3RhdGUgPSBzdHJpbmdbXVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwaW5nVGFibGVTdGF0ZSB7XG4gIGdyb3VwaW5nOiBHcm91cGluZ1N0YXRlXG59XG5cbmV4cG9ydCB0eXBlIEFnZ3JlZ2F0aW9uRm48VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiA9IChcbiAgY29sdW1uSWQ6IHN0cmluZyxcbiAgbGVhZlJvd3M6IFJvdzxURGF0YT5bXSxcbiAgY2hpbGRSb3dzOiBSb3c8VERhdGE+W11cbikgPT4gYW55XG5cbmV4cG9ydCB0eXBlIEN1c3RvbUFnZ3JlZ2F0aW9uRm5zID0gUmVjb3JkPHN0cmluZywgQWdncmVnYXRpb25Gbjxhbnk+PlxuXG5leHBvcnQgdHlwZSBBZ2dyZWdhdGlvbkZuT3B0aW9uPFREYXRhIGV4dGVuZHMgUm93RGF0YT4gPVxuICB8ICdhdXRvJ1xuICB8IGtleW9mIEFnZ3JlZ2F0aW9uRm5zXG4gIHwgQnVpbHRJbkFnZ3JlZ2F0aW9uRm5cbiAgfCBBZ2dyZWdhdGlvbkZuPFREYXRhPlxuXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwaW5nQ29sdW1uRGVmPFREYXRhIGV4dGVuZHMgUm93RGF0YSwgVFZhbHVlPiB7XG4gIC8qKlxuICAgKiBUaGUgY2VsbCB0byBkaXNwbGF5IGVhY2ggcm93IGZvciB0aGUgY29sdW1uIGlmIHRoZSBjZWxsIGlzIGFuIGFnZ3JlZ2F0ZS4gSWYgYSBmdW5jdGlvbiBpcyBwYXNzZWQsIGl0IHdpbGwgYmUgcGFzc2VkIGEgcHJvcHMgb2JqZWN0IHdpdGggdGhlIGNvbnRleHQgb2YgdGhlIGNlbGwgYW5kIHNob3VsZCByZXR1cm4gdGhlIHByb3BlcnR5IHR5cGUgZm9yIHlvdXIgYWRhcHRlciAodGhlIGV4YWN0IHR5cGUgZGVwZW5kcyBvbiB0aGUgYWRhcHRlciBiZWluZyB1c2VkKS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9ncm91cGluZyNhZ2dyZWdhdGVkY2VsbClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgYWdncmVnYXRlZENlbGw/OiBDb2x1bW5EZWZUZW1wbGF0ZTxcbiAgICBSZXR1cm5UeXBlPENlbGw8VERhdGEsIFRWYWx1ZT5bJ2dldENvbnRleHQnXT5cbiAgPlxuICAvKipcbiAgICogVGhlIHJlc29sdmVkIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIGZvciB0aGUgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dyb3VwaW5nI2FnZ3JlZ2F0aW9uZm4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIGFnZ3JlZ2F0aW9uRm4/OiBBZ2dyZWdhdGlvbkZuT3B0aW9uPFREYXRhPlxuICAvKipcbiAgICogRW5hYmxlcy9kaXNhYmxlcyBncm91cGluZyBmb3IgdGhpcyBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZW5hYmxlZ3JvdXBpbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIGVuYWJsZUdyb3VwaW5nPzogYm9vbGVhblxuICAvKipcbiAgICogU3BlY2lmeSBhIHZhbHVlIHRvIGJlIHVzZWQgZm9yIGdyb3VwaW5nIHJvd3Mgb24gdGhpcyBjb2x1bW4uIElmIHRoaXMgb3B0aW9uIGlzIG5vdCBzcGVjaWZpZWQsIHRoZSB2YWx1ZSBkZXJpdmVkIGZyb20gYGFjY2Vzc29yS2V5YCAvIGBhY2Nlc3NvckZuYCB3aWxsIGJlIHVzZWQgaW5zdGVhZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9ncm91cGluZyNnZXRncm91cGluZ3ZhbHVlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ3JvdXBpbmcpXG4gICAqL1xuICBnZXRHcm91cGluZ1ZhbHVlPzogKHJvdzogVERhdGEpID0+IGFueVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwaW5nQ29sdW1uPFREYXRhIGV4dGVuZHMgUm93RGF0YT4ge1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWdncmVnYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZ2V0YWdncmVnYXRpb25mbilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgZ2V0QWdncmVnYXRpb25GbjogKCkgPT4gQWdncmVnYXRpb25GbjxURGF0YT4gfCB1bmRlZmluZWRcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGF1dG9tYXRpY2FsbHkgaW5mZXJyZWQgYWdncmVnYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZ2V0YXV0b2FnZ3JlZ2F0aW9uZm4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIGdldEF1dG9BZ2dyZWdhdGlvbkZuOiAoKSA9PiBBZ2dyZWdhdGlvbkZuPFREYXRhPiB8IHVuZGVmaW5lZFxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29sdW1uIGNhbiBiZSBncm91cGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dyb3VwaW5nI2dldGNhbmdyb3VwKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ3JvdXBpbmcpXG4gICAqL1xuICBnZXRDYW5Hcm91cDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGNvbHVtbiBpbiB0aGUgZ3JvdXBpbmcgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZ2V0Z3JvdXBlZGluZGV4KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ3JvdXBpbmcpXG4gICAqL1xuICBnZXRHcm91cGVkSW5kZXg6ICgpID0+IG51bWJlclxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29sdW1uIGlzIGN1cnJlbnRseSBncm91cGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dyb3VwaW5nI2dldGlzZ3JvdXBlZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgZ2V0SXNHcm91cGVkOiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB0b2dnbGVzIHRoZSBncm91cGluZyBzdGF0ZSBvZiB0aGUgY29sdW1uLiBUaGlzIGlzIHVzZWZ1bCBmb3IgcGFzc2luZyB0byB0aGUgYG9uQ2xpY2tgIHByb3Agb2YgYSBidXR0b24uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZ2V0dG9nZ2xlZ3JvdXBpbmdoYW5kbGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ3JvdXBpbmcpXG4gICAqL1xuICBnZXRUb2dnbGVHcm91cGluZ0hhbmRsZXI6ICgpID0+ICgpID0+IHZvaWRcbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIGdyb3VwaW5nIHN0YXRlIG9mIHRoZSBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjdG9nZ2xlZ3JvdXBpbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIHRvZ2dsZUdyb3VwaW5nOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBpbmdSb3cge1xuICBfZ3JvdXBpbmdWYWx1ZXNDYWNoZTogUmVjb3JkPHN0cmluZywgYW55PlxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZ3JvdXBpbmcgdmFsdWUgZm9yIGFueSByb3cgYW5kIGNvbHVtbiAoaW5jbHVkaW5nIGxlYWYgcm93cykuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZ2V0Z3JvdXBpbmd2YWx1ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgZ2V0R3JvdXBpbmdWYWx1ZTogKGNvbHVtbklkOiBzdHJpbmcpID0+IHVua25vd25cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHJvdyBpcyBjdXJyZW50bHkgZ3JvdXBlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9ncm91cGluZyNnZXRpc2dyb3VwZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIGdldElzR3JvdXBlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogSWYgdGhpcyByb3cgaXMgZ3JvdXBlZCwgdGhpcyBpcyB0aGUgaWQgb2YgdGhlIGNvbHVtbiB0aGF0IHRoaXMgcm93IGlzIGdyb3VwZWQgYnkuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZ3JvdXBpbmdjb2x1bW5pZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgZ3JvdXBpbmdDb2x1bW5JZD86IHN0cmluZ1xuICAvKipcbiAgICogSWYgdGhpcyByb3cgaXMgZ3JvdXBlZCwgdGhpcyBpcyB0aGUgdW5pcXVlL3NoYXJlZCB2YWx1ZSBmb3IgdGhlIGBncm91cGluZ0NvbHVtbklkYCBmb3IgYWxsIG9mIHRoZSByb3dzIGluIHRoaXMgZ3JvdXAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZ3JvdXBpbmd2YWx1ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgZ3JvdXBpbmdWYWx1ZT86IHVua25vd25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcm91cGluZ0NlbGwge1xuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY2VsbCBpcyBjdXJyZW50bHkgYWdncmVnYXRlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9ncm91cGluZyNnZXRpc2FnZ3JlZ2F0ZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIGdldElzQWdncmVnYXRlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY2VsbCBpcyBjdXJyZW50bHkgZ3JvdXBlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9ncm91cGluZyNnZXRpc2dyb3VwZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIGdldElzR3JvdXBlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY2VsbCBpcyBjdXJyZW50bHkgYSBwbGFjZWhvbGRlciBjZWxsLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dyb3VwaW5nI2dldGlzcGxhY2Vob2xkZXIpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIGdldElzUGxhY2Vob2xkZXI6ICgpID0+IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2x1bW5EZWZhdWx0T3B0aW9ucyB7XG4gIGVuYWJsZUdyb3VwaW5nOiBib29sZWFuXG4gIG9uR3JvdXBpbmdDaGFuZ2U6IE9uQ2hhbmdlRm48R3JvdXBpbmdTdGF0ZT5cbn1cblxuaW50ZXJmYWNlIEdyb3VwaW5nT3B0aW9uc0Jhc2Uge1xuICAvKipcbiAgICogRW5hYmxlcy9kaXNhYmxlcyBncm91cGluZyBmb3IgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dyb3VwaW5nI2VuYWJsZWdyb3VwaW5nKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ3JvdXBpbmcpXG4gICAqL1xuICBlbmFibGVHcm91cGluZz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJvdyBtb2RlbCBhZnRlciBncm91cGluZyBoYXMgdGFrZW4gcGxhY2UsIGJ1dCBubyBmdXJ0aGVyLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dyb3VwaW5nI2dldGdyb3VwZWRyb3dtb2RlbClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgZ2V0R3JvdXBlZFJvd01vZGVsPzogKHRhYmxlOiBUYWJsZTxhbnk+KSA9PiAoKSA9PiBSb3dNb2RlbDxhbnk+XG4gIC8qKlxuICAgKiBHcm91cGluZyBjb2x1bW5zIGFyZSBhdXRvbWF0aWNhbGx5IHJlb3JkZXJlZCBieSBkZWZhdWx0IHRvIHRoZSBzdGFydCBvZiB0aGUgY29sdW1ucyBsaXN0LiBJZiB5b3Ugd291bGQgcmF0aGVyIHJlbW92ZSB0aGVtIG9yIGxlYXZlIHRoZW0gYXMtaXMsIHNldCB0aGUgYXBwcm9wcmlhdGUgbW9kZSBoZXJlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dyb3VwaW5nI2dyb3VwZWRjb2x1bW5tb2RlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ3JvdXBpbmcpXG4gICAqL1xuICBncm91cGVkQ29sdW1uTW9kZT86IGZhbHNlIHwgJ3Jlb3JkZXInIHwgJ3JlbW92ZSdcbiAgLyoqXG4gICAqIEVuYWJsZXMgbWFudWFsIGdyb3VwaW5nLiBJZiB0aGlzIG9wdGlvbiBpcyBzZXQgdG8gYHRydWVgLCB0aGUgdGFibGUgd2lsbCBub3QgYXV0b21hdGljYWxseSBncm91cCByb3dzIHVzaW5nIGBnZXRHcm91cGVkUm93TW9kZWwoKWAgYW5kIGluc3RlYWQgd2lsbCBleHBlY3QgeW91IHRvIG1hbnVhbGx5IGdyb3VwIHRoZSByb3dzIGJlZm9yZSBwYXNzaW5nIHRoZW0gdG8gdGhlIHRhYmxlLiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3UgYXJlIGRvaW5nIHNlcnZlci1zaWRlIGdyb3VwaW5nIGFuZCBhZ2dyZWdhdGlvbi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9ncm91cGluZyNtYW51YWxncm91cGluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgbWFudWFsR3JvdXBpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBncm91cGluZyBzdGF0ZSBjaGFuZ2VzIGFuZCB5b3Ugd2lsbCBiZSBleHBlY3RlZCB0byBtYW5hZ2UgdGhlIHN0YXRlIHlvdXJzZWxmLiBZb3UgY2FuIHBhc3MgdGhlIG1hbmFnZWQgc3RhdGUgYmFjayB0byB0aGUgdGFibGUgdmlhIHRoZSBgdGFibGVPcHRpb25zLnN0YXRlLmdyb3VwaW5nYCBvcHRpb24uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjb25ncm91cGluZ2NoYW5nZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgb25Hcm91cGluZ0NoYW5nZT86IE9uQ2hhbmdlRm48R3JvdXBpbmdTdGF0ZT5cbn1cblxudHlwZSBSZXNvbHZlZEFnZ3JlZ2F0aW9uRm5zID0ga2V5b2YgQWdncmVnYXRpb25GbnMgZXh0ZW5kcyBuZXZlclxuICA/IHtcbiAgICAgIGFnZ3JlZ2F0aW9uRm5zPzogUmVjb3JkPHN0cmluZywgQWdncmVnYXRpb25Gbjxhbnk+PlxuICAgIH1cbiAgOiB7XG4gICAgICBhZ2dyZWdhdGlvbkZuczogUmVjb3JkPGtleW9mIEFnZ3JlZ2F0aW9uRm5zLCBBZ2dyZWdhdGlvbkZuPGFueT4+XG4gICAgfVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwaW5nT3B0aW9uc1xuICBleHRlbmRzIEdyb3VwaW5nT3B0aW9uc0Jhc2UsXG4gICAgUmVzb2x2ZWRBZ2dyZWdhdGlvbkZucyB7fVxuXG5leHBvcnQgdHlwZSBHcm91cGluZ0NvbHVtbk1vZGUgPSBmYWxzZSB8ICdyZW9yZGVyJyB8ICdyZW1vdmUnXG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBpbmdJbnN0YW5jZTxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgX2dldEdyb3VwZWRSb3dNb2RlbD86ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm93IG1vZGVsIGZvciB0aGUgdGFibGUgYWZ0ZXIgZ3JvdXBpbmcgaGFzIGJlZW4gYXBwbGllZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9ncm91cGluZyNnZXRncm91cGVkcm93bW9kZWwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIGdldEdyb3VwZWRSb3dNb2RlbDogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgbW9kZWwgZm9yIHRoZSB0YWJsZSBiZWZvcmUgYW55IGdyb3VwaW5nIGhhcyBiZWVuIGFwcGxpZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ3JvdXBpbmcjZ2V0cHJlZ3JvdXBlZHJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ3JvdXBpbmcpXG4gICAqL1xuICBnZXRQcmVHcm91cGVkUm93TW9kZWw6ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmVzZXRzIHRoZSAqKmdyb3VwaW5nKiogc3RhdGUgdG8gYGluaXRpYWxTdGF0ZS5ncm91cGluZ2AsIG9yIGB0cnVlYCBjYW4gYmUgcGFzc2VkIHRvIGZvcmNlIGEgZGVmYXVsdCBibGFuayBzdGF0ZSByZXNldCB0byBgW11gLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dyb3VwaW5nI3Jlc2V0Z3JvdXBpbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9ncm91cGluZylcbiAgICovXG4gIHJlc2V0R3JvdXBpbmc6IChkZWZhdWx0U3RhdGU/OiBib29sZWFuKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBncm91cGluZyBzdGF0ZSBvZiB0aGUgdGFibGUgdmlhIGFuIHVwZGF0ZSBmdW5jdGlvbiBvciB2YWx1ZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9ncm91cGluZyNzZXRncm91cGluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dyb3VwaW5nKVxuICAgKi9cbiAgc2V0R3JvdXBpbmc6ICh1cGRhdGVyOiBVcGRhdGVyPEdyb3VwaW5nU3RhdGU+KSA9PiB2b2lkXG59XG5cbi8vXG5cbmV4cG9ydCBjb25zdCBDb2x1bW5Hcm91cGluZzogVGFibGVGZWF0dXJlID0ge1xuICBnZXREZWZhdWx0Q29sdW1uRGVmOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPigpOiBHcm91cGluZ0NvbHVtbkRlZjxcbiAgICBURGF0YSxcbiAgICB1bmtub3duXG4gID4gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBhZ2dyZWdhdGVkQ2VsbDogcHJvcHMgPT4gKHByb3BzLmdldFZhbHVlKCkgYXMgYW55KT8udG9TdHJpbmc/LigpID8/IG51bGwsXG4gICAgICBhZ2dyZWdhdGlvbkZuOiAnYXV0bycsXG4gICAgfVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZTogKHN0YXRlKTogR3JvdXBpbmdUYWJsZVN0YXRlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZ3JvdXBpbmc6IFtdLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRPcHRpb25zOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IEdyb3VwaW5nT3B0aW9ucyA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uR3JvdXBpbmdDaGFuZ2U6IG1ha2VTdGF0ZVVwZGF0ZXIoJ2dyb3VwaW5nJywgdGFibGUpLFxuICAgICAgZ3JvdXBlZENvbHVtbk1vZGU6ICdyZW9yZGVyJyxcbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlQ29sdW1uOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhLCBUVmFsdWU+KFxuICAgIGNvbHVtbjogQ29sdW1uPFREYXRhLCBUVmFsdWU+LFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogdm9pZCA9PiB7XG4gICAgY29sdW1uLnRvZ2dsZUdyb3VwaW5nID0gKCkgPT4ge1xuICAgICAgdGFibGUuc2V0R3JvdXBpbmcob2xkID0+IHtcbiAgICAgICAgLy8gRmluZCBhbnkgZXhpc3RpbmcgZ3JvdXBpbmcgZm9yIHRoaXMgY29sdW1uXG4gICAgICAgIGlmIChvbGQ/LmluY2x1ZGVzKGNvbHVtbi5pZCkpIHtcbiAgICAgICAgICByZXR1cm4gb2xkLmZpbHRlcihkID0+IGQgIT09IGNvbHVtbi5pZClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbLi4uKG9sZCA/PyBbXSksIGNvbHVtbi5pZF1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29sdW1uLmdldENhbkdyb3VwID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGNvbHVtbi5jb2x1bW5EZWYuZW5hYmxlR3JvdXBpbmcgPz8gdHJ1ZSkgJiZcbiAgICAgICAgKHRhYmxlLm9wdGlvbnMuZW5hYmxlR3JvdXBpbmcgPz8gdHJ1ZSkgJiZcbiAgICAgICAgKCEhY29sdW1uLmFjY2Vzc29yRm4gfHwgISFjb2x1bW4uY29sdW1uRGVmLmdldEdyb3VwaW5nVmFsdWUpXG4gICAgICApXG4gICAgfVxuXG4gICAgY29sdW1uLmdldElzR3JvdXBlZCA9ICgpID0+IHtcbiAgICAgIHJldHVybiB0YWJsZS5nZXRTdGF0ZSgpLmdyb3VwaW5nPy5pbmNsdWRlcyhjb2x1bW4uaWQpXG4gICAgfVxuXG4gICAgY29sdW1uLmdldEdyb3VwZWRJbmRleCA9ICgpID0+IHRhYmxlLmdldFN0YXRlKCkuZ3JvdXBpbmc/LmluZGV4T2YoY29sdW1uLmlkKVxuXG4gICAgY29sdW1uLmdldFRvZ2dsZUdyb3VwaW5nSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbkdyb3VwID0gY29sdW1uLmdldENhbkdyb3VwKClcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKCFjYW5Hcm91cCkgcmV0dXJuXG4gICAgICAgIGNvbHVtbi50b2dnbGVHcm91cGluZygpXG4gICAgICB9XG4gICAgfVxuICAgIGNvbHVtbi5nZXRBdXRvQWdncmVnYXRpb25GbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGZpcnN0Um93ID0gdGFibGUuZ2V0Q29yZVJvd01vZGVsKCkuZmxhdFJvd3NbMF1cblxuICAgICAgY29uc3QgdmFsdWUgPSBmaXJzdFJvdz8uZ2V0VmFsdWUoY29sdW1uLmlkKVxuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gYWdncmVnYXRpb25GbnMuc3VtXG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAgICAgcmV0dXJuIGFnZ3JlZ2F0aW9uRm5zLmV4dGVudFxuICAgICAgfVxuICAgIH1cbiAgICBjb2x1bW4uZ2V0QWdncmVnYXRpb25GbiA9ICgpID0+IHtcbiAgICAgIGlmICghY29sdW1uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGNvbHVtbi5jb2x1bW5EZWYuYWdncmVnYXRpb25GbilcbiAgICAgICAgPyBjb2x1bW4uY29sdW1uRGVmLmFnZ3JlZ2F0aW9uRm5cbiAgICAgICAgOiBjb2x1bW4uY29sdW1uRGVmLmFnZ3JlZ2F0aW9uRm4gPT09ICdhdXRvJ1xuICAgICAgICAgID8gY29sdW1uLmdldEF1dG9BZ2dyZWdhdGlvbkZuKClcbiAgICAgICAgICA6IHRhYmxlLm9wdGlvbnMuYWdncmVnYXRpb25GbnM/LltcbiAgICAgICAgICAgICAgY29sdW1uLmNvbHVtbkRlZi5hZ2dyZWdhdGlvbkZuIGFzIHN0cmluZ1xuICAgICAgICAgICAgXSA/P1xuICAgICAgICAgICAgYWdncmVnYXRpb25GbnNbXG4gICAgICAgICAgICAgIGNvbHVtbi5jb2x1bW5EZWYuYWdncmVnYXRpb25GbiBhcyBCdWlsdEluQWdncmVnYXRpb25GblxuICAgICAgICAgICAgXVxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVUYWJsZTogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4odGFibGU6IFRhYmxlPFREYXRhPik6IHZvaWQgPT4ge1xuICAgIHRhYmxlLnNldEdyb3VwaW5nID0gdXBkYXRlciA9PiB0YWJsZS5vcHRpb25zLm9uR3JvdXBpbmdDaGFuZ2U/Lih1cGRhdGVyKVxuXG4gICAgdGFibGUucmVzZXRHcm91cGluZyA9IGRlZmF1bHRTdGF0ZSA9PiB7XG4gICAgICB0YWJsZS5zZXRHcm91cGluZyhkZWZhdWx0U3RhdGUgPyBbXSA6IHRhYmxlLmluaXRpYWxTdGF0ZT8uZ3JvdXBpbmcgPz8gW10pXG4gICAgfVxuXG4gICAgdGFibGUuZ2V0UHJlR3JvdXBlZFJvd01vZGVsID0gKCkgPT4gdGFibGUuZ2V0RmlsdGVyZWRSb3dNb2RlbCgpXG4gICAgdGFibGUuZ2V0R3JvdXBlZFJvd01vZGVsID0gKCkgPT4ge1xuICAgICAgaWYgKCF0YWJsZS5fZ2V0R3JvdXBlZFJvd01vZGVsICYmIHRhYmxlLm9wdGlvbnMuZ2V0R3JvdXBlZFJvd01vZGVsKSB7XG4gICAgICAgIHRhYmxlLl9nZXRHcm91cGVkUm93TW9kZWwgPSB0YWJsZS5vcHRpb25zLmdldEdyb3VwZWRSb3dNb2RlbCh0YWJsZSlcbiAgICAgIH1cblxuICAgICAgaWYgKHRhYmxlLm9wdGlvbnMubWFudWFsR3JvdXBpbmcgfHwgIXRhYmxlLl9nZXRHcm91cGVkUm93TW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlLmdldFByZUdyb3VwZWRSb3dNb2RlbCgpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWJsZS5fZ2V0R3JvdXBlZFJvd01vZGVsKClcbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlUm93OiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICByb3c6IFJvdzxURGF0YT4sXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiB2b2lkID0+IHtcbiAgICByb3cuZ2V0SXNHcm91cGVkID0gKCkgPT4gISFyb3cuZ3JvdXBpbmdDb2x1bW5JZFxuICAgIHJvdy5nZXRHcm91cGluZ1ZhbHVlID0gY29sdW1uSWQgPT4ge1xuICAgICAgaWYgKHJvdy5fZ3JvdXBpbmdWYWx1ZXNDYWNoZS5oYXNPd25Qcm9wZXJ0eShjb2x1bW5JZCkpIHtcbiAgICAgICAgcmV0dXJuIHJvdy5fZ3JvdXBpbmdWYWx1ZXNDYWNoZVtjb2x1bW5JZF1cbiAgICAgIH1cblxuICAgICAgY29uc3QgY29sdW1uID0gdGFibGUuZ2V0Q29sdW1uKGNvbHVtbklkKVxuXG4gICAgICBpZiAoIWNvbHVtbj8uY29sdW1uRGVmLmdldEdyb3VwaW5nVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHJvdy5nZXRWYWx1ZShjb2x1bW5JZClcbiAgICAgIH1cblxuICAgICAgcm93Ll9ncm91cGluZ1ZhbHVlc0NhY2hlW2NvbHVtbklkXSA9IGNvbHVtbi5jb2x1bW5EZWYuZ2V0R3JvdXBpbmdWYWx1ZShcbiAgICAgICAgcm93Lm9yaWdpbmFsXG4gICAgICApXG5cbiAgICAgIHJldHVybiByb3cuX2dyb3VwaW5nVmFsdWVzQ2FjaGVbY29sdW1uSWRdXG4gICAgfVxuICAgIHJvdy5fZ3JvdXBpbmdWYWx1ZXNDYWNoZSA9IHt9XG4gIH0sXG5cbiAgY3JlYXRlQ2VsbDogPFREYXRhIGV4dGVuZHMgUm93RGF0YSwgVFZhbHVlPihcbiAgICBjZWxsOiBDZWxsPFREYXRhLCBUVmFsdWU+LFxuICAgIGNvbHVtbjogQ29sdW1uPFREYXRhLCBUVmFsdWU+LFxuICAgIHJvdzogUm93PFREYXRhPixcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGdldFJlbmRlclZhbHVlID0gKCkgPT5cbiAgICAgIGNlbGwuZ2V0VmFsdWUoKSA/PyB0YWJsZS5vcHRpb25zLnJlbmRlckZhbGxiYWNrVmFsdWVcblxuICAgIGNlbGwuZ2V0SXNHcm91cGVkID0gKCkgPT5cbiAgICAgIGNvbHVtbi5nZXRJc0dyb3VwZWQoKSAmJiBjb2x1bW4uaWQgPT09IHJvdy5ncm91cGluZ0NvbHVtbklkXG4gICAgY2VsbC5nZXRJc1BsYWNlaG9sZGVyID0gKCkgPT4gIWNlbGwuZ2V0SXNHcm91cGVkKCkgJiYgY29sdW1uLmdldElzR3JvdXBlZCgpXG4gICAgY2VsbC5nZXRJc0FnZ3JlZ2F0ZWQgPSAoKSA9PlxuICAgICAgIWNlbGwuZ2V0SXNHcm91cGVkKCkgJiYgIWNlbGwuZ2V0SXNQbGFjZWhvbGRlcigpICYmICEhcm93LnN1YlJvd3M/Lmxlbmd0aFxuICB9LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJDb2x1bW5zPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gIGxlYWZDb2x1bW5zOiBDb2x1bW48VERhdGEsIHVua25vd24+W10sXG4gIGdyb3VwaW5nOiBzdHJpbmdbXSxcbiAgZ3JvdXBlZENvbHVtbk1vZGU/OiBHcm91cGluZ0NvbHVtbk1vZGVcbikge1xuICBpZiAoIWdyb3VwaW5nPy5sZW5ndGggfHwgIWdyb3VwZWRDb2x1bW5Nb2RlKSB7XG4gICAgcmV0dXJuIGxlYWZDb2x1bW5zXG4gIH1cblxuICBjb25zdCBub25Hcm91cGluZ0NvbHVtbnMgPSBsZWFmQ29sdW1ucy5maWx0ZXIoXG4gICAgY29sID0+ICFncm91cGluZy5pbmNsdWRlcyhjb2wuaWQpXG4gIClcblxuICBpZiAoZ3JvdXBlZENvbHVtbk1vZGUgPT09ICdyZW1vdmUnKSB7XG4gICAgcmV0dXJuIG5vbkdyb3VwaW5nQ29sdW1uc1xuICB9XG5cbiAgY29uc3QgZ3JvdXBpbmdDb2x1bW5zID0gZ3JvdXBpbmdcbiAgICAubWFwKGcgPT4gbGVhZkNvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBnKSEpXG4gICAgLmZpbHRlcihCb29sZWFuKVxuXG4gIHJldHVybiBbLi4uZ3JvdXBpbmdDb2x1bW5zLCAuLi5ub25Hcm91cGluZ0NvbHVtbnNdXG59XG4iLCJpbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWFrZVN0YXRlVXBkYXRlciwgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5pbXBvcnQge1xuICBDb2x1bW4sXG4gIE9uQ2hhbmdlRm4sXG4gIFJvd0RhdGEsXG4gIFRhYmxlLFxuICBUYWJsZUZlYXR1cmUsXG4gIFVwZGF0ZXIsXG59IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgeyBvcmRlckNvbHVtbnMgfSBmcm9tICcuL0NvbHVtbkdyb3VwaW5nJ1xuaW1wb3J0IHsgQ29sdW1uUGlubmluZ1Bvc2l0aW9uLCBfZ2V0VmlzaWJsZUxlYWZDb2x1bW5zIH0gZnJvbSAnLi4nXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uT3JkZXJUYWJsZVN0YXRlIHtcbiAgY29sdW1uT3JkZXI6IENvbHVtbk9yZGVyU3RhdGVcbn1cblxuZXhwb3J0IHR5cGUgQ29sdW1uT3JkZXJTdGF0ZSA9IHN0cmluZ1tdXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uT3JkZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggYW4gYHVwZGF0ZXJGbmAgd2hlbiBgc3RhdGUuY29sdW1uT3JkZXJgIGNoYW5nZXMuIFRoaXMgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IGludGVybmFsIHN0YXRlIG1hbmFnZW1lbnQsIHNvIHlvdSB3aWxsIG5lZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlIGVpdGhlciBmdWxseSBvciBwYXJ0aWFsbHkgb3V0c2lkZSBvZiB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLW9yZGVyaW5nI29uY29sdW1ub3JkZXJjaGFuZ2UpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tb3JkZXJpbmcpXG4gICAqL1xuICBvbkNvbHVtbk9yZGVyQ2hhbmdlPzogT25DaGFuZ2VGbjxDb2x1bW5PcmRlclN0YXRlPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtbk9yZGVyQ29sdW1uIHtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBjb2x1bW4gaW4gdGhlIG9yZGVyIG9mIHRoZSB2aXNpYmxlIGNvbHVtbnMuIE9wdGlvbmFsbHkgcGFzcyBhIGBwb3NpdGlvbmAgcGFyYW1ldGVyIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGNvbHVtbiBpbiBhIHN1Yi1zZWN0aW9uIG9mIHRoZSB0YWJsZVxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1vcmRlcmluZyNnZXRpbmRleClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1vcmRlcmluZylcbiAgICovXG4gIGdldEluZGV4OiAocG9zaXRpb24/OiBDb2x1bW5QaW5uaW5nUG9zaXRpb24gfCAnY2VudGVyJykgPT4gbnVtYmVyXG4gIC8qKlxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgY29sdW1uIGlzIHRoZSBmaXJzdCBjb2x1bW4gaW4gdGhlIG9yZGVyIG9mIHRoZSB2aXNpYmxlIGNvbHVtbnMuIE9wdGlvbmFsbHkgcGFzcyBhIGBwb3NpdGlvbmAgcGFyYW1ldGVyIHRvIGNoZWNrIGlmIHRoZSBjb2x1bW4gaXMgdGhlIGZpcnN0IGluIGEgc3ViLXNlY3Rpb24gb2YgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1vcmRlcmluZyNnZXRpc2ZpcnN0Y29sdW1uKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLW9yZGVyaW5nKVxuICAgKi9cbiAgZ2V0SXNGaXJzdENvbHVtbjogKHBvc2l0aW9uPzogQ29sdW1uUGlubmluZ1Bvc2l0aW9uIHwgJ2NlbnRlcicpID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBjb2x1bW4gaXMgdGhlIGxhc3QgY29sdW1uIGluIHRoZSBvcmRlciBvZiB0aGUgdmlzaWJsZSBjb2x1bW5zLiBPcHRpb25hbGx5IHBhc3MgYSBgcG9zaXRpb25gIHBhcmFtZXRlciB0byBjaGVjayBpZiB0aGUgY29sdW1uIGlzIHRoZSBsYXN0IGluIGEgc3ViLXNlY3Rpb24gb2YgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1vcmRlcmluZyNnZXRpc2xhc3Rjb2x1bW4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tb3JkZXJpbmcpXG4gICAqL1xuICBnZXRJc0xhc3RDb2x1bW46IChwb3NpdGlvbj86IENvbHVtblBpbm5pbmdQb3NpdGlvbiB8ICdjZW50ZXInKSA9PiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uT3JkZXJEZWZhdWx0T3B0aW9ucyB7XG4gIG9uQ29sdW1uT3JkZXJDaGFuZ2U6IE9uQ2hhbmdlRm48Q29sdW1uT3JkZXJTdGF0ZT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2x1bW5PcmRlckluc3RhbmNlPFREYXRhIGV4dGVuZHMgUm93RGF0YT4ge1xuICBfZ2V0T3JkZXJDb2x1bW5zRm46ICgpID0+IChcbiAgICBjb2x1bW5zOiBDb2x1bW48VERhdGEsIHVua25vd24+W11cbiAgKSA9PiBDb2x1bW48VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgKipjb2x1bW5PcmRlcioqIHN0YXRlIHRvIGBpbml0aWFsU3RhdGUuY29sdW1uT3JkZXJgLCBvciBgdHJ1ZWAgY2FuIGJlIHBhc3NlZCB0byBmb3JjZSBhIGRlZmF1bHQgYmxhbmsgc3RhdGUgcmVzZXQgdG8gYFtdYC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tb3JkZXJpbmcjcmVzZXRjb2x1bW5vcmRlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1vcmRlcmluZylcbiAgICovXG4gIHJlc2V0Q29sdW1uT3JkZXI6IChkZWZhdWx0U3RhdGU/OiBib29sZWFuKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBTZXRzIG9yIHVwZGF0ZXMgdGhlIGBzdGF0ZS5jb2x1bW5PcmRlcmAgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLW9yZGVyaW5nI3NldGNvbHVtbm9yZGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLW9yZGVyaW5nKVxuICAgKi9cbiAgc2V0Q29sdW1uT3JkZXI6ICh1cGRhdGVyOiBVcGRhdGVyPENvbHVtbk9yZGVyU3RhdGU+KSA9PiB2b2lkXG59XG5cbi8vXG5cbmV4cG9ydCBjb25zdCBDb2x1bW5PcmRlcmluZzogVGFibGVGZWF0dXJlID0ge1xuICBnZXRJbml0aWFsU3RhdGU6IChzdGF0ZSk6IENvbHVtbk9yZGVyVGFibGVTdGF0ZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbHVtbk9yZGVyOiBbXSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfSxcblxuICBnZXREZWZhdWx0T3B0aW9uczogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiBDb2x1bW5PcmRlckRlZmF1bHRPcHRpb25zID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgb25Db2x1bW5PcmRlckNoYW5nZTogbWFrZVN0YXRlVXBkYXRlcignY29sdW1uT3JkZXInLCB0YWJsZSksXG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZUNvbHVtbjogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gICAgY29sdW1uOiBDb2x1bW48VERhdGEsIHVua25vd24+LFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogdm9pZCA9PiB7XG4gICAgY29sdW1uLmdldEluZGV4ID0gbWVtbyhcbiAgICAgIHBvc2l0aW9uID0+IFtfZ2V0VmlzaWJsZUxlYWZDb2x1bW5zKHRhYmxlLCBwb3NpdGlvbildLFxuICAgICAgY29sdW1ucyA9PiBjb2x1bW5zLmZpbmRJbmRleChkID0+IGQuaWQgPT09IGNvbHVtbi5pZCksXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdDb2x1bW5zJywgJ2dldEluZGV4JylcbiAgICApXG4gICAgY29sdW1uLmdldElzRmlyc3RDb2x1bW4gPSBwb3NpdGlvbiA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gX2dldFZpc2libGVMZWFmQ29sdW1ucyh0YWJsZSwgcG9zaXRpb24pXG4gICAgICByZXR1cm4gY29sdW1uc1swXT8uaWQgPT09IGNvbHVtbi5pZFxuICAgIH1cbiAgICBjb2x1bW4uZ2V0SXNMYXN0Q29sdW1uID0gcG9zaXRpb24gPT4ge1xuICAgICAgY29uc3QgY29sdW1ucyA9IF9nZXRWaXNpYmxlTGVhZkNvbHVtbnModGFibGUsIHBvc2l0aW9uKVxuICAgICAgcmV0dXJuIGNvbHVtbnNbY29sdW1ucy5sZW5ndGggLSAxXT8uaWQgPT09IGNvbHVtbi5pZFxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVUYWJsZTogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4odGFibGU6IFRhYmxlPFREYXRhPik6IHZvaWQgPT4ge1xuICAgIHRhYmxlLnNldENvbHVtbk9yZGVyID0gdXBkYXRlciA9PlxuICAgICAgdGFibGUub3B0aW9ucy5vbkNvbHVtbk9yZGVyQ2hhbmdlPy4odXBkYXRlcilcbiAgICB0YWJsZS5yZXNldENvbHVtbk9yZGVyID0gZGVmYXVsdFN0YXRlID0+IHtcbiAgICAgIHRhYmxlLnNldENvbHVtbk9yZGVyKFxuICAgICAgICBkZWZhdWx0U3RhdGUgPyBbXSA6IHRhYmxlLmluaXRpYWxTdGF0ZS5jb2x1bW5PcmRlciA/PyBbXVxuICAgICAgKVxuICAgIH1cbiAgICB0YWJsZS5fZ2V0T3JkZXJDb2x1bW5zRm4gPSBtZW1vKFxuICAgICAgKCkgPT4gW1xuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtbk9yZGVyLFxuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLmdyb3VwaW5nLFxuICAgICAgICB0YWJsZS5vcHRpb25zLmdyb3VwZWRDb2x1bW5Nb2RlLFxuICAgICAgXSxcbiAgICAgIChjb2x1bW5PcmRlciwgZ3JvdXBpbmcsIGdyb3VwZWRDb2x1bW5Nb2RlKSA9PlxuICAgICAgICAoY29sdW1uczogQ29sdW1uPFREYXRhLCB1bmtub3duPltdKSA9PiB7XG4gICAgICAgICAgLy8gU29ydCBncm91cGVkIGNvbHVtbnMgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb2x1bW4gbGlzdFxuICAgICAgICAgIC8vIGJlZm9yZSB0aGUgaGVhZGVycyBhcmUgYnVpbHRcbiAgICAgICAgICBsZXQgb3JkZXJlZENvbHVtbnM6IENvbHVtbjxURGF0YSwgdW5rbm93bj5bXSA9IFtdXG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBvcmRlciwgcmV0dXJuIHRoZSBub3JtYWwgY29sdW1uc1xuICAgICAgICAgIGlmICghY29sdW1uT3JkZXI/Lmxlbmd0aCkge1xuICAgICAgICAgICAgb3JkZXJlZENvbHVtbnMgPSBjb2x1bW5zXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbk9yZGVyQ29weSA9IFsuLi5jb2x1bW5PcmRlcl1cblxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gb3JkZXIsIG1ha2UgYSBjb3B5IG9mIHRoZSBjb2x1bW5zXG4gICAgICAgICAgICBjb25zdCBjb2x1bW5zQ29weSA9IFsuLi5jb2x1bW5zXVxuXG4gICAgICAgICAgICAvLyBBbmQgbWFrZSBhIG5ldyBvcmRlcmVkIGFycmF5IG9mIHRoZSBjb2x1bW5zXG5cbiAgICAgICAgICAgIC8vIExvb3Agb3ZlciB0aGUgY29sdW1ucyBhbmQgcGxhY2UgdGhlbSBpbiBvcmRlciBpbnRvIHRoZSBuZXcgYXJyYXlcbiAgICAgICAgICAgIHdoaWxlIChjb2x1bW5zQ29weS5sZW5ndGggJiYgY29sdW1uT3JkZXJDb3B5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICBjb25zdCB0YXJnZXRDb2x1bW5JZCA9IGNvbHVtbk9yZGVyQ29weS5zaGlmdCgpXG4gICAgICAgICAgICAgIGNvbnN0IGZvdW5kSW5kZXggPSBjb2x1bW5zQ29weS5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgZCA9PiBkLmlkID09PSB0YXJnZXRDb2x1bW5JZFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGlmIChmb3VuZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBvcmRlcmVkQ29sdW1ucy5wdXNoKGNvbHVtbnNDb3B5LnNwbGljZShmb3VuZEluZGV4LCAxKVswXSEpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBjb2x1bW5zIGxlZnQsIGFkZCB0aGVtIHRvIHRoZSBlbmRcbiAgICAgICAgICAgIG9yZGVyZWRDb2x1bW5zID0gWy4uLm9yZGVyZWRDb2x1bW5zLCAuLi5jb2x1bW5zQ29weV1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gb3JkZXJDb2x1bW5zKG9yZGVyZWRDb2x1bW5zLCBncm91cGluZywgZ3JvdXBlZENvbHVtbk1vZGUpXG4gICAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdUYWJsZScsICdfZ2V0T3JkZXJDb2x1bW5zRm4nKVxuICAgIClcbiAgfSxcbn1cbiIsImltcG9ydCB7XG4gIE9uQ2hhbmdlRm4sXG4gIFVwZGF0ZXIsXG4gIFRhYmxlLFxuICBDb2x1bW4sXG4gIFJvdyxcbiAgQ2VsbCxcbiAgUm93RGF0YSxcbiAgVGFibGVGZWF0dXJlLFxufSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IGdldE1lbW9PcHRpb25zLCBtYWtlU3RhdGVVcGRhdGVyLCBtZW1vIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCB0eXBlIENvbHVtblBpbm5pbmdQb3NpdGlvbiA9IGZhbHNlIHwgJ2xlZnQnIHwgJ3JpZ2h0J1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtblBpbm5pbmdTdGF0ZSB7XG4gIGxlZnQ/OiBzdHJpbmdbXVxuICByaWdodD86IHN0cmluZ1tdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uUGlubmluZ1RhYmxlU3RhdGUge1xuICBjb2x1bW5QaW5uaW5nOiBDb2x1bW5QaW5uaW5nU3RhdGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2x1bW5QaW5uaW5nT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBFbmFibGVzL2Rpc2FibGVzIGNvbHVtbiBwaW5uaW5nIGZvciB0aGUgdGFibGUuIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tcGlubmluZyNlbmFibGVjb2x1bW5waW5uaW5nKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXBpbm5pbmcpXG4gICAqL1xuICBlbmFibGVDb2x1bW5QaW5uaW5nPzogYm9vbGVhblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBlbmFibGVDb2x1bW5QaW5uaW5nYCBvciBgZW5hYmxlUm93UGlubmluZ2AgaW5zdGVhZC5cbiAgICogRW5hYmxlcy9kaXNhYmxlcyBhbGwgcGlubmluZyBmb3IgdGhlIHRhYmxlLiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXBpbm5pbmcjZW5hYmxlcGlubmluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1waW5uaW5nKVxuICAgKi9cbiAgZW5hYmxlUGlubmluZz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggYW4gYHVwZGF0ZXJGbmAgd2hlbiBgc3RhdGUuY29sdW1uUGlubmluZ2AgY2hhbmdlcy4gVGhpcyBvdmVycmlkZXMgdGhlIGRlZmF1bHQgaW50ZXJuYWwgc3RhdGUgbWFuYWdlbWVudCwgc28geW91IHdpbGwgYWxzbyBuZWVkIHRvIHN1cHBseSBgc3RhdGUuY29sdW1uUGlubmluZ2AgZnJvbSB5b3VyIG93biBtYW5hZ2VkIHN0YXRlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1waW5uaW5nI29uY29sdW1ucGlubmluZ2NoYW5nZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL29uY29sdW1ucGlubmluZ2NoYW5nZSlcbiAgICovXG4gIG9uQ29sdW1uUGlubmluZ0NoYW5nZT86IE9uQ2hhbmdlRm48Q29sdW1uUGlubmluZ1N0YXRlPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtblBpbm5pbmdEZWZhdWx0T3B0aW9ucyB7XG4gIG9uQ29sdW1uUGlubmluZ0NoYW5nZTogT25DaGFuZ2VGbjxDb2x1bW5QaW5uaW5nU3RhdGU+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uUGlubmluZ0NvbHVtbkRlZiB7XG4gIC8qKlxuICAgKiBFbmFibGVzL2Rpc2FibGVzIGNvbHVtbiBwaW5uaW5nIGZvciB0aGlzIGNvbHVtbi4gRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1waW5uaW5nI2VuYWJsZXBpbm5pbmctMSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1waW5uaW5nKVxuICAgKi9cbiAgZW5hYmxlUGlubmluZz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2x1bW5QaW5uaW5nQ29sdW1uIHtcbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNvbHVtbiBjYW4gYmUgcGlubmVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1waW5uaW5nI2dldGNhbnBpbilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1waW5uaW5nKVxuICAgKi9cbiAgZ2V0Q2FuUGluOiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwaW5uZWQgcG9zaXRpb24gb2YgdGhlIGNvbHVtbi4gKGAnbGVmdCdgLCBgJ3JpZ2h0J2Agb3IgYGZhbHNlYClcbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tcGlubmluZyNnZXRpc3Bpbm5lZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1waW5uaW5nKVxuICAgKi9cbiAgZ2V0SXNQaW5uZWQ6ICgpID0+IENvbHVtblBpbm5pbmdQb3NpdGlvblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtZXJpYyBwaW5uZWQgaW5kZXggb2YgdGhlIGNvbHVtbiB3aXRoaW4gYSBwaW5uZWQgY29sdW1uIGdyb3VwLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1waW5uaW5nI2dldHBpbm5lZGluZGV4KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXBpbm5pbmcpXG4gICAqL1xuICBnZXRQaW5uZWRJbmRleDogKCkgPT4gbnVtYmVyXG4gIC8qKlxuICAgKiBQaW5zIGEgY29sdW1uIHRvIHRoZSBgJ2xlZnQnYCBvciBgJ3JpZ2h0J2AsIG9yIHVucGlucyB0aGUgY29sdW1uIHRvIHRoZSBjZW50ZXIgaWYgYGZhbHNlYCBpcyBwYXNzZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXBpbm5pbmcjcGluKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXBpbm5pbmcpXG4gICAqL1xuICBwaW46IChwb3NpdGlvbjogQ29sdW1uUGlubmluZ1Bvc2l0aW9uKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uUGlubmluZ1JvdzxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGNlbnRlciBwaW5uZWQgKHVucGlubmVkKSBsZWFmIGNlbGxzIGluIHRoZSByb3cuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXBpbm5pbmcjZ2V0Y2VudGVydmlzaWJsZWNlbGxzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXBpbm5pbmcpXG4gICAqL1xuICBnZXRDZW50ZXJWaXNpYmxlQ2VsbHM6ICgpID0+IENlbGw8VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGxlZnQgcGlubmVkIGxlYWYgY2VsbHMgaW4gdGhlIHJvdy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tcGlubmluZyNnZXRsZWZ0dmlzaWJsZWNlbGxzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXBpbm5pbmcpXG4gICAqL1xuICBnZXRMZWZ0VmlzaWJsZUNlbGxzOiAoKSA9PiBDZWxsPFREYXRhLCB1bmtub3duPltdXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCByaWdodCBwaW5uZWQgbGVhZiBjZWxscyBpbiB0aGUgcm93LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1waW5uaW5nI2dldHJpZ2h0dmlzaWJsZWNlbGxzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXBpbm5pbmcpXG4gICAqL1xuICBnZXRSaWdodFZpc2libGVDZWxsczogKCkgPT4gQ2VsbDxURGF0YSwgdW5rbm93bj5bXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtblBpbm5pbmdJbnN0YW5jZTxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGNlbnRlciBwaW5uZWQgKHVucGlubmVkKSBsZWFmIGNvbHVtbnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXBpbm5pbmcjZ2V0Y2VudGVybGVhZmNvbHVtbnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tcGlubmluZylcbiAgICovXG4gIGdldENlbnRlckxlYWZDb2x1bW5zOiAoKSA9PiBDb2x1bW48VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgYW55IGNvbHVtbnMgYXJlIHBpbm5lZC4gT3B0aW9uYWxseSBzcGVjaWZ5IHRvIG9ubHkgY2hlY2sgZm9yIHBpbm5lZCBjb2x1bW5zIGluIGVpdGhlciB0aGUgYGxlZnRgIG9yIGByaWdodGAgcG9zaXRpb24uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXBpbm5pbmcjZ2V0aXNzb21lY29sdW1uc3Bpbm5lZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1waW5uaW5nKVxuICAgKi9cbiAgZ2V0SXNTb21lQ29sdW1uc1Bpbm5lZDogKHBvc2l0aW9uPzogQ29sdW1uUGlubmluZ1Bvc2l0aW9uKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCBsZWZ0IHBpbm5lZCBsZWFmIGNvbHVtbnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXBpbm5pbmcjZ2V0bGVmdGxlYWZjb2x1bW5zKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXBpbm5pbmcpXG4gICAqL1xuICBnZXRMZWZ0TGVhZkNvbHVtbnM6ICgpID0+IENvbHVtbjxURGF0YSwgdW5rbm93bj5bXVxuICAvKipcbiAgICogUmV0dXJucyBhbGwgcmlnaHQgcGlubmVkIGxlYWYgY29sdW1ucy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tcGlubmluZyNnZXRyaWdodGxlYWZjb2x1bW5zKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXBpbm5pbmcpXG4gICAqL1xuICBnZXRSaWdodExlYWZDb2x1bW5zOiAoKSA9PiBDb2x1bW48VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgKipjb2x1bW5QaW5uaW5nKiogc3RhdGUgdG8gYGluaXRpYWxTdGF0ZS5jb2x1bW5QaW5uaW5nYCwgb3IgYHRydWVgIGNhbiBiZSBwYXNzZWQgdG8gZm9yY2UgYSBkZWZhdWx0IGJsYW5rIHN0YXRlIHJlc2V0IHRvIGB7IGxlZnQ6IFtdLCByaWdodDogW10sIH1gLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1waW5uaW5nI3Jlc2V0Y29sdW1ucGlubmluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1waW5uaW5nKVxuICAgKi9cbiAgcmVzZXRDb2x1bW5QaW5uaW5nOiAoZGVmYXVsdFN0YXRlPzogYm9vbGVhbikgPT4gdm9pZFxuICAvKipcbiAgICogU2V0cyBvciB1cGRhdGVzIHRoZSBgc3RhdGUuY29sdW1uUGlubmluZ2Agc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXBpbm5pbmcjc2V0Y29sdW1ucGlubmluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1waW5uaW5nKVxuICAgKi9cbiAgc2V0Q29sdW1uUGlubmluZzogKHVwZGF0ZXI6IFVwZGF0ZXI8Q29sdW1uUGlubmluZ1N0YXRlPikgPT4gdm9pZFxufVxuXG4vL1xuXG5jb25zdCBnZXREZWZhdWx0Q29sdW1uUGlubmluZ1N0YXRlID0gKCk6IENvbHVtblBpbm5pbmdTdGF0ZSA9PiAoe1xuICBsZWZ0OiBbXSxcbiAgcmlnaHQ6IFtdLFxufSlcblxuZXhwb3J0IGNvbnN0IENvbHVtblBpbm5pbmc6IFRhYmxlRmVhdHVyZSA9IHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiAoc3RhdGUpOiBDb2x1bW5QaW5uaW5nVGFibGVTdGF0ZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbHVtblBpbm5pbmc6IGdldERlZmF1bHRDb2x1bW5QaW5uaW5nU3RhdGUoKSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfSxcblxuICBnZXREZWZhdWx0T3B0aW9uczogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiBDb2x1bW5QaW5uaW5nRGVmYXVsdE9wdGlvbnMgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBvbkNvbHVtblBpbm5pbmdDaGFuZ2U6IG1ha2VTdGF0ZVVwZGF0ZXIoJ2NvbHVtblBpbm5pbmcnLCB0YWJsZSksXG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZUNvbHVtbjogPFREYXRhIGV4dGVuZHMgUm93RGF0YSwgVFZhbHVlPihcbiAgICBjb2x1bW46IENvbHVtbjxURGF0YSwgVFZhbHVlPixcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IHZvaWQgPT4ge1xuICAgIGNvbHVtbi5waW4gPSBwb3NpdGlvbiA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5JZHMgPSBjb2x1bW5cbiAgICAgICAgLmdldExlYWZDb2x1bW5zKClcbiAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW11cblxuICAgICAgdGFibGUuc2V0Q29sdW1uUGlubmluZyhvbGQgPT4ge1xuICAgICAgICBpZiAocG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogKG9sZD8ubGVmdCA/PyBbXSkuZmlsdGVyKGQgPT4gIWNvbHVtbklkcz8uaW5jbHVkZXMoZCkpLFxuICAgICAgICAgICAgcmlnaHQ6IFtcbiAgICAgICAgICAgICAgLi4uKG9sZD8ucmlnaHQgPz8gW10pLmZpbHRlcihkID0+ICFjb2x1bW5JZHM/LmluY2x1ZGVzKGQpKSxcbiAgICAgICAgICAgICAgLi4uY29sdW1uSWRzLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBbXG4gICAgICAgICAgICAgIC4uLihvbGQ/LmxlZnQgPz8gW10pLmZpbHRlcihkID0+ICFjb2x1bW5JZHM/LmluY2x1ZGVzKGQpKSxcbiAgICAgICAgICAgICAgLi4uY29sdW1uSWRzLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHJpZ2h0OiAob2xkPy5yaWdodCA/PyBbXSkuZmlsdGVyKGQgPT4gIWNvbHVtbklkcz8uaW5jbHVkZXMoZCkpLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGVmdDogKG9sZD8ubGVmdCA/PyBbXSkuZmlsdGVyKGQgPT4gIWNvbHVtbklkcz8uaW5jbHVkZXMoZCkpLFxuICAgICAgICAgIHJpZ2h0OiAob2xkPy5yaWdodCA/PyBbXSkuZmlsdGVyKGQgPT4gIWNvbHVtbklkcz8uaW5jbHVkZXMoZCkpLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbHVtbi5nZXRDYW5QaW4gPSAoKSA9PiB7XG4gICAgICBjb25zdCBsZWFmQ29sdW1ucyA9IGNvbHVtbi5nZXRMZWFmQ29sdW1ucygpXG5cbiAgICAgIHJldHVybiBsZWFmQ29sdW1ucy5zb21lKFxuICAgICAgICBkID0+XG4gICAgICAgICAgKGQuY29sdW1uRGVmLmVuYWJsZVBpbm5pbmcgPz8gdHJ1ZSkgJiZcbiAgICAgICAgICAodGFibGUub3B0aW9ucy5lbmFibGVDb2x1bW5QaW5uaW5nID8/XG4gICAgICAgICAgICB0YWJsZS5vcHRpb25zLmVuYWJsZVBpbm5pbmcgPz9cbiAgICAgICAgICAgIHRydWUpXG4gICAgICApXG4gICAgfVxuXG4gICAgY29sdW1uLmdldElzUGlubmVkID0gKCkgPT4ge1xuICAgICAgY29uc3QgbGVhZkNvbHVtbklkcyA9IGNvbHVtbi5nZXRMZWFmQ29sdW1ucygpLm1hcChkID0+IGQuaWQpXG5cbiAgICAgIGNvbnN0IHsgbGVmdCwgcmlnaHQgfSA9IHRhYmxlLmdldFN0YXRlKCkuY29sdW1uUGlubmluZ1xuXG4gICAgICBjb25zdCBpc0xlZnQgPSBsZWFmQ29sdW1uSWRzLnNvbWUoZCA9PiBsZWZ0Py5pbmNsdWRlcyhkKSlcbiAgICAgIGNvbnN0IGlzUmlnaHQgPSBsZWFmQ29sdW1uSWRzLnNvbWUoZCA9PiByaWdodD8uaW5jbHVkZXMoZCkpXG5cbiAgICAgIHJldHVybiBpc0xlZnQgPyAnbGVmdCcgOiBpc1JpZ2h0ID8gJ3JpZ2h0JyA6IGZhbHNlXG4gICAgfVxuXG4gICAgY29sdW1uLmdldFBpbm5lZEluZGV4ID0gKCkgPT4ge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBjb2x1bW4uZ2V0SXNQaW5uZWQoKVxuXG4gICAgICByZXR1cm4gcG9zaXRpb25cbiAgICAgICAgPyB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblBpbm5pbmc/Lltwb3NpdGlvbl0/LmluZGV4T2YoY29sdW1uLmlkKSA/PyAtMVxuICAgICAgICA6IDBcbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlUm93OiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICByb3c6IFJvdzxURGF0YT4sXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiB2b2lkID0+IHtcbiAgICByb3cuZ2V0Q2VudGVyVmlzaWJsZUNlbGxzID0gbWVtbyhcbiAgICAgICgpID0+IFtcbiAgICAgICAgcm93Ll9nZXRBbGxWaXNpYmxlQ2VsbHMoKSxcbiAgICAgICAgdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5QaW5uaW5nLmxlZnQsXG4gICAgICAgIHRhYmxlLmdldFN0YXRlKCkuY29sdW1uUGlubmluZy5yaWdodCxcbiAgICAgIF0sXG4gICAgICAoYWxsQ2VsbHMsIGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgICAgIGNvbnN0IGxlZnRBbmRSaWdodDogc3RyaW5nW10gPSBbLi4uKGxlZnQgPz8gW10pLCAuLi4ocmlnaHQgPz8gW10pXVxuXG4gICAgICAgIHJldHVybiBhbGxDZWxscy5maWx0ZXIoZCA9PiAhbGVmdEFuZFJpZ2h0LmluY2x1ZGVzKGQuY29sdW1uLmlkKSlcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdSb3dzJywgJ2dldENlbnRlclZpc2libGVDZWxscycpXG4gICAgKVxuICAgIHJvdy5nZXRMZWZ0VmlzaWJsZUNlbGxzID0gbWVtbyhcbiAgICAgICgpID0+IFtyb3cuX2dldEFsbFZpc2libGVDZWxscygpLCB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblBpbm5pbmcubGVmdF0sXG4gICAgICAoYWxsQ2VsbHMsIGxlZnQpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbHMgPSAobGVmdCA/PyBbXSlcbiAgICAgICAgICAubWFwKGNvbHVtbklkID0+IGFsbENlbGxzLmZpbmQoY2VsbCA9PiBjZWxsLmNvbHVtbi5pZCA9PT0gY29sdW1uSWQpISlcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgLm1hcChkID0+ICh7IC4uLmQsIHBvc2l0aW9uOiAnbGVmdCcgfSkgYXMgQ2VsbDxURGF0YSwgdW5rbm93bj4pXG5cbiAgICAgICAgcmV0dXJuIGNlbGxzXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnUm93cycsICdnZXRMZWZ0VmlzaWJsZUNlbGxzJylcbiAgICApXG4gICAgcm93LmdldFJpZ2h0VmlzaWJsZUNlbGxzID0gbWVtbyhcbiAgICAgICgpID0+IFtyb3cuX2dldEFsbFZpc2libGVDZWxscygpLCB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblBpbm5pbmcucmlnaHRdLFxuICAgICAgKGFsbENlbGxzLCByaWdodCkgPT4ge1xuICAgICAgICBjb25zdCBjZWxscyA9IChyaWdodCA/PyBbXSlcbiAgICAgICAgICAubWFwKGNvbHVtbklkID0+IGFsbENlbGxzLmZpbmQoY2VsbCA9PiBjZWxsLmNvbHVtbi5pZCA9PT0gY29sdW1uSWQpISlcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgLm1hcChkID0+ICh7IC4uLmQsIHBvc2l0aW9uOiAncmlnaHQnIH0pIGFzIENlbGw8VERhdGEsIHVua25vd24+KVxuXG4gICAgICAgIHJldHVybiBjZWxsc1xuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsICdkZWJ1Z1Jvd3MnLCAnZ2V0UmlnaHRWaXNpYmxlQ2VsbHMnKVxuICAgIClcbiAgfSxcblxuICBjcmVhdGVUYWJsZTogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4odGFibGU6IFRhYmxlPFREYXRhPik6IHZvaWQgPT4ge1xuICAgIHRhYmxlLnNldENvbHVtblBpbm5pbmcgPSB1cGRhdGVyID0+XG4gICAgICB0YWJsZS5vcHRpb25zLm9uQ29sdW1uUGlubmluZ0NoYW5nZT8uKHVwZGF0ZXIpXG5cbiAgICB0YWJsZS5yZXNldENvbHVtblBpbm5pbmcgPSBkZWZhdWx0U3RhdGUgPT5cbiAgICAgIHRhYmxlLnNldENvbHVtblBpbm5pbmcoXG4gICAgICAgIGRlZmF1bHRTdGF0ZVxuICAgICAgICAgID8gZ2V0RGVmYXVsdENvbHVtblBpbm5pbmdTdGF0ZSgpXG4gICAgICAgICAgOiB0YWJsZS5pbml0aWFsU3RhdGU/LmNvbHVtblBpbm5pbmcgPz8gZ2V0RGVmYXVsdENvbHVtblBpbm5pbmdTdGF0ZSgpXG4gICAgICApXG5cbiAgICB0YWJsZS5nZXRJc1NvbWVDb2x1bW5zUGlubmVkID0gcG9zaXRpb24gPT4ge1xuICAgICAgY29uc3QgcGlubmluZ1N0YXRlID0gdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5QaW5uaW5nXG5cbiAgICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocGlubmluZ1N0YXRlLmxlZnQ/Lmxlbmd0aCB8fCBwaW5uaW5nU3RhdGUucmlnaHQ/Lmxlbmd0aClcbiAgICAgIH1cbiAgICAgIHJldHVybiBCb29sZWFuKHBpbm5pbmdTdGF0ZVtwb3NpdGlvbl0/Lmxlbmd0aClcbiAgICB9XG5cbiAgICB0YWJsZS5nZXRMZWZ0TGVhZkNvbHVtbnMgPSBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldEFsbExlYWZDb2x1bW5zKCksIHRhYmxlLmdldFN0YXRlKCkuY29sdW1uUGlubmluZy5sZWZ0XSxcbiAgICAgIChhbGxDb2x1bW5zLCBsZWZ0KSA9PiB7XG4gICAgICAgIHJldHVybiAobGVmdCA/PyBbXSlcbiAgICAgICAgICAubWFwKGNvbHVtbklkID0+IGFsbENvbHVtbnMuZmluZChjb2x1bW4gPT4gY29sdW1uLmlkID09PSBjb2x1bW5JZCkhKVxuICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdDb2x1bW5zJywgJ2dldExlZnRMZWFmQ29sdW1ucycpXG4gICAgKVxuXG4gICAgdGFibGUuZ2V0UmlnaHRMZWFmQ29sdW1ucyA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0QWxsTGVhZkNvbHVtbnMoKSwgdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5QaW5uaW5nLnJpZ2h0XSxcbiAgICAgIChhbGxDb2x1bW5zLCByaWdodCkgPT4ge1xuICAgICAgICByZXR1cm4gKHJpZ2h0ID8/IFtdKVxuICAgICAgICAgIC5tYXAoY29sdW1uSWQgPT4gYWxsQ29sdW1ucy5maW5kKGNvbHVtbiA9PiBjb2x1bW4uaWQgPT09IGNvbHVtbklkKSEpXG4gICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsICdkZWJ1Z0NvbHVtbnMnLCAnZ2V0UmlnaHRMZWFmQ29sdW1ucycpXG4gICAgKVxuXG4gICAgdGFibGUuZ2V0Q2VudGVyTGVhZkNvbHVtbnMgPSBtZW1vKFxuICAgICAgKCkgPT4gW1xuICAgICAgICB0YWJsZS5nZXRBbGxMZWFmQ29sdW1ucygpLFxuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblBpbm5pbmcubGVmdCxcbiAgICAgICAgdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5QaW5uaW5nLnJpZ2h0LFxuICAgICAgXSxcbiAgICAgIChhbGxDb2x1bW5zLCBsZWZ0LCByaWdodCkgPT4ge1xuICAgICAgICBjb25zdCBsZWZ0QW5kUmlnaHQ6IHN0cmluZ1tdID0gWy4uLihsZWZ0ID8/IFtdKSwgLi4uKHJpZ2h0ID8/IFtdKV1cblxuICAgICAgICByZXR1cm4gYWxsQ29sdW1ucy5maWx0ZXIoZCA9PiAhbGVmdEFuZFJpZ2h0LmluY2x1ZGVzKGQuaWQpKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsICdkZWJ1Z0NvbHVtbnMnLCAnZ2V0Q2VudGVyTGVhZkNvbHVtbnMnKVxuICAgIClcbiAgfSxcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBzYWZlbHlBY2Nlc3NEb2N1bWVudChfZG9jdW1lbnQ/OiBEb2N1bWVudCk6IERvY3VtZW50IHwgbnVsbCB7XG4gIHJldHVybiBfZG9jdW1lbnQgfHwgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IG51bGwpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlbHlBY2Nlc3NEb2N1bWVudEV2ZW50KGV2ZW50OiBFdmVudCk6IERvY3VtZW50IHwgbnVsbCB7XG4gIHJldHVybiAhIWV2ZW50ICYmXG4gICAgISFldmVudC50YXJnZXQgJiZcbiAgICB0eXBlb2YgZXZlbnQudGFyZ2V0ID09PSAnb2JqZWN0JyAmJlxuICAgICdvd25lckRvY3VtZW50JyBpbiBldmVudC50YXJnZXRcbiAgICA/IChldmVudC50YXJnZXQub3duZXJEb2N1bWVudCBhcyBEb2N1bWVudCB8IG51bGwpXG4gICAgOiBudWxsXG59XG4iLCJpbXBvcnQgeyBfZ2V0VmlzaWJsZUxlYWZDb2x1bW5zIH0gZnJvbSAnLi4nXG5pbXBvcnQge1xuICBSb3dEYXRhLFxuICBDb2x1bW4sXG4gIEhlYWRlcixcbiAgT25DaGFuZ2VGbixcbiAgVGFibGUsXG4gIFVwZGF0ZXIsXG4gIFRhYmxlRmVhdHVyZSxcbn0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWFrZVN0YXRlVXBkYXRlciwgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgQ29sdW1uUGlubmluZ1Bvc2l0aW9uIH0gZnJvbSAnLi9Db2x1bW5QaW5uaW5nJ1xuaW1wb3J0IHsgc2FmZWx5QWNjZXNzRG9jdW1lbnQgfSBmcm9tICcuLi91dGlscy9kb2N1bWVudCdcblxuLy9cblxuZXhwb3J0IGludGVyZmFjZSBDb2x1bW5TaXppbmdUYWJsZVN0YXRlIHtcbiAgY29sdW1uU2l6aW5nOiBDb2x1bW5TaXppbmdTdGF0ZVxuICBjb2x1bW5TaXppbmdJbmZvOiBDb2x1bW5TaXppbmdJbmZvU3RhdGVcbn1cblxuZXhwb3J0IHR5cGUgQ29sdW1uU2l6aW5nU3RhdGUgPSBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uU2l6aW5nSW5mb1N0YXRlIHtcbiAgY29sdW1uU2l6aW5nU3RhcnQ6IFtzdHJpbmcsIG51bWJlcl1bXVxuICBkZWx0YU9mZnNldDogbnVsbCB8IG51bWJlclxuICBkZWx0YVBlcmNlbnRhZ2U6IG51bGwgfCBudW1iZXJcbiAgaXNSZXNpemluZ0NvbHVtbjogZmFsc2UgfCBzdHJpbmdcbiAgc3RhcnRPZmZzZXQ6IG51bGwgfCBudW1iZXJcbiAgc3RhcnRTaXplOiBudWxsIHwgbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIENvbHVtblJlc2l6ZU1vZGUgPSAnb25DaGFuZ2UnIHwgJ29uRW5kJ1xuXG5leHBvcnQgdHlwZSBDb2x1bW5SZXNpemVEaXJlY3Rpb24gPSAnbHRyJyB8ICdydGwnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uU2l6aW5nT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGNvbHVtblNpemluZyBzdGF0ZSBpcyB1cGRhdGVkLiBgb25DaGFuZ2VgIHVwZGF0ZXMgdGhlIHN0YXRlIHdoZW4gdGhlIHVzZXIgaXMgZHJhZ2dpbmcgdGhlIHJlc2l6ZSBoYW5kbGUuIGBvbkVuZGAgdXBkYXRlcyB0aGUgc3RhdGUgd2hlbiB0aGUgdXNlciByZWxlYXNlcyB0aGUgcmVzaXplIGhhbmRsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tc2l6aW5nI2NvbHVtbnJlc2l6ZW1vZGUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgY29sdW1uUmVzaXplTW9kZT86IENvbHVtblJlc2l6ZU1vZGVcbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgY29sdW1uIHJlc2l6aW5nIGZvciB0aGUgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjZW5hYmxlY29sdW1ucmVzaXppbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgZW5hYmxlQ29sdW1uUmVzaXppbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHJpZ2h0LXRvLWxlZnQgc3VwcG9ydCBmb3IgcmVzaXppbmcgdGhlIGNvbHVtbi4gZGVmYXVsdHMgdG8gJ2x0cicuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXNpemluZyNjb2x1bW5SZXNpemVEaXJlY3Rpb24pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgY29sdW1uUmVzaXplRGlyZWN0aW9uPzogQ29sdW1uUmVzaXplRGlyZWN0aW9uXG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGB1cGRhdGVyRm5gIHdoZW4gYHN0YXRlLmNvbHVtblNpemluZ2AgY2hhbmdlcy4gVGhpcyBvdmVycmlkZXMgdGhlIGRlZmF1bHQgaW50ZXJuYWwgc3RhdGUgbWFuYWdlbWVudCwgc28geW91IHdpbGwgYWxzbyBuZWVkIHRvIHN1cHBseSBgc3RhdGUuY29sdW1uU2l6aW5nYCBmcm9tIHlvdXIgb3duIG1hbmFnZWQgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXNpemluZyNvbmNvbHVtbnNpemluZ2NoYW5nZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1zaXppbmcpXG4gICAqL1xuICBvbkNvbHVtblNpemluZ0NoYW5nZT86IE9uQ2hhbmdlRm48Q29sdW1uU2l6aW5nU3RhdGU+XG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGB1cGRhdGVyRm5gIHdoZW4gYHN0YXRlLmNvbHVtblNpemluZ0luZm9gIGNoYW5nZXMuIFRoaXMgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IGludGVybmFsIHN0YXRlIG1hbmFnZW1lbnQsIHNvIHlvdSB3aWxsIGFsc28gbmVlZCB0byBzdXBwbHkgYHN0YXRlLmNvbHVtblNpemluZ0luZm9gIGZyb20geW91ciBvd24gbWFuYWdlZCBzdGF0ZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tc2l6aW5nI29uY29sdW1uc2l6aW5naW5mb2NoYW5nZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1zaXppbmcpXG4gICAqL1xuICBvbkNvbHVtblNpemluZ0luZm9DaGFuZ2U/OiBPbkNoYW5nZUZuPENvbHVtblNpemluZ0luZm9TdGF0ZT5cbn1cblxuZXhwb3J0IHR5cGUgQ29sdW1uU2l6aW5nRGVmYXVsdE9wdGlvbnMgPSBQaWNrPFxuICBDb2x1bW5TaXppbmdPcHRpb25zLFxuICB8ICdjb2x1bW5SZXNpemVNb2RlJ1xuICB8ICdvbkNvbHVtblNpemluZ0NoYW5nZSdcbiAgfCAnb25Db2x1bW5TaXppbmdJbmZvQ2hhbmdlJ1xuICB8ICdjb2x1bW5SZXNpemVEaXJlY3Rpb24nXG4+XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uU2l6aW5nSW5zdGFuY2Uge1xuICAvKipcbiAgICogSWYgcGlubmluZywgcmV0dXJucyB0aGUgdG90YWwgc2l6ZSBvZiB0aGUgY2VudGVyIHBvcnRpb24gb2YgdGhlIHRhYmxlIGJ5IGNhbGN1bGF0aW5nIHRoZSBzdW0gb2YgdGhlIHNpemVzIG9mIGFsbCB1bnBpbm5lZC9jZW50ZXIgbGVhZi1jb2x1bW5zLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjZ2V0Y2VudGVydG90YWxzaXplKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXNpemluZylcbiAgICovXG4gIGdldENlbnRlclRvdGFsU2l6ZTogKCkgPT4gbnVtYmVyXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBzaXplIG9mIHRoZSBsZWZ0IHBvcnRpb24gb2YgdGhlIHRhYmxlIGJ5IGNhbGN1bGF0aW5nIHRoZSBzdW0gb2YgdGhlIHNpemVzIG9mIGFsbCBsZWZ0IGxlYWYtY29sdW1ucy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tc2l6aW5nI2dldGxlZnR0b3RhbHNpemUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgZ2V0TGVmdFRvdGFsU2l6ZTogKCkgPT4gbnVtYmVyXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBzaXplIG9mIHRoZSByaWdodCBwb3J0aW9uIG9mIHRoZSB0YWJsZSBieSBjYWxjdWxhdGluZyB0aGUgc3VtIG9mIHRoZSBzaXplcyBvZiBhbGwgcmlnaHQgbGVhZi1jb2x1bW5zLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjZ2V0cmlnaHR0b3RhbHNpemUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgZ2V0UmlnaHRUb3RhbFNpemU6ICgpID0+IG51bWJlclxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdG90YWwgc2l6ZSBvZiB0aGUgdGFibGUgYnkgY2FsY3VsYXRpbmcgdGhlIHN1bSBvZiB0aGUgc2l6ZXMgb2YgYWxsIGxlYWYtY29sdW1ucy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tc2l6aW5nI2dldHRvdGFsc2l6ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1zaXppbmcpXG4gICAqL1xuICBnZXRUb3RhbFNpemU6ICgpID0+IG51bWJlclxuICAvKipcbiAgICogUmVzZXRzIGNvbHVtbiBzaXppbmcgdG8gaXRzIGluaXRpYWwgc3RhdGUuIElmIGBkZWZhdWx0U3RhdGVgIGlzIGB0cnVlYCwgdGhlIGRlZmF1bHQgc3RhdGUgZm9yIHRoZSB0YWJsZSB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbFZhbHVlIHByb3ZpZGVkIHRvIHRoZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tc2l6aW5nI3Jlc2V0Y29sdW1uc2l6aW5nKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXNpemluZylcbiAgICovXG4gIHJlc2V0Q29sdW1uU2l6aW5nOiAoZGVmYXVsdFN0YXRlPzogYm9vbGVhbikgPT4gdm9pZFxuICAvKipcbiAgICogUmVzZXRzIGNvbHVtbiBzaXppbmcgaW5mbyB0byBpdHMgaW5pdGlhbCBzdGF0ZS4gSWYgYGRlZmF1bHRTdGF0ZWAgaXMgYHRydWVgLCB0aGUgZGVmYXVsdCBzdGF0ZSBmb3IgdGhlIHRhYmxlIHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBpbml0aWFsVmFsdWUgcHJvdmlkZWQgdG8gdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjcmVzZXRoZWFkZXJzaXplaW5mbylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1zaXppbmcpXG4gICAqL1xuICByZXNldEhlYWRlclNpemVJbmZvOiAoZGVmYXVsdFN0YXRlPzogYm9vbGVhbikgPT4gdm9pZFxuICAvKipcbiAgICogU2V0cyB0aGUgY29sdW1uIHNpemluZyBzdGF0ZSB1c2luZyBhbiB1cGRhdGVyIGZ1bmN0aW9uIG9yIGEgdmFsdWUuIFRoaXMgd2lsbCB0cmlnZ2VyIHRoZSB1bmRlcmx5aW5nIGBvbkNvbHVtblNpemluZ0NoYW5nZWAgZnVuY3Rpb24gaWYgb25lIGlzIHBhc3NlZCB0byB0aGUgdGFibGUgb3B0aW9ucywgb3RoZXJ3aXNlIHRoZSBzdGF0ZSB3aWxsIGJlIG1hbmFnZWQgYXV0b21hdGljYWxseSBieSB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXNpemluZyNzZXRjb2x1bW5zaXppbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgc2V0Q29sdW1uU2l6aW5nOiAodXBkYXRlcjogVXBkYXRlcjxDb2x1bW5TaXppbmdTdGF0ZT4pID0+IHZvaWRcbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbHVtbiBzaXppbmcgaW5mbyBzdGF0ZSB1c2luZyBhbiB1cGRhdGVyIGZ1bmN0aW9uIG9yIGEgdmFsdWUuIFRoaXMgd2lsbCB0cmlnZ2VyIHRoZSB1bmRlcmx5aW5nIGBvbkNvbHVtblNpemluZ0luZm9DaGFuZ2VgIGZ1bmN0aW9uIGlmIG9uZSBpcyBwYXNzZWQgdG8gdGhlIHRhYmxlIG9wdGlvbnMsIG90aGVyd2lzZSB0aGUgc3RhdGUgd2lsbCBiZSBtYW5hZ2VkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjc2V0Y29sdW1uc2l6aW5naW5mbylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1zaXppbmcpXG4gICAqL1xuICBzZXRDb2x1bW5TaXppbmdJbmZvOiAodXBkYXRlcjogVXBkYXRlcjxDb2x1bW5TaXppbmdJbmZvU3RhdGU+KSA9PiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uU2l6aW5nQ29sdW1uRGVmIHtcbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgY29sdW1uIHJlc2l6aW5nIGZvciB0aGUgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjZW5hYmxlcmVzaXppbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgZW5hYmxlUmVzaXppbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHNpemUgZm9yIHRoZSBjb2x1bW5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tc2l6aW5nI21heHNpemUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgbWF4U2l6ZT86IG51bWJlclxuICAvKipcbiAgICogVGhlIG1pbmltdW0gYWxsb3dlZCBzaXplIGZvciB0aGUgY29sdW1uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXNpemluZyNtaW5zaXplKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXNpemluZylcbiAgICovXG4gIG1pblNpemU/OiBudW1iZXJcbiAgLyoqXG4gICAqIFRoZSBkZXNpcmVkIHNpemUgZm9yIHRoZSBjb2x1bW5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tc2l6aW5nI3NpemUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgc2l6ZT86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtblNpemluZ0NvbHVtbiB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgY29sdW1uIGNhbiBiZSByZXNpemVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjZ2V0Y2FucmVzaXplKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXNpemluZylcbiAgICovXG4gIGdldENhblJlc2l6ZTogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGNvbHVtbiBpcyBjdXJyZW50bHkgYmVpbmcgcmVzaXplZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tc2l6aW5nI2dldGlzcmVzaXppbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgZ2V0SXNSZXNpemluZzogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXNpemluZyNnZXRzaXplKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXNpemluZylcbiAgICovXG4gIGdldFNpemU6ICgpID0+IG51bWJlclxuICAvKipcbiAgICogUmV0dXJucyB0aGUgb2Zmc2V0IG1lYXN1cmVtZW50IGFsb25nIHRoZSByb3ctYXhpcyAodXN1YWxseSB0aGUgeC1heGlzIGZvciBzdGFuZGFyZCB0YWJsZXMpIGZvciB0aGUgaGVhZGVyLiBUaGlzIGlzIGVmZmVjdGl2ZWx5IGEgc3VtIG9mIHRoZSBvZmZzZXQgbWVhc3VyZW1lbnRzIG9mIGFsbCBwcmVjZWRpbmcgKGxlZnQpIGhlYWRlcnMgaW4gcmVsYXRpb24gdG8gdGhlIGN1cnJlbnQgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjZ2V0c3RhcnQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgZ2V0U3RhcnQ6IChwb3NpdGlvbj86IENvbHVtblBpbm5pbmdQb3NpdGlvbiB8ICdjZW50ZXInKSA9PiBudW1iZXJcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9mZnNldCBtZWFzdXJlbWVudCBhbG9uZyB0aGUgcm93LWF4aXMgKHVzdWFsbHkgdGhlIHgtYXhpcyBmb3Igc3RhbmRhcmQgdGFibGVzKSBmb3IgdGhlIGhlYWRlci4gVGhpcyBpcyBlZmZlY3RpdmVseSBhIHN1bSBvZiB0aGUgb2Zmc2V0IG1lYXN1cmVtZW50cyBvZiBhbGwgc3VjY2VlZGluZyAocmlnaHQpIGhlYWRlcnMgaW4gcmVsYXRpb24gdG8gdGhlIGN1cnJlbnQgY29sdW1uLlxuICAgKi9cbiAgZ2V0QWZ0ZXI6IChwb3NpdGlvbj86IENvbHVtblBpbm5pbmdQb3NpdGlvbiB8ICdjZW50ZXInKSA9PiBudW1iZXJcbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgY29sdW1uIHRvIGl0cyBpbml0aWFsIHNpemUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXNpemluZyNyZXNldHNpemUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tc2l6aW5nKVxuICAgKi9cbiAgcmVzZXRTaXplOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uU2l6aW5nSGVhZGVyIHtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gZXZlbnQgaGFuZGxlciBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlc2l6ZSB0aGUgaGVhZGVyLiBJdCBjYW4gYmUgdXNlZCBhcyBhbjpcbiAgICogLSBgb25Nb3VzZURvd25gIGhhbmRsZXJcbiAgICogLSBgb25Ub3VjaFN0YXJ0YCBoYW5kbGVyXG4gICAqXG4gICAqIFRoZSBkcmFnZ2luZyBhbmQgcmVsZWFzZSBldmVudHMgYXJlIGF1dG9tYXRpY2FsbHkgaGFuZGxlZCBmb3IgeW91LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjZ2V0cmVzaXplaGFuZGxlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1zaXppbmcpXG4gICAqL1xuICBnZXRSZXNpemVIYW5kbGVyOiAoY29udGV4dD86IERvY3VtZW50KSA9PiAoZXZlbnQ6IHVua25vd24pID0+IHZvaWRcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgaGVhZGVyLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi1zaXppbmcjZ2V0c2l6ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1zaXppbmcpXG4gICAqL1xuICBnZXRTaXplOiAoKSA9PiBudW1iZXJcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9mZnNldCBtZWFzdXJlbWVudCBhbG9uZyB0aGUgcm93LWF4aXMgKHVzdWFsbHkgdGhlIHgtYXhpcyBmb3Igc3RhbmRhcmQgdGFibGVzKSBmb3IgdGhlIGhlYWRlci4gVGhpcyBpcyBlZmZlY3RpdmVseSBhIHN1bSBvZiB0aGUgb2Zmc2V0IG1lYXN1cmVtZW50cyBvZiBhbGwgcHJlY2VkaW5nIGhlYWRlcnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXNpemluZyNnZXRzdGFydClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi1zaXppbmcpXG4gICAqL1xuICBnZXRTdGFydDogKHBvc2l0aW9uPzogQ29sdW1uUGlubmluZ1Bvc2l0aW9uKSA9PiBudW1iZXJcbn1cblxuLy9cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb2x1bW5TaXppbmcgPSB7XG4gIHNpemU6IDE1MCxcbiAgbWluU2l6ZTogMjAsXG4gIG1heFNpemU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxufVxuXG5jb25zdCBnZXREZWZhdWx0Q29sdW1uU2l6aW5nSW5mb1N0YXRlID0gKCk6IENvbHVtblNpemluZ0luZm9TdGF0ZSA9PiAoe1xuICBzdGFydE9mZnNldDogbnVsbCxcbiAgc3RhcnRTaXplOiBudWxsLFxuICBkZWx0YU9mZnNldDogbnVsbCxcbiAgZGVsdGFQZXJjZW50YWdlOiBudWxsLFxuICBpc1Jlc2l6aW5nQ29sdW1uOiBmYWxzZSxcbiAgY29sdW1uU2l6aW5nU3RhcnQ6IFtdLFxufSlcblxuZXhwb3J0IGNvbnN0IENvbHVtblNpemluZzogVGFibGVGZWF0dXJlID0ge1xuICBnZXREZWZhdWx0Q29sdW1uRGVmOiAoKTogQ29sdW1uU2l6aW5nQ29sdW1uRGVmID0+IHtcbiAgICByZXR1cm4gZGVmYXVsdENvbHVtblNpemluZ1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IChzdGF0ZSk6IENvbHVtblNpemluZ1RhYmxlU3RhdGUgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBjb2x1bW5TaXppbmc6IHt9LFxuICAgICAgY29sdW1uU2l6aW5nSW5mbzogZ2V0RGVmYXVsdENvbHVtblNpemluZ0luZm9TdGF0ZSgpLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRPcHRpb25zOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IENvbHVtblNpemluZ0RlZmF1bHRPcHRpb25zID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sdW1uUmVzaXplTW9kZTogJ29uRW5kJyxcbiAgICAgIGNvbHVtblJlc2l6ZURpcmVjdGlvbjogJ2x0cicsXG4gICAgICBvbkNvbHVtblNpemluZ0NoYW5nZTogbWFrZVN0YXRlVXBkYXRlcignY29sdW1uU2l6aW5nJywgdGFibGUpLFxuICAgICAgb25Db2x1bW5TaXppbmdJbmZvQ2hhbmdlOiBtYWtlU3RhdGVVcGRhdGVyKCdjb2x1bW5TaXppbmdJbmZvJywgdGFibGUpLFxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVDb2x1bW46IDxURGF0YSBleHRlbmRzIFJvd0RhdGEsIFRWYWx1ZT4oXG4gICAgY29sdW1uOiBDb2x1bW48VERhdGEsIFRWYWx1ZT4sXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiB2b2lkID0+IHtcbiAgICBjb2x1bW4uZ2V0U2l6ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtblNpemUgPSB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblNpemluZ1tjb2x1bW4uaWRdXG5cbiAgICAgIHJldHVybiBNYXRoLm1pbihcbiAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgY29sdW1uLmNvbHVtbkRlZi5taW5TaXplID8/IGRlZmF1bHRDb2x1bW5TaXppbmcubWluU2l6ZSxcbiAgICAgICAgICBjb2x1bW5TaXplID8/IGNvbHVtbi5jb2x1bW5EZWYuc2l6ZSA/PyBkZWZhdWx0Q29sdW1uU2l6aW5nLnNpemVcbiAgICAgICAgKSxcbiAgICAgICAgY29sdW1uLmNvbHVtbkRlZi5tYXhTaXplID8/IGRlZmF1bHRDb2x1bW5TaXppbmcubWF4U2l6ZVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbHVtbi5nZXRTdGFydCA9IG1lbW8oXG4gICAgICBwb3NpdGlvbiA9PiBbXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBfZ2V0VmlzaWJsZUxlYWZDb2x1bW5zKHRhYmxlLCBwb3NpdGlvbiksXG4gICAgICAgIHRhYmxlLmdldFN0YXRlKCkuY29sdW1uU2l6aW5nLFxuICAgICAgXSxcbiAgICAgIChwb3NpdGlvbiwgY29sdW1ucykgPT5cbiAgICAgICAgY29sdW1uc1xuICAgICAgICAgIC5zbGljZSgwLCBjb2x1bW4uZ2V0SW5kZXgocG9zaXRpb24pKVxuICAgICAgICAgIC5yZWR1Y2UoKHN1bSwgY29sdW1uKSA9PiBzdW0gKyBjb2x1bW4uZ2V0U2l6ZSgpLCAwKSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsICdkZWJ1Z0NvbHVtbnMnLCAnZ2V0U3RhcnQnKVxuICAgIClcblxuICAgIGNvbHVtbi5nZXRBZnRlciA9IG1lbW8oXG4gICAgICBwb3NpdGlvbiA9PiBbXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBfZ2V0VmlzaWJsZUxlYWZDb2x1bW5zKHRhYmxlLCBwb3NpdGlvbiksXG4gICAgICAgIHRhYmxlLmdldFN0YXRlKCkuY29sdW1uU2l6aW5nLFxuICAgICAgXSxcbiAgICAgIChwb3NpdGlvbiwgY29sdW1ucykgPT5cbiAgICAgICAgY29sdW1uc1xuICAgICAgICAgIC5zbGljZShjb2x1bW4uZ2V0SW5kZXgocG9zaXRpb24pICsgMSlcbiAgICAgICAgICAucmVkdWNlKChzdW0sIGNvbHVtbikgPT4gc3VtICsgY29sdW1uLmdldFNpemUoKSwgMCksXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdDb2x1bW5zJywgJ2dldEFmdGVyJylcbiAgICApXG5cbiAgICBjb2x1bW4ucmVzZXRTaXplID0gKCkgPT4ge1xuICAgICAgdGFibGUuc2V0Q29sdW1uU2l6aW5nKCh7IFtjb2x1bW4uaWRdOiBfLCAuLi5yZXN0IH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3RcbiAgICAgIH0pXG4gICAgfVxuICAgIGNvbHVtbi5nZXRDYW5SZXNpemUgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoY29sdW1uLmNvbHVtbkRlZi5lbmFibGVSZXNpemluZyA/PyB0cnVlKSAmJlxuICAgICAgICAodGFibGUub3B0aW9ucy5lbmFibGVDb2x1bW5SZXNpemluZyA/PyB0cnVlKVxuICAgICAgKVxuICAgIH1cbiAgICBjb2x1bW4uZ2V0SXNSZXNpemluZyA9ICgpID0+IHtcbiAgICAgIHJldHVybiB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblNpemluZ0luZm8uaXNSZXNpemluZ0NvbHVtbiA9PT0gY29sdW1uLmlkXG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZUhlYWRlcjogPFREYXRhIGV4dGVuZHMgUm93RGF0YSwgVFZhbHVlPihcbiAgICBoZWFkZXI6IEhlYWRlcjxURGF0YSwgVFZhbHVlPixcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IHZvaWQgPT4ge1xuICAgIGhlYWRlci5nZXRTaXplID0gKCkgPT4ge1xuICAgICAgbGV0IHN1bSA9IDBcblxuICAgICAgY29uc3QgcmVjdXJzZSA9IChoZWFkZXI6IEhlYWRlcjxURGF0YSwgVFZhbHVlPikgPT4ge1xuICAgICAgICBpZiAoaGVhZGVyLnN1YkhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgaGVhZGVyLnN1YkhlYWRlcnMuZm9yRWFjaChyZWN1cnNlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1bSArPSBoZWFkZXIuY29sdW1uLmdldFNpemUoKSA/PyAwXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVjdXJzZShoZWFkZXIpXG5cbiAgICAgIHJldHVybiBzdW1cbiAgICB9XG4gICAgaGVhZGVyLmdldFN0YXJ0ID0gKCkgPT4ge1xuICAgICAgaWYgKGhlYWRlci5pbmRleCA+IDApIHtcbiAgICAgICAgY29uc3QgcHJldlNpYmxpbmdIZWFkZXIgPSBoZWFkZXIuaGVhZGVyR3JvdXAuaGVhZGVyc1toZWFkZXIuaW5kZXggLSAxXSFcbiAgICAgICAgcmV0dXJuIHByZXZTaWJsaW5nSGVhZGVyLmdldFN0YXJ0KCkgKyBwcmV2U2libGluZ0hlYWRlci5nZXRTaXplKClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gICAgaGVhZGVyLmdldFJlc2l6ZUhhbmRsZXIgPSBfY29udGV4dERvY3VtZW50ID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IHRhYmxlLmdldENvbHVtbihoZWFkZXIuY29sdW1uLmlkKVxuICAgICAgY29uc3QgY2FuUmVzaXplID0gY29sdW1uPy5nZXRDYW5SZXNpemUoKVxuXG4gICAgICByZXR1cm4gKGU6IHVua25vd24pID0+IHtcbiAgICAgICAgaWYgKCFjb2x1bW4gfHwgIWNhblJlc2l6ZSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgOyhlIGFzIGFueSkucGVyc2lzdD8uKClcblxuICAgICAgICBpZiAoaXNUb3VjaFN0YXJ0RXZlbnQoZSkpIHtcbiAgICAgICAgICAvLyBsZXRzIG5vdCByZXNwb25kIHRvIG11bHRpcGxlIHRvdWNoZXMgKGUuZy4gMiBvciAzIGZpbmdlcnMpXG4gICAgICAgICAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhcnRTaXplID0gaGVhZGVyLmdldFNpemUoKVxuXG4gICAgICAgIGNvbnN0IGNvbHVtblNpemluZ1N0YXJ0OiBbc3RyaW5nLCBudW1iZXJdW10gPSBoZWFkZXJcbiAgICAgICAgICA/IGhlYWRlci5nZXRMZWFmSGVhZGVycygpLm1hcChkID0+IFtkLmNvbHVtbi5pZCwgZC5jb2x1bW4uZ2V0U2l6ZSgpXSlcbiAgICAgICAgICA6IFtbY29sdW1uLmlkLCBjb2x1bW4uZ2V0U2l6ZSgpXV1cblxuICAgICAgICBjb25zdCBjbGllbnRYID0gaXNUb3VjaFN0YXJ0RXZlbnQoZSlcbiAgICAgICAgICA/IE1hdGgucm91bmQoZS50b3VjaGVzWzBdIS5jbGllbnRYKVxuICAgICAgICAgIDogKGUgYXMgTW91c2VFdmVudCkuY2xpZW50WFxuXG4gICAgICAgIGNvbnN0IG5ld0NvbHVtblNpemluZzogQ29sdW1uU2l6aW5nU3RhdGUgPSB7fVxuXG4gICAgICAgIGNvbnN0IHVwZGF0ZU9mZnNldCA9IChcbiAgICAgICAgICBldmVudFR5cGU6ICdtb3ZlJyB8ICdlbmQnLFxuICAgICAgICAgIGNsaWVudFhQb3M/OiBudW1iZXJcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjbGllbnRYUG9zICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGFibGUuc2V0Q29sdW1uU2l6aW5nSW5mbyhvbGQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVsdGFEaXJlY3Rpb24gPVxuICAgICAgICAgICAgICB0YWJsZS5vcHRpb25zLmNvbHVtblJlc2l6ZURpcmVjdGlvbiA9PT0gJ3J0bCcgPyAtMSA6IDFcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhT2Zmc2V0ID1cbiAgICAgICAgICAgICAgKGNsaWVudFhQb3MgLSAob2xkPy5zdGFydE9mZnNldCA/PyAwKSkgKiBkZWx0YURpcmVjdGlvblxuICAgICAgICAgICAgY29uc3QgZGVsdGFQZXJjZW50YWdlID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgIGRlbHRhT2Zmc2V0IC8gKG9sZD8uc3RhcnRTaXplID8/IDApLFxuICAgICAgICAgICAgICAtMC45OTk5OTlcbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgb2xkLmNvbHVtblNpemluZ1N0YXJ0LmZvckVhY2goKFtjb2x1bW5JZCwgaGVhZGVyU2l6ZV0pID0+IHtcbiAgICAgICAgICAgICAgbmV3Q29sdW1uU2l6aW5nW2NvbHVtbklkXSA9XG4gICAgICAgICAgICAgICAgTWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgICAgIE1hdGgubWF4KGhlYWRlclNpemUgKyBoZWFkZXJTaXplICogZGVsdGFQZXJjZW50YWdlLCAwKSAqIDEwMFxuICAgICAgICAgICAgICAgICkgLyAxMDBcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLm9sZCxcbiAgICAgICAgICAgICAgZGVsdGFPZmZzZXQsXG4gICAgICAgICAgICAgIGRlbHRhUGVyY2VudGFnZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGFibGUub3B0aW9ucy5jb2x1bW5SZXNpemVNb2RlID09PSAnb25DaGFuZ2UnIHx8XG4gICAgICAgICAgICBldmVudFR5cGUgPT09ICdlbmQnXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0YWJsZS5zZXRDb2x1bW5TaXppbmcob2xkID0+ICh7XG4gICAgICAgICAgICAgIC4uLm9sZCxcbiAgICAgICAgICAgICAgLi4ubmV3Q29sdW1uU2l6aW5nLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb25Nb3ZlID0gKGNsaWVudFhQb3M/OiBudW1iZXIpID0+IHVwZGF0ZU9mZnNldCgnbW92ZScsIGNsaWVudFhQb3MpXG5cbiAgICAgICAgY29uc3Qgb25FbmQgPSAoY2xpZW50WFBvcz86IG51bWJlcikgPT4ge1xuICAgICAgICAgIHVwZGF0ZU9mZnNldCgnZW5kJywgY2xpZW50WFBvcylcblxuICAgICAgICAgIHRhYmxlLnNldENvbHVtblNpemluZ0luZm8ob2xkID0+ICh7XG4gICAgICAgICAgICAuLi5vbGQsXG4gICAgICAgICAgICBpc1Jlc2l6aW5nQ29sdW1uOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0OiBudWxsLFxuICAgICAgICAgICAgc3RhcnRTaXplOiBudWxsLFxuICAgICAgICAgICAgZGVsdGFPZmZzZXQ6IG51bGwsXG4gICAgICAgICAgICBkZWx0YVBlcmNlbnRhZ2U6IG51bGwsXG4gICAgICAgICAgICBjb2x1bW5TaXppbmdTdGFydDogW10sXG4gICAgICAgICAgfSkpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0RG9jdW1lbnQgPSBzYWZlbHlBY2Nlc3NEb2N1bWVudChfY29udGV4dERvY3VtZW50KVxuXG4gICAgICAgIGNvbnN0IG1vdXNlRXZlbnRzID0ge1xuICAgICAgICAgIG1vdmVIYW5kbGVyOiAoZTogTW91c2VFdmVudCkgPT4gb25Nb3ZlKGUuY2xpZW50WCksXG4gICAgICAgICAgdXBIYW5kbGVyOiAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29udGV4dERvY3VtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICAgbW91c2VFdmVudHMubW92ZUhhbmRsZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGNvbnRleHREb2N1bWVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgJ21vdXNldXAnLFxuICAgICAgICAgICAgICBtb3VzZUV2ZW50cy51cEhhbmRsZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIG9uRW5kKGUuY2xpZW50WClcbiAgICAgICAgICB9LFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG91Y2hFdmVudHMgPSB7XG4gICAgICAgICAgbW92ZUhhbmRsZXI6IChlOiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbk1vdmUoZS50b3VjaGVzWzBdIS5jbGllbnRYKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB1cEhhbmRsZXI6IChlOiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb250ZXh0RG9jdW1lbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICd0b3VjaG1vdmUnLFxuICAgICAgICAgICAgICB0b3VjaEV2ZW50cy5tb3ZlSGFuZGxlclxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY29udGV4dERvY3VtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAndG91Y2hlbmQnLFxuICAgICAgICAgICAgICB0b3VjaEV2ZW50cy51cEhhbmRsZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChlLmNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uRW5kKGUudG91Y2hlc1swXT8uY2xpZW50WClcbiAgICAgICAgICB9LFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFzc2l2ZUlmU3VwcG9ydGVkID0gcGFzc2l2ZUV2ZW50U3VwcG9ydGVkKClcbiAgICAgICAgICA/IHsgcGFzc2l2ZTogZmFsc2UgfVxuICAgICAgICAgIDogZmFsc2VcblxuICAgICAgICBpZiAoaXNUb3VjaFN0YXJ0RXZlbnQoZSkpIHtcbiAgICAgICAgICBjb250ZXh0RG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAndG91Y2htb3ZlJyxcbiAgICAgICAgICAgIHRvdWNoRXZlbnRzLm1vdmVIYW5kbGVyLFxuICAgICAgICAgICAgcGFzc2l2ZUlmU3VwcG9ydGVkXG4gICAgICAgICAgKVxuICAgICAgICAgIGNvbnRleHREb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICd0b3VjaGVuZCcsXG4gICAgICAgICAgICB0b3VjaEV2ZW50cy51cEhhbmRsZXIsXG4gICAgICAgICAgICBwYXNzaXZlSWZTdXBwb3J0ZWRcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGV4dERvY3VtZW50Py5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ21vdXNlbW92ZScsXG4gICAgICAgICAgICBtb3VzZUV2ZW50cy5tb3ZlSGFuZGxlcixcbiAgICAgICAgICAgIHBhc3NpdmVJZlN1cHBvcnRlZFxuICAgICAgICAgIClcbiAgICAgICAgICBjb250ZXh0RG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnbW91c2V1cCcsXG4gICAgICAgICAgICBtb3VzZUV2ZW50cy51cEhhbmRsZXIsXG4gICAgICAgICAgICBwYXNzaXZlSWZTdXBwb3J0ZWRcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICB0YWJsZS5zZXRDb2x1bW5TaXppbmdJbmZvKG9sZCA9PiAoe1xuICAgICAgICAgIC4uLm9sZCxcbiAgICAgICAgICBzdGFydE9mZnNldDogY2xpZW50WCxcbiAgICAgICAgICBzdGFydFNpemUsXG4gICAgICAgICAgZGVsdGFPZmZzZXQ6IDAsXG4gICAgICAgICAgZGVsdGFQZXJjZW50YWdlOiAwLFxuICAgICAgICAgIGNvbHVtblNpemluZ1N0YXJ0LFxuICAgICAgICAgIGlzUmVzaXppbmdDb2x1bW46IGNvbHVtbi5pZCxcbiAgICAgICAgfSkpXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZVRhYmxlOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPih0YWJsZTogVGFibGU8VERhdGE+KTogdm9pZCA9PiB7XG4gICAgdGFibGUuc2V0Q29sdW1uU2l6aW5nID0gdXBkYXRlciA9PlxuICAgICAgdGFibGUub3B0aW9ucy5vbkNvbHVtblNpemluZ0NoYW5nZT8uKHVwZGF0ZXIpXG4gICAgdGFibGUuc2V0Q29sdW1uU2l6aW5nSW5mbyA9IHVwZGF0ZXIgPT5cbiAgICAgIHRhYmxlLm9wdGlvbnMub25Db2x1bW5TaXppbmdJbmZvQ2hhbmdlPy4odXBkYXRlcilcbiAgICB0YWJsZS5yZXNldENvbHVtblNpemluZyA9IGRlZmF1bHRTdGF0ZSA9PiB7XG4gICAgICB0YWJsZS5zZXRDb2x1bW5TaXppbmcoXG4gICAgICAgIGRlZmF1bHRTdGF0ZSA/IHt9IDogdGFibGUuaW5pdGlhbFN0YXRlLmNvbHVtblNpemluZyA/PyB7fVxuICAgICAgKVxuICAgIH1cbiAgICB0YWJsZS5yZXNldEhlYWRlclNpemVJbmZvID0gZGVmYXVsdFN0YXRlID0+IHtcbiAgICAgIHRhYmxlLnNldENvbHVtblNpemluZ0luZm8oXG4gICAgICAgIGRlZmF1bHRTdGF0ZVxuICAgICAgICAgID8gZ2V0RGVmYXVsdENvbHVtblNpemluZ0luZm9TdGF0ZSgpXG4gICAgICAgICAgOiB0YWJsZS5pbml0aWFsU3RhdGUuY29sdW1uU2l6aW5nSW5mbyA/P1xuICAgICAgICAgICAgICBnZXREZWZhdWx0Q29sdW1uU2l6aW5nSW5mb1N0YXRlKClcbiAgICAgIClcbiAgICB9XG4gICAgdGFibGUuZ2V0VG90YWxTaXplID0gKCkgPT5cbiAgICAgIHRhYmxlLmdldEhlYWRlckdyb3VwcygpWzBdPy5oZWFkZXJzLnJlZHVjZSgoc3VtLCBoZWFkZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIHN1bSArIGhlYWRlci5nZXRTaXplKClcbiAgICAgIH0sIDApID8/IDBcbiAgICB0YWJsZS5nZXRMZWZ0VG90YWxTaXplID0gKCkgPT5cbiAgICAgIHRhYmxlLmdldExlZnRIZWFkZXJHcm91cHMoKVswXT8uaGVhZGVycy5yZWR1Y2UoKHN1bSwgaGVhZGVyKSA9PiB7XG4gICAgICAgIHJldHVybiBzdW0gKyBoZWFkZXIuZ2V0U2l6ZSgpXG4gICAgICB9LCAwKSA/PyAwXG4gICAgdGFibGUuZ2V0Q2VudGVyVG90YWxTaXplID0gKCkgPT5cbiAgICAgIHRhYmxlLmdldENlbnRlckhlYWRlckdyb3VwcygpWzBdPy5oZWFkZXJzLnJlZHVjZSgoc3VtLCBoZWFkZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIHN1bSArIGhlYWRlci5nZXRTaXplKClcbiAgICAgIH0sIDApID8/IDBcbiAgICB0YWJsZS5nZXRSaWdodFRvdGFsU2l6ZSA9ICgpID0+XG4gICAgICB0YWJsZS5nZXRSaWdodEhlYWRlckdyb3VwcygpWzBdPy5oZWFkZXJzLnJlZHVjZSgoc3VtLCBoZWFkZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIHN1bSArIGhlYWRlci5nZXRTaXplKClcbiAgICAgIH0sIDApID8/IDBcbiAgfSxcbn1cblxubGV0IHBhc3NpdmVTdXBwb3J0ZWQ6IGJvb2xlYW4gfCBudWxsID0gbnVsbFxuZXhwb3J0IGZ1bmN0aW9uIHBhc3NpdmVFdmVudFN1cHBvcnRlZCgpIHtcbiAgaWYgKHR5cGVvZiBwYXNzaXZlU3VwcG9ydGVkID09PSAnYm9vbGVhbicpIHJldHVybiBwYXNzaXZlU3VwcG9ydGVkXG5cbiAgbGV0IHN1cHBvcnRlZCA9IGZhbHNlXG4gIHRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGdldCBwYXNzaXZlKCkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSxcbiAgICB9XG5cbiAgICBjb25zdCBub29wID0gKCkgPT4ge31cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgbm9vcCwgb3B0aW9ucylcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG5vb3ApXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHN1cHBvcnRlZCA9IGZhbHNlXG4gIH1cbiAgcGFzc2l2ZVN1cHBvcnRlZCA9IHN1cHBvcnRlZFxuICByZXR1cm4gcGFzc2l2ZVN1cHBvcnRlZFxufVxuXG5mdW5jdGlvbiBpc1RvdWNoU3RhcnRFdmVudChlOiB1bmtub3duKTogZSBpcyBUb3VjaEV2ZW50IHtcbiAgcmV0dXJuIChlIGFzIFRvdWNoRXZlbnQpLnR5cGUgPT09ICd0b3VjaHN0YXJ0J1xufVxuIiwiaW1wb3J0IHsgQ29sdW1uUGlubmluZ1Bvc2l0aW9uIH0gZnJvbSAnLi4nXG5pbXBvcnQge1xuICBDZWxsLFxuICBDb2x1bW4sXG4gIE9uQ2hhbmdlRm4sXG4gIFRhYmxlLFxuICBVcGRhdGVyLFxuICBSb3csXG4gIFJvd0RhdGEsXG4gIFRhYmxlRmVhdHVyZSxcbn0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWFrZVN0YXRlVXBkYXRlciwgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgdHlwZSBWaXNpYmlsaXR5U3RhdGUgPSBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPlxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlUYWJsZVN0YXRlIHtcbiAgY29sdW1uVmlzaWJpbGl0eTogVmlzaWJpbGl0eVN0YXRlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eU9wdGlvbnMge1xuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgY29sdW1uIGhpZGluZy4gRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi12aXNpYmlsaXR5I2VuYWJsZWhpZGluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgZW5hYmxlSGlkaW5nPzogYm9vbGVhblxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBgdXBkYXRlckZuYCB3aGVuIGBzdGF0ZS5jb2x1bW5WaXNpYmlsaXR5YCBjaGFuZ2VzLiBUaGlzIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCBpbnRlcm5hbCBzdGF0ZSBtYW5hZ2VtZW50LCBzbyB5b3Ugd2lsbCBuZWVkIHRvIHBlcnNpc3QgdGhlIHN0YXRlIGNoYW5nZSBlaXRoZXIgZnVsbHkgb3IgcGFydGlhbGx5IG91dHNpZGUgb2YgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi12aXNpYmlsaXR5I29uY29sdW1udmlzaWJpbGl0eWNoYW5nZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgb25Db2x1bW5WaXNpYmlsaXR5Q2hhbmdlPzogT25DaGFuZ2VGbjxWaXNpYmlsaXR5U3RhdGU+XG59XG5cbmV4cG9ydCB0eXBlIFZpc2liaWxpdHlEZWZhdWx0T3B0aW9ucyA9IFBpY2s8XG4gIFZpc2liaWxpdHlPcHRpb25zLFxuICAnb25Db2x1bW5WaXNpYmlsaXR5Q2hhbmdlJ1xuPlxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlJbnN0YW5jZTxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgLyoqXG4gICAqIElmIGNvbHVtbiBwaW5uaW5nLCByZXR1cm5zIGEgZmxhdCBhcnJheSBvZiBsZWFmLW5vZGUgY29sdW1ucyB0aGF0IGFyZSB2aXNpYmxlIGluIHRoZSB1bnBpbm5lZC9jZW50ZXIgcG9ydGlvbiBvZiB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXZpc2liaWxpdHkjZ2V0Y2VudGVydmlzaWJsZWxlYWZjb2x1bW5zKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXZpc2liaWxpdHkpXG4gICAqL1xuICBnZXRDZW50ZXJWaXNpYmxlTGVhZkNvbHVtbnM6ICgpID0+IENvbHVtbjxURGF0YSwgdW5rbm93bj5bXVxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIGFsbCBjb2x1bW5zIGFyZSB2aXNpYmxlXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXZpc2liaWxpdHkjZ2V0aXNhbGxjb2x1bW5zdmlzaWJsZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgZ2V0SXNBbGxDb2x1bW5zVmlzaWJsZTogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIGFueSBjb2x1bW5zIGFyZSB2aXNpYmxlXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXZpc2liaWxpdHkjZ2V0aXNzb21lY29sdW1uc3Zpc2libGUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tdmlzaWJpbGl0eSlcbiAgICovXG4gIGdldElzU29tZUNvbHVtbnNWaXNpYmxlOiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBJZiBjb2x1bW4gcGlubmluZywgcmV0dXJucyBhIGZsYXQgYXJyYXkgb2YgbGVhZi1ub2RlIGNvbHVtbnMgdGhhdCBhcmUgdmlzaWJsZSBpbiB0aGUgbGVmdCBwb3J0aW9uIG9mIHRoZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tdmlzaWJpbGl0eSNnZXRsZWZ0dmlzaWJsZWxlYWZjb2x1bW5zKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXZpc2liaWxpdHkpXG4gICAqL1xuICBnZXRMZWZ0VmlzaWJsZUxlYWZDb2x1bW5zOiAoKSA9PiBDb2x1bW48VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIElmIGNvbHVtbiBwaW5uaW5nLCByZXR1cm5zIGEgZmxhdCBhcnJheSBvZiBsZWFmLW5vZGUgY29sdW1ucyB0aGF0IGFyZSB2aXNpYmxlIGluIHRoZSByaWdodCBwb3J0aW9uIG9mIHRoZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tdmlzaWJpbGl0eSNnZXRyaWdodHZpc2libGVsZWFmY29sdW1ucylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgZ2V0UmlnaHRWaXNpYmxlTGVhZkNvbHVtbnM6ICgpID0+IENvbHVtbjxURGF0YSwgdW5rbm93bj5bXVxuICAvKipcbiAgICogUmV0dXJucyBhIGhhbmRsZXIgZm9yIHRvZ2dsaW5nIHRoZSB2aXNpYmlsaXR5IG9mIGFsbCBjb2x1bW5zLCBtZWFudCB0byBiZSBib3VuZCB0byBhIGBpbnB1dFt0eXBlPWNoZWNrYm94XWAgZWxlbWVudC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tdmlzaWJpbGl0eSNnZXR0b2dnbGVhbGxjb2x1bW5zdmlzaWJpbGl0eWhhbmRsZXIpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tdmlzaWJpbGl0eSlcbiAgICovXG4gIGdldFRvZ2dsZUFsbENvbHVtbnNWaXNpYmlsaXR5SGFuZGxlcjogKCkgPT4gKGV2ZW50OiB1bmtub3duKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgZmxhdCBhcnJheSBvZiBjb2x1bW5zIHRoYXQgYXJlIHZpc2libGUsIGluY2x1ZGluZyBwYXJlbnQgY29sdW1ucy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tdmlzaWJpbGl0eSNnZXR2aXNpYmxlZmxhdGNvbHVtbnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9jb2x1bW4tdmlzaWJpbGl0eSlcbiAgICovXG4gIGdldFZpc2libGVGbGF0Q29sdW1uczogKCkgPT4gQ29sdW1uPFREYXRhLCB1bmtub3duPltdXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgZmxhdCBhcnJheSBvZiBsZWFmLW5vZGUgY29sdW1ucyB0aGF0IGFyZSB2aXNpYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi12aXNpYmlsaXR5I2dldHZpc2libGVsZWFmY29sdW1ucylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgZ2V0VmlzaWJsZUxlYWZDb2x1bW5zOiAoKSA9PiBDb2x1bW48VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgY29sdW1uIHZpc2liaWxpdHkgc3RhdGUgdG8gdGhlIGluaXRpYWwgc3RhdGUuIElmIGBkZWZhdWx0U3RhdGVgIGlzIHByb3ZpZGVkLCB0aGUgc3RhdGUgd2lsbCBiZSByZXNldCB0byBge31gXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXZpc2liaWxpdHkjcmVzZXRjb2x1bW52aXNpYmlsaXR5KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXZpc2liaWxpdHkpXG4gICAqL1xuICByZXNldENvbHVtblZpc2liaWxpdHk6IChkZWZhdWx0U3RhdGU/OiBib29sZWFuKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBTZXRzIG9yIHVwZGF0ZXMgdGhlIGBzdGF0ZS5jb2x1bW5WaXNpYmlsaXR5YCBzdGF0ZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9jb2x1bW4tdmlzaWJpbGl0eSNzZXRjb2x1bW52aXNpYmlsaXR5KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXZpc2liaWxpdHkpXG4gICAqL1xuICBzZXRDb2x1bW5WaXNpYmlsaXR5OiAodXBkYXRlcjogVXBkYXRlcjxWaXNpYmlsaXR5U3RhdGU+KSA9PiB2b2lkXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSB2aXNpYmlsaXR5IG9mIGFsbCBjb2x1bW5zLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi12aXNpYmlsaXR5I3RvZ2dsZWFsbGNvbHVtbnN2aXNpYmxlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXZpc2liaWxpdHkpXG4gICAqL1xuICB0b2dnbGVBbGxDb2x1bW5zVmlzaWJsZTogKHZhbHVlPzogYm9vbGVhbikgPT4gdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2liaWxpdHlDb2x1bW5EZWYge1xuICBlbmFibGVIaWRpbmc/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eVJvdzxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgX2dldEFsbFZpc2libGVDZWxsczogKCkgPT4gQ2VsbDxURGF0YSwgdW5rbm93bj5bXVxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBjZWxscyB0aGF0IGFjY291bnQgZm9yIGNvbHVtbiB2aXNpYmlsaXR5IGZvciB0aGUgcm93LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi12aXNpYmlsaXR5I2dldHZpc2libGVjZWxscylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgZ2V0VmlzaWJsZUNlbGxzOiAoKSA9PiBDZWxsPFREYXRhLCB1bmtub3duPltdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaWJpbGl0eUNvbHVtbiB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGNvbHVtbiBjYW4gYmUgaGlkZGVuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXZpc2liaWxpdHkjZ2V0Y2FuaGlkZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgZ2V0Q2FuSGlkZTogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjb2x1bW4gaXMgdmlzaWJsZVxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi12aXNpYmlsaXR5I2dldGlzdmlzaWJsZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgZ2V0SXNWaXNpYmxlOiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byB0b2dnbGUgdGhlIGNvbHVtbiB2aXNpYmlsaXR5LiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJpbmQgdG8gYW4gZXZlbnQgaGFuZGxlciB0byBhIGNoZWNrYm94LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2NvbHVtbi12aXNpYmlsaXR5I2dldHRvZ2dsZXZpc2liaWxpdHloYW5kbGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvY29sdW1uLXZpc2liaWxpdHkpXG4gICAqL1xuICBnZXRUb2dnbGVWaXNpYmlsaXR5SGFuZGxlcjogKCkgPT4gKGV2ZW50OiB1bmtub3duKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvY29sdW1uLXZpc2liaWxpdHkjdG9nZ2xldmlzaWJpbGl0eSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2NvbHVtbi12aXNpYmlsaXR5KVxuICAgKi9cbiAgdG9nZ2xlVmlzaWJpbGl0eTogKHZhbHVlPzogYm9vbGVhbikgPT4gdm9pZFxufVxuXG4vL1xuXG5leHBvcnQgY29uc3QgQ29sdW1uVmlzaWJpbGl0eTogVGFibGVGZWF0dXJlID0ge1xuICBnZXRJbml0aWFsU3RhdGU6IChzdGF0ZSk6IFZpc2liaWxpdHlUYWJsZVN0YXRlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sdW1uVmlzaWJpbGl0eToge30sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdE9wdGlvbnM6IDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogVmlzaWJpbGl0eURlZmF1bHRPcHRpb25zID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgb25Db2x1bW5WaXNpYmlsaXR5Q2hhbmdlOiBtYWtlU3RhdGVVcGRhdGVyKCdjb2x1bW5WaXNpYmlsaXR5JywgdGFibGUpLFxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVDb2x1bW46IDxURGF0YSBleHRlbmRzIFJvd0RhdGEsIFRWYWx1ZT4oXG4gICAgY29sdW1uOiBDb2x1bW48VERhdGEsIFRWYWx1ZT4sXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiB2b2lkID0+IHtcbiAgICBjb2x1bW4udG9nZ2xlVmlzaWJpbGl0eSA9IHZhbHVlID0+IHtcbiAgICAgIGlmIChjb2x1bW4uZ2V0Q2FuSGlkZSgpKSB7XG4gICAgICAgIHRhYmxlLnNldENvbHVtblZpc2liaWxpdHkob2xkID0+ICh7XG4gICAgICAgICAgLi4ub2xkLFxuICAgICAgICAgIFtjb2x1bW4uaWRdOiB2YWx1ZSA/PyAhY29sdW1uLmdldElzVmlzaWJsZSgpLFxuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICB9XG4gICAgY29sdW1uLmdldElzVmlzaWJsZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkQ29sdW1ucyA9IGNvbHVtbi5jb2x1bW5zXG4gICAgICByZXR1cm4gKFxuICAgICAgICAoY2hpbGRDb2x1bW5zLmxlbmd0aFxuICAgICAgICAgID8gY2hpbGRDb2x1bW5zLnNvbWUoYyA9PiBjLmdldElzVmlzaWJsZSgpKVxuICAgICAgICAgIDogdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5WaXNpYmlsaXR5Py5bY29sdW1uLmlkXSkgPz8gdHJ1ZVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbHVtbi5nZXRDYW5IaWRlID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGNvbHVtbi5jb2x1bW5EZWYuZW5hYmxlSGlkaW5nID8/IHRydWUpICYmXG4gICAgICAgICh0YWJsZS5vcHRpb25zLmVuYWJsZUhpZGluZyA/PyB0cnVlKVxuICAgICAgKVxuICAgIH1cbiAgICBjb2x1bW4uZ2V0VG9nZ2xlVmlzaWJpbGl0eUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gKGU6IHVua25vd24pID0+IHtcbiAgICAgICAgY29sdW1uLnRvZ2dsZVZpc2liaWxpdHk/LihcbiAgICAgICAgICAoKGUgYXMgTW91c2VFdmVudCkudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWRcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVSb3c6IDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KFxuICAgIHJvdzogUm93PFREYXRhPixcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IHZvaWQgPT4ge1xuICAgIHJvdy5fZ2V0QWxsVmlzaWJsZUNlbGxzID0gbWVtbyhcbiAgICAgICgpID0+IFtyb3cuZ2V0QWxsQ2VsbHMoKSwgdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5WaXNpYmlsaXR5XSxcbiAgICAgIGNlbGxzID0+IHtcbiAgICAgICAgcmV0dXJuIGNlbGxzLmZpbHRlcihjZWxsID0+IGNlbGwuY29sdW1uLmdldElzVmlzaWJsZSgpKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsICdkZWJ1Z1Jvd3MnLCAnX2dldEFsbFZpc2libGVDZWxscycpXG4gICAgKVxuICAgIHJvdy5nZXRWaXNpYmxlQ2VsbHMgPSBtZW1vKFxuICAgICAgKCkgPT4gW1xuICAgICAgICByb3cuZ2V0TGVmdFZpc2libGVDZWxscygpLFxuICAgICAgICByb3cuZ2V0Q2VudGVyVmlzaWJsZUNlbGxzKCksXG4gICAgICAgIHJvdy5nZXRSaWdodFZpc2libGVDZWxscygpLFxuICAgICAgXSxcbiAgICAgIChsZWZ0LCBjZW50ZXIsIHJpZ2h0KSA9PiBbLi4ubGVmdCwgLi4uY2VudGVyLCAuLi5yaWdodF0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdSb3dzJywgJ2dldFZpc2libGVDZWxscycpXG4gICAgKVxuICB9LFxuXG4gIGNyZWF0ZVRhYmxlOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPih0YWJsZTogVGFibGU8VERhdGE+KTogdm9pZCA9PiB7XG4gICAgY29uc3QgbWFrZVZpc2libGVDb2x1bW5zTWV0aG9kID0gKFxuICAgICAga2V5OiBzdHJpbmcsXG4gICAgICBnZXRDb2x1bW5zOiAoKSA9PiBDb2x1bW48VERhdGEsIHVua25vd24+W11cbiAgICApOiAoKCkgPT4gQ29sdW1uPFREYXRhLCB1bmtub3duPltdKSA9PiB7XG4gICAgICByZXR1cm4gbWVtbyhcbiAgICAgICAgKCkgPT4gW1xuICAgICAgICAgIGdldENvbHVtbnMoKSxcbiAgICAgICAgICBnZXRDb2x1bW5zKClcbiAgICAgICAgICAgIC5maWx0ZXIoZCA9PiBkLmdldElzVmlzaWJsZSgpKVxuICAgICAgICAgICAgLm1hcChkID0+IGQuaWQpXG4gICAgICAgICAgICAuam9pbignXycpLFxuICAgICAgICBdLFxuICAgICAgICBjb2x1bW5zID0+IHtcbiAgICAgICAgICByZXR1cm4gY29sdW1ucy5maWx0ZXIoZCA9PiBkLmdldElzVmlzaWJsZT8uKCkpXG4gICAgICAgIH0sXG4gICAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsICdkZWJ1Z0NvbHVtbnMnLCBrZXkpXG4gICAgICApXG4gICAgfVxuXG4gICAgdGFibGUuZ2V0VmlzaWJsZUZsYXRDb2x1bW5zID0gbWFrZVZpc2libGVDb2x1bW5zTWV0aG9kKFxuICAgICAgJ2dldFZpc2libGVGbGF0Q29sdW1ucycsXG4gICAgICAoKSA9PiB0YWJsZS5nZXRBbGxGbGF0Q29sdW1ucygpXG4gICAgKVxuICAgIHRhYmxlLmdldFZpc2libGVMZWFmQ29sdW1ucyA9IG1ha2VWaXNpYmxlQ29sdW1uc01ldGhvZChcbiAgICAgICdnZXRWaXNpYmxlTGVhZkNvbHVtbnMnLFxuICAgICAgKCkgPT4gdGFibGUuZ2V0QWxsTGVhZkNvbHVtbnMoKVxuICAgIClcbiAgICB0YWJsZS5nZXRMZWZ0VmlzaWJsZUxlYWZDb2x1bW5zID0gbWFrZVZpc2libGVDb2x1bW5zTWV0aG9kKFxuICAgICAgJ2dldExlZnRWaXNpYmxlTGVhZkNvbHVtbnMnLFxuICAgICAgKCkgPT4gdGFibGUuZ2V0TGVmdExlYWZDb2x1bW5zKClcbiAgICApXG4gICAgdGFibGUuZ2V0UmlnaHRWaXNpYmxlTGVhZkNvbHVtbnMgPSBtYWtlVmlzaWJsZUNvbHVtbnNNZXRob2QoXG4gICAgICAnZ2V0UmlnaHRWaXNpYmxlTGVhZkNvbHVtbnMnLFxuICAgICAgKCkgPT4gdGFibGUuZ2V0UmlnaHRMZWFmQ29sdW1ucygpXG4gICAgKVxuICAgIHRhYmxlLmdldENlbnRlclZpc2libGVMZWFmQ29sdW1ucyA9IG1ha2VWaXNpYmxlQ29sdW1uc01ldGhvZChcbiAgICAgICdnZXRDZW50ZXJWaXNpYmxlTGVhZkNvbHVtbnMnLFxuICAgICAgKCkgPT4gdGFibGUuZ2V0Q2VudGVyTGVhZkNvbHVtbnMoKVxuICAgIClcblxuICAgIHRhYmxlLnNldENvbHVtblZpc2liaWxpdHkgPSB1cGRhdGVyID0+XG4gICAgICB0YWJsZS5vcHRpb25zLm9uQ29sdW1uVmlzaWJpbGl0eUNoYW5nZT8uKHVwZGF0ZXIpXG5cbiAgICB0YWJsZS5yZXNldENvbHVtblZpc2liaWxpdHkgPSBkZWZhdWx0U3RhdGUgPT4ge1xuICAgICAgdGFibGUuc2V0Q29sdW1uVmlzaWJpbGl0eShcbiAgICAgICAgZGVmYXVsdFN0YXRlID8ge30gOiB0YWJsZS5pbml0aWFsU3RhdGUuY29sdW1uVmlzaWJpbGl0eSA/PyB7fVxuICAgICAgKVxuICAgIH1cblxuICAgIHRhYmxlLnRvZ2dsZUFsbENvbHVtbnNWaXNpYmxlID0gdmFsdWUgPT4ge1xuICAgICAgdmFsdWUgPSB2YWx1ZSA/PyAhdGFibGUuZ2V0SXNBbGxDb2x1bW5zVmlzaWJsZSgpXG5cbiAgICAgIHRhYmxlLnNldENvbHVtblZpc2liaWxpdHkoXG4gICAgICAgIHRhYmxlLmdldEFsbExlYWZDb2x1bW5zKCkucmVkdWNlKFxuICAgICAgICAgIChvYmosIGNvbHVtbikgPT4gKHtcbiAgICAgICAgICAgIC4uLm9iaixcbiAgICAgICAgICAgIFtjb2x1bW4uaWRdOiAhdmFsdWUgPyAhY29sdW1uLmdldENhbkhpZGU/LigpIDogdmFsdWUsXG4gICAgICAgICAgfSksXG4gICAgICAgICAge31cbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cblxuICAgIHRhYmxlLmdldElzQWxsQ29sdW1uc1Zpc2libGUgPSAoKSA9PlxuICAgICAgIXRhYmxlLmdldEFsbExlYWZDb2x1bW5zKCkuc29tZShjb2x1bW4gPT4gIWNvbHVtbi5nZXRJc1Zpc2libGU/LigpKVxuXG4gICAgdGFibGUuZ2V0SXNTb21lQ29sdW1uc1Zpc2libGUgPSAoKSA9PlxuICAgICAgdGFibGUuZ2V0QWxsTGVhZkNvbHVtbnMoKS5zb21lKGNvbHVtbiA9PiBjb2x1bW4uZ2V0SXNWaXNpYmxlPy4oKSlcblxuICAgIHRhYmxlLmdldFRvZ2dsZUFsbENvbHVtbnNWaXNpYmlsaXR5SGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHJldHVybiAoZTogdW5rbm93bikgPT4ge1xuICAgICAgICB0YWJsZS50b2dnbGVBbGxDb2x1bW5zVmlzaWJsZShcbiAgICAgICAgICAoKGUgYXMgTW91c2VFdmVudCkudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpPy5jaGVja2VkXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0VmlzaWJsZUxlYWZDb2x1bW5zPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gIHRhYmxlOiBUYWJsZTxURGF0YT4sXG4gIHBvc2l0aW9uPzogQ29sdW1uUGlubmluZ1Bvc2l0aW9uIHwgJ2NlbnRlcidcbikge1xuICByZXR1cm4gIXBvc2l0aW9uXG4gICAgPyB0YWJsZS5nZXRWaXNpYmxlTGVhZkNvbHVtbnMoKVxuICAgIDogcG9zaXRpb24gPT09ICdjZW50ZXInXG4gICAgICA/IHRhYmxlLmdldENlbnRlclZpc2libGVMZWFmQ29sdW1ucygpXG4gICAgICA6IHBvc2l0aW9uID09PSAnbGVmdCdcbiAgICAgICAgPyB0YWJsZS5nZXRMZWZ0VmlzaWJsZUxlYWZDb2x1bW5zKClcbiAgICAgICAgOiB0YWJsZS5nZXRSaWdodFZpc2libGVMZWFmQ29sdW1ucygpXG59XG4iLCJpbXBvcnQgeyBSb3dNb2RlbCB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgVGFibGUsIFJvd0RhdGEsIFRhYmxlRmVhdHVyZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEdsb2JhbEZhY2V0aW5nSW5zdGFuY2U8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIF9nZXRHbG9iYWxGYWNldGVkTWluTWF4VmFsdWVzPzogKCkgPT4gdW5kZWZpbmVkIHwgW251bWJlciwgbnVtYmVyXVxuICBfZ2V0R2xvYmFsRmFjZXRlZFJvd01vZGVsPzogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIF9nZXRHbG9iYWxGYWNldGVkVW5pcXVlVmFsdWVzPzogKCkgPT4gTWFwPGFueSwgbnVtYmVyPlxuICAvKipcbiAgICogQ3VycmVudGx5LCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGJ1aWx0LWluIGBpbmNsdWRlc1N0cmluZ2AgZmlsdGVyIGZ1bmN0aW9uLiBJbiBmdXR1cmUgcmVsZWFzZXMsIGl0IG1heSByZXR1cm4gbW9yZSBkeW5hbWljIGZpbHRlciBmdW5jdGlvbnMgYmFzZWQgb24gdGhlIG5hdHVyZSBvZiB0aGUgZGF0YSBwcm92aWRlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9nbG9iYWwtZmFjZXRpbmcjZ2V0Z2xvYmFsYXV0b2ZpbHRlcmZuKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ2xvYmFsLWZhY2V0aW5nKVxuICAgKi9cbiAgZ2V0R2xvYmFsRmFjZXRlZE1pbk1heFZhbHVlczogKCkgPT4gdW5kZWZpbmVkIHwgW251bWJlciwgbnVtYmVyXVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm93IG1vZGVsIGZvciB0aGUgdGFibGUgYWZ0ZXIgKipnbG9iYWwqKiBmaWx0ZXJpbmcgaGFzIGJlZW4gYXBwbGllZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9nbG9iYWwtZmFjZXRpbmcjZ2V0Z2xvYmFsZmFjZXRlZHJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ2xvYmFsLWZhY2V0aW5nKVxuICAgKi9cbiAgZ2V0R2xvYmFsRmFjZXRlZFJvd01vZGVsOiAoKSA9PiBSb3dNb2RlbDxURGF0YT5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZhY2V0ZWQgdW5pcXVlIHZhbHVlcyBmb3IgdGhlIGdsb2JhbCBmaWx0ZXIuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZ2xvYmFsLWZhY2V0aW5nI2dldGdsb2JhbGZhY2V0ZWR1bmlxdWV2YWx1ZXMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9nbG9iYWwtZmFjZXRpbmcpXG4gICAqL1xuICBnZXRHbG9iYWxGYWNldGVkVW5pcXVlVmFsdWVzOiAoKSA9PiBNYXA8YW55LCBudW1iZXI+XG59XG5cbi8vXG5cbmV4cG9ydCBjb25zdCBHbG9iYWxGYWNldGluZzogVGFibGVGZWF0dXJlID0ge1xuICBjcmVhdGVUYWJsZTogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4odGFibGU6IFRhYmxlPFREYXRhPik6IHZvaWQgPT4ge1xuICAgIHRhYmxlLl9nZXRHbG9iYWxGYWNldGVkUm93TW9kZWwgPVxuICAgICAgdGFibGUub3B0aW9ucy5nZXRGYWNldGVkUm93TW9kZWwgJiZcbiAgICAgIHRhYmxlLm9wdGlvbnMuZ2V0RmFjZXRlZFJvd01vZGVsKHRhYmxlLCAnX19nbG9iYWxfXycpXG5cbiAgICB0YWJsZS5nZXRHbG9iYWxGYWNldGVkUm93TW9kZWwgPSAoKSA9PiB7XG4gICAgICBpZiAodGFibGUub3B0aW9ucy5tYW51YWxGaWx0ZXJpbmcgfHwgIXRhYmxlLl9nZXRHbG9iYWxGYWNldGVkUm93TW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIHRhYmxlLmdldFByZUZpbHRlcmVkUm93TW9kZWwoKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFibGUuX2dldEdsb2JhbEZhY2V0ZWRSb3dNb2RlbCgpXG4gICAgfVxuXG4gICAgdGFibGUuX2dldEdsb2JhbEZhY2V0ZWRVbmlxdWVWYWx1ZXMgPVxuICAgICAgdGFibGUub3B0aW9ucy5nZXRGYWNldGVkVW5pcXVlVmFsdWVzICYmXG4gICAgICB0YWJsZS5vcHRpb25zLmdldEZhY2V0ZWRVbmlxdWVWYWx1ZXModGFibGUsICdfX2dsb2JhbF9fJylcbiAgICB0YWJsZS5nZXRHbG9iYWxGYWNldGVkVW5pcXVlVmFsdWVzID0gKCkgPT4ge1xuICAgICAgaWYgKCF0YWJsZS5fZ2V0R2xvYmFsRmFjZXRlZFVuaXF1ZVZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IE1hcCgpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWJsZS5fZ2V0R2xvYmFsRmFjZXRlZFVuaXF1ZVZhbHVlcygpXG4gICAgfVxuXG4gICAgdGFibGUuX2dldEdsb2JhbEZhY2V0ZWRNaW5NYXhWYWx1ZXMgPVxuICAgICAgdGFibGUub3B0aW9ucy5nZXRGYWNldGVkTWluTWF4VmFsdWVzICYmXG4gICAgICB0YWJsZS5vcHRpb25zLmdldEZhY2V0ZWRNaW5NYXhWYWx1ZXModGFibGUsICdfX2dsb2JhbF9fJylcbiAgICB0YWJsZS5nZXRHbG9iYWxGYWNldGVkTWluTWF4VmFsdWVzID0gKCkgPT4ge1xuICAgICAgaWYgKCF0YWJsZS5fZ2V0R2xvYmFsRmFjZXRlZE1pbk1heFZhbHVlcykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhYmxlLl9nZXRHbG9iYWxGYWNldGVkTWluTWF4VmFsdWVzKClcbiAgICB9XG4gIH0sXG59XG4iLCJpbXBvcnQgeyBGaWx0ZXJGbiwgRmlsdGVyRm5PcHRpb24gfSBmcm9tICcuLidcbmltcG9ydCB7IEJ1aWx0SW5GaWx0ZXJGbiwgZmlsdGVyRm5zIH0gZnJvbSAnLi4vZmlsdGVyRm5zJ1xuaW1wb3J0IHtcbiAgQ29sdW1uLFxuICBPbkNoYW5nZUZuLFxuICBUYWJsZSxcbiAgVXBkYXRlcixcbiAgUm93RGF0YSxcbiAgVGFibGVGZWF0dXJlLFxufSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IGlzRnVuY3Rpb24sIG1ha2VTdGF0ZVVwZGF0ZXIgfSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IGludGVyZmFjZSBHbG9iYWxGaWx0ZXJUYWJsZVN0YXRlIHtcbiAgZ2xvYmFsRmlsdGVyOiBhbnlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHbG9iYWxGaWx0ZXJDb2x1bW5EZWYge1xuICAvKipcbiAgICogRW5hYmxlcy9kaXNhYmxlcyB0aGUgKipnbG9iYWwqKiBmaWx0ZXIgZm9yIHRoaXMgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dsb2JhbC1maWx0ZXJpbmcjZW5hYmxlZ2xvYmFsZmlsdGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ2xvYmFsLWZpbHRlcmluZylcbiAgICovXG4gIGVuYWJsZUdsb2JhbEZpbHRlcj86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBHbG9iYWxGaWx0ZXJDb2x1bW4ge1xuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29sdW1uIGNhbiBiZSAqKmdsb2JhbGx5KiogZmlsdGVyZWQuIFNldCB0byBgZmFsc2VgIHRvIGRpc2FibGUgYSBjb2x1bW4gZnJvbSBiZWluZyBzY2FubmVkIGR1cmluZyBnbG9iYWwgZmlsdGVyaW5nLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dsb2JhbC1maWx0ZXJpbmcjZ2V0Y2FuZ2xvYmFsZmlsdGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ2xvYmFsLWZpbHRlcmluZylcbiAgICovXG4gIGdldENhbkdsb2JhbEZpbHRlcjogKCkgPT4gYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdsb2JhbEZpbHRlck9wdGlvbnM8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBFbmFibGVzL2Rpc2FibGVzICoqZ2xvYmFsKiogZmlsdGVyaW5nIGZvciBhbGwgY29sdW1ucy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9nbG9iYWwtZmlsdGVyaW5nI2VuYWJsZWdsb2JhbGZpbHRlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dsb2JhbC1maWx0ZXJpbmcpXG4gICAqL1xuICBlbmFibGVHbG9iYWxGaWx0ZXI/OiBib29sZWFuXG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBjb2x1bW4gYW5kIHNob3VsZCByZXR1cm4gYHRydWVgIG9yIGBmYWxzZWAgdG8gaW5kaWNhdGUgd2hldGhlciB0aGlzIGNvbHVtbiBzaG91bGQgYmUgdXNlZCBmb3IgZ2xvYmFsIGZpbHRlcmluZy5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VmdWwgaWYgdGhlIGNvbHVtbiBjYW4gY29udGFpbiBkYXRhIHRoYXQgaXMgbm90IGBzdHJpbmdgIG9yIGBudW1iZXJgIChpLmUuIGB1bmRlZmluZWRgKS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9nbG9iYWwtZmlsdGVyaW5nI2dldGNvbHVtbmNhbmdsb2JhbGZpbHRlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2dsb2JhbC1maWx0ZXJpbmcpXG4gICAqL1xuICBnZXRDb2x1bW5DYW5HbG9iYWxGaWx0ZXI/OiAoY29sdW1uOiBDb2x1bW48VERhdGEsIHVua25vd24+KSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBUaGUgZmlsdGVyIGZ1bmN0aW9uIHRvIHVzZSBmb3IgZ2xvYmFsIGZpbHRlcmluZy5cbiAgICogLSBBIGBzdHJpbmdgIHJlZmVyZW5jaW5nIGEgYnVpbHQtaW4gZmlsdGVyIGZ1bmN0aW9uXG4gICAqIC0gQSBgc3RyaW5nYCB0aGF0IHJlZmVyZW5jZXMgYSBjdXN0b20gZmlsdGVyIGZ1bmN0aW9ucyBwcm92aWRlZCB2aWEgdGhlIGB0YWJsZU9wdGlvbnMuZmlsdGVyRm5zYCBvcHRpb25cbiAgICogLSBBIGN1c3RvbSBmaWx0ZXIgZnVuY3Rpb25cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9nbG9iYWwtZmlsdGVyaW5nI2dsb2JhbGZpbHRlcmZuKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ2xvYmFsLWZpbHRlcmluZylcbiAgICovXG4gIGdsb2JhbEZpbHRlckZuPzogRmlsdGVyRm5PcHRpb248VERhdGE+XG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGB1cGRhdGVyRm5gIHdoZW4gYHN0YXRlLmdsb2JhbEZpbHRlcmAgY2hhbmdlcy4gVGhpcyBvdmVycmlkZXMgdGhlIGRlZmF1bHQgaW50ZXJuYWwgc3RhdGUgbWFuYWdlbWVudCwgc28geW91IHdpbGwgbmVlZCB0byBwZXJzaXN0IHRoZSBzdGF0ZSBjaGFuZ2UgZWl0aGVyIGZ1bGx5IG9yIHBhcnRpYWxseSBvdXRzaWRlIG9mIHRoZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9nbG9iYWwtZmlsdGVyaW5nI29uZ2xvYmFsZmlsdGVyY2hhbmdlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ2xvYmFsLWZpbHRlcmluZylcbiAgICovXG4gIG9uR2xvYmFsRmlsdGVyQ2hhbmdlPzogT25DaGFuZ2VGbjxhbnk+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2xvYmFsRmlsdGVySW5zdGFuY2U8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBDdXJyZW50bHksIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgYnVpbHQtaW4gYGluY2x1ZGVzU3RyaW5nYCBmaWx0ZXIgZnVuY3Rpb24uIEluIGZ1dHVyZSByZWxlYXNlcywgaXQgbWF5IHJldHVybiBtb3JlIGR5bmFtaWMgZmlsdGVyIGZ1bmN0aW9ucyBiYXNlZCBvbiB0aGUgbmF0dXJlIG9mIHRoZSBkYXRhIHByb3ZpZGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dsb2JhbC1maWx0ZXJpbmcjZ2V0Z2xvYmFsYXV0b2ZpbHRlcmZuKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ2xvYmFsLWZpbHRlcmluZylcbiAgICovXG4gIGdldEdsb2JhbEF1dG9GaWx0ZXJGbjogKCkgPT4gRmlsdGVyRm48VERhdGE+IHwgdW5kZWZpbmVkXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmaWx0ZXIgZnVuY3Rpb24gKGVpdGhlciB1c2VyLWRlZmluZWQgb3IgYXV0b21hdGljLCBkZXBlbmRpbmcgb24gY29uZmlndXJhdGlvbikgZm9yIHRoZSBnbG9iYWwgZmlsdGVyLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dsb2JhbC1maWx0ZXJpbmcjZ2V0Z2xvYmFsZmlsdGVyZm4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9nbG9iYWwtZmlsdGVyaW5nKVxuICAgKi9cbiAgZ2V0R2xvYmFsRmlsdGVyRm46ICgpID0+IEZpbHRlckZuPFREYXRhPiB8IHVuZGVmaW5lZFxuICAvKipcbiAgICogUmVzZXRzIHRoZSAqKmdsb2JhbEZpbHRlcioqIHN0YXRlIHRvIGBpbml0aWFsU3RhdGUuZ2xvYmFsRmlsdGVyYCwgb3IgYHRydWVgIGNhbiBiZSBwYXNzZWQgdG8gZm9yY2UgYSBkZWZhdWx0IGJsYW5rIHN0YXRlIHJlc2V0IHRvIGB1bmRlZmluZWRgLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dsb2JhbC1maWx0ZXJpbmcjcmVzZXRnbG9iYWxmaWx0ZXIpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9nbG9iYWwtZmlsdGVyaW5nKVxuICAgKi9cbiAgcmVzZXRHbG9iYWxGaWx0ZXI6IChkZWZhdWx0U3RhdGU/OiBib29sZWFuKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBTZXRzIG9yIHVwZGF0ZXMgdGhlIGBzdGF0ZS5nbG9iYWxGaWx0ZXJgIHN0YXRlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2dsb2JhbC1maWx0ZXJpbmcjc2V0Z2xvYmFsZmlsdGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZ2xvYmFsLWZpbHRlcmluZylcbiAgICovXG4gIHNldEdsb2JhbEZpbHRlcjogKHVwZGF0ZXI6IFVwZGF0ZXI8YW55PikgPT4gdm9pZFxufVxuXG4vL1xuXG5leHBvcnQgY29uc3QgR2xvYmFsRmlsdGVyaW5nOiBUYWJsZUZlYXR1cmUgPSB7XG4gIGdldEluaXRpYWxTdGF0ZTogKHN0YXRlKTogR2xvYmFsRmlsdGVyVGFibGVTdGF0ZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdsb2JhbEZpbHRlcjogdW5kZWZpbmVkLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRPcHRpb25zOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IEdsb2JhbEZpbHRlck9wdGlvbnM8VERhdGE+ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgb25HbG9iYWxGaWx0ZXJDaGFuZ2U6IG1ha2VTdGF0ZVVwZGF0ZXIoJ2dsb2JhbEZpbHRlcicsIHRhYmxlKSxcbiAgICAgIGdsb2JhbEZpbHRlckZuOiAnYXV0bycsXG4gICAgICBnZXRDb2x1bW5DYW5HbG9iYWxGaWx0ZXI6IGNvbHVtbiA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGFibGVcbiAgICAgICAgICAuZ2V0Q29yZVJvd01vZGVsKClcbiAgICAgICAgICAuZmxhdFJvd3NbMF0/Ll9nZXRBbGxDZWxsc0J5Q29sdW1uSWQoKVxuICAgICAgICAgIFtjb2x1bW4uaWRdPy5nZXRWYWx1ZSgpXG5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJ1xuICAgICAgfSxcbiAgICB9IGFzIEdsb2JhbEZpbHRlck9wdGlvbnM8VERhdGE+XG4gIH0sXG5cbiAgY3JlYXRlQ29sdW1uOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICBjb2x1bW46IENvbHVtbjxURGF0YSwgdW5rbm93bj4sXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiB2b2lkID0+IHtcbiAgICBjb2x1bW4uZ2V0Q2FuR2xvYmFsRmlsdGVyID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGNvbHVtbi5jb2x1bW5EZWYuZW5hYmxlR2xvYmFsRmlsdGVyID8/IHRydWUpICYmXG4gICAgICAgICh0YWJsZS5vcHRpb25zLmVuYWJsZUdsb2JhbEZpbHRlciA/PyB0cnVlKSAmJlxuICAgICAgICAodGFibGUub3B0aW9ucy5lbmFibGVGaWx0ZXJzID8/IHRydWUpICYmXG4gICAgICAgICh0YWJsZS5vcHRpb25zLmdldENvbHVtbkNhbkdsb2JhbEZpbHRlcj8uKGNvbHVtbikgPz8gdHJ1ZSkgJiZcbiAgICAgICAgISFjb2x1bW4uYWNjZXNzb3JGblxuICAgICAgKVxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVUYWJsZTogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4odGFibGU6IFRhYmxlPFREYXRhPik6IHZvaWQgPT4ge1xuICAgIHRhYmxlLmdldEdsb2JhbEF1dG9GaWx0ZXJGbiA9ICgpID0+IHtcbiAgICAgIHJldHVybiBmaWx0ZXJGbnMuaW5jbHVkZXNTdHJpbmdcbiAgICB9XG5cbiAgICB0YWJsZS5nZXRHbG9iYWxGaWx0ZXJGbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2xvYmFsRmlsdGVyRm46IGdsb2JhbEZpbHRlckZuIH0gPSB0YWJsZS5vcHRpb25zXG5cbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGdsb2JhbEZpbHRlckZuKVxuICAgICAgICA/IGdsb2JhbEZpbHRlckZuXG4gICAgICAgIDogZ2xvYmFsRmlsdGVyRm4gPT09ICdhdXRvJ1xuICAgICAgICAgID8gdGFibGUuZ2V0R2xvYmFsQXV0b0ZpbHRlckZuKClcbiAgICAgICAgICA6IHRhYmxlLm9wdGlvbnMuZmlsdGVyRm5zPy5bZ2xvYmFsRmlsdGVyRm4gYXMgc3RyaW5nXSA/P1xuICAgICAgICAgICAgZmlsdGVyRm5zW2dsb2JhbEZpbHRlckZuIGFzIEJ1aWx0SW5GaWx0ZXJGbl1cbiAgICB9XG5cbiAgICB0YWJsZS5zZXRHbG9iYWxGaWx0ZXIgPSB1cGRhdGVyID0+IHtcbiAgICAgIHRhYmxlLm9wdGlvbnMub25HbG9iYWxGaWx0ZXJDaGFuZ2U/Lih1cGRhdGVyKVxuICAgIH1cblxuICAgIHRhYmxlLnJlc2V0R2xvYmFsRmlsdGVyID0gZGVmYXVsdFN0YXRlID0+IHtcbiAgICAgIHRhYmxlLnNldEdsb2JhbEZpbHRlcihcbiAgICAgICAgZGVmYXVsdFN0YXRlID8gdW5kZWZpbmVkIDogdGFibGUuaW5pdGlhbFN0YXRlLmdsb2JhbEZpbHRlclxuICAgICAgKVxuICAgIH1cbiAgfSxcbn1cbiIsImltcG9ydCB7IFJvd01vZGVsIH0gZnJvbSAnLi4nXG5pbXBvcnQge1xuICBPbkNoYW5nZUZuLFxuICBUYWJsZSxcbiAgUm93LFxuICBVcGRhdGVyLFxuICBSb3dEYXRhLFxuICBUYWJsZUZlYXR1cmUsXG59IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgbWFrZVN0YXRlVXBkYXRlciB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgdHlwZSBFeHBhbmRlZFN0YXRlTGlzdCA9IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+XG5leHBvcnQgdHlwZSBFeHBhbmRlZFN0YXRlID0gdHJ1ZSB8IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+XG5leHBvcnQgaW50ZXJmYWNlIEV4cGFuZGVkVGFibGVTdGF0ZSB7XG4gIGV4cGFuZGVkOiBFeHBhbmRlZFN0YXRlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXhwYW5kZWRSb3cge1xuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSByb3cgY2FuIGJlIGV4cGFuZGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2V4cGFuZGluZyNnZXRjYW5leHBhbmQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9leHBhbmRpbmcpXG4gICAqL1xuICBnZXRDYW5FeHBhbmQ6ICgpID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBhbGwgcGFyZW50IHJvd3Mgb2YgdGhlIHJvdyBhcmUgZXhwYW5kZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZXhwYW5kaW5nI2dldGlzYWxscGFyZW50c2V4cGFuZGVkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZXhwYW5kaW5nKVxuICAgKi9cbiAgZ2V0SXNBbGxQYXJlbnRzRXhwYW5kZWQ6ICgpID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgcm93IGlzIGV4cGFuZGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2V4cGFuZGluZyNnZXRpc2V4cGFuZGVkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZXhwYW5kaW5nKVxuICAgKi9cbiAgZ2V0SXNFeHBhbmRlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gdG9nZ2xlIHRoZSBleHBhbmRlZCBzdGF0ZSBvZiB0aGUgcm93LiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGJpbmQgdG8gYW4gZXZlbnQgaGFuZGxlciB0byBhIGJ1dHRvbi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjZ2V0dG9nZ2xlZXhwYW5kZWRoYW5kbGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZXhwYW5kaW5nKVxuICAgKi9cbiAgZ2V0VG9nZ2xlRXhwYW5kZWRIYW5kbGVyOiAoKSA9PiAoKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSBleHBhbmRlZCBzdGF0ZSAob3Igc2V0cyBpdCBpZiBgZXhwYW5kZWRgIGlzIHByb3ZpZGVkKSBmb3IgdGhlIHJvdy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjdG9nZ2xlZXhwYW5kZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9leHBhbmRpbmcpXG4gICAqL1xuICB0b2dnbGVFeHBhbmRlZDogKGV4cGFuZGVkPzogYm9vbGVhbikgPT4gdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4cGFuZGVkT3B0aW9uczxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgLyoqXG4gICAqIEVuYWJsZSB0aGlzIHNldHRpbmcgdG8gYXV0b21hdGljYWxseSByZXNldCB0aGUgZXhwYW5kZWQgc3RhdGUgb2YgdGhlIHRhYmxlIHdoZW4gZXhwYW5kaW5nIHN0YXRlIGNoYW5nZXMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZXhwYW5kaW5nI2F1dG9yZXNldGV4cGFuZGVkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZXhwYW5kaW5nKVxuICAgKi9cbiAgYXV0b1Jlc2V0RXhwYW5kZWQ/OiBib29sZWFuXG4gIC8qKlxuICAgKiBFbmFibGUvZGlzYWJsZSBleHBhbmRpbmcgZm9yIGFsbCByb3dzLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2V4cGFuZGluZyNlbmFibGVleHBhbmRpbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9leHBhbmRpbmcpXG4gICAqL1xuICBlbmFibGVFeHBhbmRpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciByZXR1cm5pbmcgdGhlIGV4cGFuZGVkIHJvdyBtb2RlbC4gSWYgdGhpcyBmdW5jdGlvbiBpcyBub3QgcHJvdmlkZWQsIHRoZSB0YWJsZSB3aWxsIG5vdCBleHBhbmQgcm93cy4gWW91IGNhbiB1c2UgdGhlIGRlZmF1bHQgZXhwb3J0ZWQgYGdldEV4cGFuZGVkUm93TW9kZWxgIGZ1bmN0aW9uIHRvIGdldCB0aGUgZXhwYW5kZWQgcm93IG1vZGVsIG9yIGltcGxlbWVudCB5b3VyIG93bi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjZ2V0ZXhwYW5kZWRyb3dtb2RlbClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2V4cGFuZGluZylcbiAgICovXG4gIGdldEV4cGFuZGVkUm93TW9kZWw/OiAodGFibGU6IFRhYmxlPGFueT4pID0+ICgpID0+IFJvd01vZGVsPGFueT5cbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCBhbGxvd3MgeW91IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIGRldGVybWluaW5nIHdoZXRoZXIgYSByb3cgaXMgY3VycmVudGx5IGV4cGFuZGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2V4cGFuZGluZyNnZXRpc3Jvd2V4cGFuZGVkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZXhwYW5kaW5nKVxuICAgKi9cbiAgZ2V0SXNSb3dFeHBhbmRlZD86IChyb3c6IFJvdzxURGF0YT4pID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCBhbGxvd3MgeW91IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIGRldGVybWluaW5nIHdoZXRoZXIgYSByb3cgY2FuIGJlIGV4cGFuZGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2V4cGFuZGluZyNnZXRyb3djYW5leHBhbmQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9leHBhbmRpbmcpXG4gICAqL1xuICBnZXRSb3dDYW5FeHBhbmQ/OiAocm93OiBSb3c8VERhdGE+KSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBFbmFibGVzIG1hbnVhbCByb3cgZXhwYW5zaW9uLiBJZiB0aGlzIGlzIHNldCB0byBgdHJ1ZWAsIGBnZXRFeHBhbmRlZFJvd01vZGVsYCB3aWxsIG5vdCBiZSB1c2VkIHRvIGV4cGFuZCByb3dzIGFuZCB5b3Ugd291bGQgYmUgZXhwZWN0ZWQgdG8gcGVyZm9ybSB0aGUgZXhwYW5zaW9uIGluIHlvdXIgb3duIGRhdGEgbW9kZWwuIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSBhcmUgZG9pbmcgc2VydmVyLXNpZGUgZXhwYW5zaW9uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2V4cGFuZGluZyNtYW51YWxleHBhbmRpbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9leHBhbmRpbmcpXG4gICAqL1xuICBtYW51YWxFeHBhbmRpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIHRoZSBgZXhwYW5kZWRgIHRhYmxlIHN0YXRlIGNoYW5nZXMuIElmIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIHlvdSB3aWxsIGJlIHJlc3BvbnNpYmxlIGZvciBtYW5hZ2luZyB0aGlzIHN0YXRlIG9uIHlvdXIgb3duLiBUbyBwYXNzIHRoZSBtYW5hZ2VkIHN0YXRlIGJhY2sgdG8gdGhlIHRhYmxlLCB1c2UgdGhlIGB0YWJsZU9wdGlvbnMuc3RhdGUuZXhwYW5kZWRgIG9wdGlvbi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjb25leHBhbmRlZGNoYW5nZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2V4cGFuZGluZylcbiAgICovXG4gIG9uRXhwYW5kZWRDaGFuZ2U/OiBPbkNoYW5nZUZuPEV4cGFuZGVkU3RhdGU+XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAgZXhwYW5kZWQgcm93cyB3aWxsIGJlIHBhZ2luYXRlZCBhbG9uZyB3aXRoIHRoZSByZXN0IG9mIHRoZSB0YWJsZSAod2hpY2ggbWVhbnMgZXhwYW5kZWQgcm93cyBtYXkgc3BhbiBtdWx0aXBsZSBwYWdlcykuIElmIGBmYWxzZWAgZXhwYW5kZWQgcm93cyB3aWxsIG5vdCBiZSBjb25zaWRlcmVkIGZvciBwYWdpbmF0aW9uICh3aGljaCBtZWFucyBleHBhbmRlZCByb3dzIHdpbGwgYWx3YXlzIHJlbmRlciBvbiB0aGVpciBwYXJlbnRzIHBhZ2UuIFRoaXMgYWxzbyBtZWFucyBtb3JlIHJvd3Mgd2lsbCBiZSByZW5kZXJlZCB0aGFuIHRoZSBzZXQgcGFnZSBzaXplKVxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2V4cGFuZGluZyNwYWdpbmF0ZWV4cGFuZGVkcm93cylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2V4cGFuZGluZylcbiAgICovXG4gIHBhZ2luYXRlRXhwYW5kZWRSb3dzPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4cGFuZGVkSW5zdGFuY2U8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIF9hdXRvUmVzZXRFeHBhbmRlZDogKCkgPT4gdm9pZFxuICBfZ2V0RXhwYW5kZWRSb3dNb2RlbD86ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZXJlIGFyZSBhbnkgcm93cyB0aGF0IGNhbiBiZSBleHBhbmRlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjZ2V0Y2Fuc29tZXJvd3NleHBhbmQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9leHBhbmRpbmcpXG4gICAqL1xuICBnZXRDYW5Tb21lUm93c0V4cGFuZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWF4aW11bSBkZXB0aCBvZiB0aGUgZXhwYW5kZWQgcm93cy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjZ2V0ZXhwYW5kZWRkZXB0aClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2V4cGFuZGluZylcbiAgICovXG4gIGdldEV4cGFuZGVkRGVwdGg6ICgpID0+IG51bWJlclxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm93IG1vZGVsIGFmdGVyIGV4cGFuc2lvbiBoYXMgYmVlbiBhcHBsaWVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL2V4cGFuZGluZyNnZXRleHBhbmRlZHJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZXhwYW5kaW5nKVxuICAgKi9cbiAgZ2V0RXhwYW5kZWRSb3dNb2RlbDogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgYWxsIHJvd3MgYXJlIGN1cnJlbnRseSBleHBhbmRlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjZ2V0aXNhbGxyb3dzZXhwYW5kZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9leHBhbmRpbmcpXG4gICAqL1xuICBnZXRJc0FsbFJvd3NFeHBhbmRlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZXJlIGFyZSBhbnkgcm93cyB0aGF0IGFyZSBjdXJyZW50bHkgZXhwYW5kZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZXhwYW5kaW5nI2dldGlzc29tZXJvd3NleHBhbmRlZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2V4cGFuZGluZylcbiAgICovXG4gIGdldElzU29tZVJvd3NFeHBhbmRlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm93IG1vZGVsIGJlZm9yZSBleHBhbnNpb24gaGFzIGJlZW4gYXBwbGllZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjZ2V0cHJlZXhwYW5kZWRyb3dtb2RlbClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2V4cGFuZGluZylcbiAgICovXG4gIGdldFByZUV4cGFuZGVkUm93TW9kZWw6ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmV0dXJucyBhIGhhbmRsZXIgdGhhdCBjYW4gYmUgdXNlZCB0byB0b2dnbGUgdGhlIGV4cGFuZGVkIHN0YXRlIG9mIGFsbCByb3dzLiBUaGlzIGhhbmRsZXIgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aXRoIGFuIGBpbnB1dFt0eXBlPWNoZWNrYm94XWAgZWxlbWVudC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9leHBhbmRpbmcjZ2V0dG9nZ2xlYWxscm93c2V4cGFuZGVkaGFuZGxlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2V4cGFuZGluZylcbiAgICovXG4gIGdldFRvZ2dsZUFsbFJvd3NFeHBhbmRlZEhhbmRsZXI6ICgpID0+IChldmVudDogdW5rbm93bikgPT4gdm9pZFxuICAvKipcbiAgICogUmVzZXRzIHRoZSBleHBhbmRlZCBzdGF0ZSBvZiB0aGUgdGFibGUgdG8gdGhlIGluaXRpYWwgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZXhwYW5kaW5nI3Jlc2V0ZXhwYW5kZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9leHBhbmRpbmcpXG4gICAqL1xuICByZXNldEV4cGFuZGVkOiAoZGVmYXVsdFN0YXRlPzogYm9vbGVhbikgPT4gdm9pZFxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZXhwYW5kZWQgc3RhdGUgb2YgdGhlIHRhYmxlIHZpYSBhbiB1cGRhdGUgZnVuY3Rpb24gb3IgdmFsdWUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZXhwYW5kaW5nI3NldGV4cGFuZGVkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvZXhwYW5kaW5nKVxuICAgKi9cbiAgc2V0RXhwYW5kZWQ6ICh1cGRhdGVyOiBVcGRhdGVyPEV4cGFuZGVkU3RhdGU+KSA9PiB2b2lkXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSBleHBhbmRlZCBzdGF0ZSBmb3IgYWxsIHJvd3MuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvZXhwYW5kaW5nI3RvZ2dsZWFsbHJvd3NleHBhbmRlZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL2V4cGFuZGluZylcbiAgICovXG4gIHRvZ2dsZUFsbFJvd3NFeHBhbmRlZDogKGV4cGFuZGVkPzogYm9vbGVhbikgPT4gdm9pZFxufVxuXG4vL1xuXG5leHBvcnQgY29uc3QgUm93RXhwYW5kaW5nOiBUYWJsZUZlYXR1cmUgPSB7XG4gIGdldEluaXRpYWxTdGF0ZTogKHN0YXRlKTogRXhwYW5kZWRUYWJsZVN0YXRlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5kZWQ6IHt9LFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRPcHRpb25zOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IEV4cGFuZGVkT3B0aW9uczxURGF0YT4gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBvbkV4cGFuZGVkQ2hhbmdlOiBtYWtlU3RhdGVVcGRhdGVyKCdleHBhbmRlZCcsIHRhYmxlKSxcbiAgICAgIHBhZ2luYXRlRXhwYW5kZWRSb3dzOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVUYWJsZTogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4odGFibGU6IFRhYmxlPFREYXRhPik6IHZvaWQgPT4ge1xuICAgIGxldCByZWdpc3RlcmVkID0gZmFsc2VcbiAgICBsZXQgcXVldWVkID0gZmFsc2VcblxuICAgIHRhYmxlLl9hdXRvUmVzZXRFeHBhbmRlZCA9ICgpID0+IHtcbiAgICAgIGlmICghcmVnaXN0ZXJlZCkge1xuICAgICAgICB0YWJsZS5fcXVldWUoKCkgPT4ge1xuICAgICAgICAgIHJlZ2lzdGVyZWQgPSB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIHRhYmxlLm9wdGlvbnMuYXV0b1Jlc2V0QWxsID8/XG4gICAgICAgIHRhYmxlLm9wdGlvbnMuYXV0b1Jlc2V0RXhwYW5kZWQgPz9cbiAgICAgICAgIXRhYmxlLm9wdGlvbnMubWFudWFsRXhwYW5kaW5nXG4gICAgICApIHtcbiAgICAgICAgaWYgKHF1ZXVlZCkgcmV0dXJuXG4gICAgICAgIHF1ZXVlZCA9IHRydWVcbiAgICAgICAgdGFibGUuX3F1ZXVlKCgpID0+IHtcbiAgICAgICAgICB0YWJsZS5yZXNldEV4cGFuZGVkKClcbiAgICAgICAgICBxdWV1ZWQgPSBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICB0YWJsZS5zZXRFeHBhbmRlZCA9IHVwZGF0ZXIgPT4gdGFibGUub3B0aW9ucy5vbkV4cGFuZGVkQ2hhbmdlPy4odXBkYXRlcilcbiAgICB0YWJsZS50b2dnbGVBbGxSb3dzRXhwYW5kZWQgPSBleHBhbmRlZCA9PiB7XG4gICAgICBpZiAoZXhwYW5kZWQgPz8gIXRhYmxlLmdldElzQWxsUm93c0V4cGFuZGVkKCkpIHtcbiAgICAgICAgdGFibGUuc2V0RXhwYW5kZWQodHJ1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhYmxlLnNldEV4cGFuZGVkKHt9KVxuICAgICAgfVxuICAgIH1cbiAgICB0YWJsZS5yZXNldEV4cGFuZGVkID0gZGVmYXVsdFN0YXRlID0+IHtcbiAgICAgIHRhYmxlLnNldEV4cGFuZGVkKGRlZmF1bHRTdGF0ZSA/IHt9IDogdGFibGUuaW5pdGlhbFN0YXRlPy5leHBhbmRlZCA/PyB7fSlcbiAgICB9XG4gICAgdGFibGUuZ2V0Q2FuU29tZVJvd3NFeHBhbmQgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gdGFibGVcbiAgICAgICAgLmdldFByZVBhZ2luYXRpb25Sb3dNb2RlbCgpXG4gICAgICAgIC5mbGF0Um93cy5zb21lKHJvdyA9PiByb3cuZ2V0Q2FuRXhwYW5kKCkpXG4gICAgfVxuICAgIHRhYmxlLmdldFRvZ2dsZUFsbFJvd3NFeHBhbmRlZEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gKGU6IHVua25vd24pID0+IHtcbiAgICAgICAgOyhlIGFzIGFueSkucGVyc2lzdD8uKClcbiAgICAgICAgdGFibGUudG9nZ2xlQWxsUm93c0V4cGFuZGVkKClcbiAgICAgIH1cbiAgICB9XG4gICAgdGFibGUuZ2V0SXNTb21lUm93c0V4cGFuZGVkID0gKCkgPT4ge1xuICAgICAgY29uc3QgZXhwYW5kZWQgPSB0YWJsZS5nZXRTdGF0ZSgpLmV4cGFuZGVkXG4gICAgICByZXR1cm4gZXhwYW5kZWQgPT09IHRydWUgfHwgT2JqZWN0LnZhbHVlcyhleHBhbmRlZCkuc29tZShCb29sZWFuKVxuICAgIH1cbiAgICB0YWJsZS5nZXRJc0FsbFJvd3NFeHBhbmRlZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGV4cGFuZGVkID0gdGFibGUuZ2V0U3RhdGUoKS5leHBhbmRlZFxuXG4gICAgICAvLyBJZiBleHBhbmRlZCBpcyB0cnVlLCBzYXZlIHNvbWUgY3ljbGVzIGFuZCByZXR1cm4gdHJ1ZVxuICAgICAgaWYgKHR5cGVvZiBleHBhbmRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiBleHBhbmRlZCA9PT0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoIU9iamVjdC5rZXlzKGV4cGFuZGVkKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIC8vIElmIGFueSByb3cgaXMgbm90IGV4cGFuZGVkLCByZXR1cm4gZmFsc2VcbiAgICAgIGlmICh0YWJsZS5nZXRSb3dNb2RlbCgpLmZsYXRSb3dzLnNvbWUocm93ID0+ICFyb3cuZ2V0SXNFeHBhbmRlZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgLy8gVGhleSBtdXN0IGFsbCBiZSBleHBhbmRlZCA6c2hydWc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICB0YWJsZS5nZXRFeHBhbmRlZERlcHRoID0gKCkgPT4ge1xuICAgICAgbGV0IG1heERlcHRoID0gMFxuXG4gICAgICBjb25zdCByb3dJZHMgPVxuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLmV4cGFuZGVkID09PSB0cnVlXG4gICAgICAgICAgPyBPYmplY3Qua2V5cyh0YWJsZS5nZXRSb3dNb2RlbCgpLnJvd3NCeUlkKVxuICAgICAgICAgIDogT2JqZWN0LmtleXModGFibGUuZ2V0U3RhdGUoKS5leHBhbmRlZClcblxuICAgICAgcm93SWRzLmZvckVhY2goaWQgPT4ge1xuICAgICAgICBjb25zdCBzcGxpdElkID0gaWQuc3BsaXQoJy4nKVxuICAgICAgICBtYXhEZXB0aCA9IE1hdGgubWF4KG1heERlcHRoLCBzcGxpdElkLmxlbmd0aClcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBtYXhEZXB0aFxuICAgIH1cbiAgICB0YWJsZS5nZXRQcmVFeHBhbmRlZFJvd01vZGVsID0gKCkgPT4gdGFibGUuZ2V0U29ydGVkUm93TW9kZWwoKVxuICAgIHRhYmxlLmdldEV4cGFuZGVkUm93TW9kZWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRhYmxlLl9nZXRFeHBhbmRlZFJvd01vZGVsICYmIHRhYmxlLm9wdGlvbnMuZ2V0RXhwYW5kZWRSb3dNb2RlbCkge1xuICAgICAgICB0YWJsZS5fZ2V0RXhwYW5kZWRSb3dNb2RlbCA9IHRhYmxlLm9wdGlvbnMuZ2V0RXhwYW5kZWRSb3dNb2RlbCh0YWJsZSlcbiAgICAgIH1cblxuICAgICAgaWYgKHRhYmxlLm9wdGlvbnMubWFudWFsRXhwYW5kaW5nIHx8ICF0YWJsZS5fZ2V0RXhwYW5kZWRSb3dNb2RlbCkge1xuICAgICAgICByZXR1cm4gdGFibGUuZ2V0UHJlRXhwYW5kZWRSb3dNb2RlbCgpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWJsZS5fZ2V0RXhwYW5kZWRSb3dNb2RlbCgpXG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZVJvdzogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gICAgcm93OiBSb3c8VERhdGE+LFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogdm9pZCA9PiB7XG4gICAgcm93LnRvZ2dsZUV4cGFuZGVkID0gZXhwYW5kZWQgPT4ge1xuICAgICAgdGFibGUuc2V0RXhwYW5kZWQob2xkID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RzID0gb2xkID09PSB0cnVlID8gdHJ1ZSA6ICEhb2xkPy5bcm93LmlkXVxuXG4gICAgICAgIGxldCBvbGRFeHBhbmRlZDogRXhwYW5kZWRTdGF0ZUxpc3QgPSB7fVxuXG4gICAgICAgIGlmIChvbGQgPT09IHRydWUpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyh0YWJsZS5nZXRSb3dNb2RlbCgpLnJvd3NCeUlkKS5mb3JFYWNoKHJvd0lkID0+IHtcbiAgICAgICAgICAgIG9sZEV4cGFuZGVkW3Jvd0lkXSA9IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZEV4cGFuZGVkID0gb2xkXG4gICAgICAgIH1cblxuICAgICAgICBleHBhbmRlZCA9IGV4cGFuZGVkID8/ICFleGlzdHNcblxuICAgICAgICBpZiAoIWV4aXN0cyAmJiBleHBhbmRlZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5vbGRFeHBhbmRlZCxcbiAgICAgICAgICAgIFtyb3cuaWRdOiB0cnVlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleGlzdHMgJiYgIWV4cGFuZGVkKSB7XG4gICAgICAgICAgY29uc3QgeyBbcm93LmlkXTogXywgLi4ucmVzdCB9ID0gb2xkRXhwYW5kZWRcbiAgICAgICAgICByZXR1cm4gcmVzdFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9sZFxuICAgICAgfSlcbiAgICB9XG4gICAgcm93LmdldElzRXhwYW5kZWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBleHBhbmRlZCA9IHRhYmxlLmdldFN0YXRlKCkuZXhwYW5kZWRcblxuICAgICAgcmV0dXJuICEhKFxuICAgICAgICB0YWJsZS5vcHRpb25zLmdldElzUm93RXhwYW5kZWQ/Lihyb3cpID8/XG4gICAgICAgIChleHBhbmRlZCA9PT0gdHJ1ZSB8fCBleHBhbmRlZD8uW3Jvdy5pZF0pXG4gICAgICApXG4gICAgfVxuICAgIHJvdy5nZXRDYW5FeHBhbmQgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0YWJsZS5vcHRpb25zLmdldFJvd0NhbkV4cGFuZD8uKHJvdykgPz9cbiAgICAgICAgKCh0YWJsZS5vcHRpb25zLmVuYWJsZUV4cGFuZGluZyA/PyB0cnVlKSAmJiAhIXJvdy5zdWJSb3dzPy5sZW5ndGgpXG4gICAgICApXG4gICAgfVxuICAgIHJvdy5nZXRJc0FsbFBhcmVudHNFeHBhbmRlZCA9ICgpID0+IHtcbiAgICAgIGxldCBpc0Z1bGx5RXhwYW5kZWQgPSB0cnVlXG4gICAgICBsZXQgY3VycmVudFJvdyA9IHJvd1xuXG4gICAgICB3aGlsZSAoaXNGdWxseUV4cGFuZGVkICYmIGN1cnJlbnRSb3cucGFyZW50SWQpIHtcbiAgICAgICAgY3VycmVudFJvdyA9IHRhYmxlLmdldFJvdyhjdXJyZW50Um93LnBhcmVudElkLCB0cnVlKVxuICAgICAgICBpc0Z1bGx5RXhwYW5kZWQgPSBjdXJyZW50Um93LmdldElzRXhwYW5kZWQoKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNGdWxseUV4cGFuZGVkXG4gICAgfVxuICAgIHJvdy5nZXRUb2dnbGVFeHBhbmRlZEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjYW5FeHBhbmQgPSByb3cuZ2V0Q2FuRXhwYW5kKClcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKCFjYW5FeHBhbmQpIHJldHVyblxuICAgICAgICByb3cudG9nZ2xlRXhwYW5kZWQoKVxuICAgICAgfVxuICAgIH1cbiAgfSxcbn1cbiIsImltcG9ydCB7XG4gIE9uQ2hhbmdlRm4sXG4gIFRhYmxlLFxuICBSb3dNb2RlbCxcbiAgVXBkYXRlcixcbiAgUm93RGF0YSxcbiAgVGFibGVGZWF0dXJlLFxufSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7XG4gIGZ1bmN0aW9uYWxVcGRhdGUsXG4gIGdldE1lbW9PcHRpb25zLFxuICBtYWtlU3RhdGVVcGRhdGVyLFxuICBtZW1vLFxufSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IGludGVyZmFjZSBQYWdpbmF0aW9uU3RhdGUge1xuICBwYWdlSW5kZXg6IG51bWJlclxuICBwYWdlU2l6ZTogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5hdGlvblRhYmxlU3RhdGUge1xuICBwYWdpbmF0aW9uOiBQYWdpbmF0aW9uU3RhdGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYWdpbmF0aW9uSW5pdGlhbFRhYmxlU3RhdGUge1xuICBwYWdpbmF0aW9uPzogUGFydGlhbDxQYWdpbmF0aW9uU3RhdGU+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5hdGlvbk9wdGlvbnMge1xuICAvKipcbiAgICogSWYgc2V0IHRvIGB0cnVlYCwgcGFnaW5hdGlvbiB3aWxsIGJlIHJlc2V0IHRvIHRoZSBmaXJzdCBwYWdlIHdoZW4gcGFnZS1hbHRlcmluZyBzdGF0ZSBjaGFuZ2VzIGVnLiBgZGF0YWAgaXMgdXBkYXRlZCwgZmlsdGVycyBjaGFuZ2UsIGdyb3VwaW5nIGNoYW5nZXMsIGV0Yy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9wYWdpbmF0aW9uI2F1dG9yZXNldHBhZ2VpbmRleClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICBhdXRvUmVzZXRQYWdlSW5kZXg/OiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgbW9kZWwgYWZ0ZXIgcGFnaW5hdGlvbiBoYXMgdGFrZW4gcGxhY2UsIGJ1dCBubyBmdXJ0aGVyLlxuICAgKlxuICAgKiBQYWdpbmF0aW9uIGNvbHVtbnMgYXJlIGF1dG9tYXRpY2FsbHkgcmVvcmRlcmVkIGJ5IGRlZmF1bHQgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb2x1bW5zIGxpc3QuIElmIHlvdSB3b3VsZCByYXRoZXIgcmVtb3ZlIHRoZW0gb3IgbGVhdmUgdGhlbSBhcy1pcywgc2V0IHRoZSBhcHByb3ByaWF0ZSBtb2RlIGhlcmUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNnZXRwYWdpbmF0aW9ucm93bW9kZWwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9wYWdpbmF0aW9uKVxuICAgKi9cbiAgZ2V0UGFnaW5hdGlvblJvd01vZGVsPzogKHRhYmxlOiBUYWJsZTxhbnk+KSA9PiAoKSA9PiBSb3dNb2RlbDxhbnk+XG4gIC8qKlxuICAgKiBFbmFibGVzIG1hbnVhbCBwYWdpbmF0aW9uLiBJZiB0aGlzIG9wdGlvbiBpcyBzZXQgdG8gYHRydWVgLCB0aGUgdGFibGUgd2lsbCBub3QgYXV0b21hdGljYWxseSBwYWdpbmF0ZSByb3dzIHVzaW5nIGBnZXRQYWdpbmF0aW9uUm93TW9kZWwoKWAgYW5kIGluc3RlYWQgd2lsbCBleHBlY3QgeW91IHRvIG1hbnVhbGx5IHBhZ2luYXRlIHRoZSByb3dzIGJlZm9yZSBwYXNzaW5nIHRoZW0gdG8gdGhlIHRhYmxlLiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3UgYXJlIGRvaW5nIHNlcnZlci1zaWRlIHBhZ2luYXRpb24gYW5kIGFnZ3JlZ2F0aW9uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3BhZ2luYXRpb24jbWFudWFscGFnaW5hdGlvbilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICBtYW51YWxQYWdpbmF0aW9uPzogYm9vbGVhblxuICAvKipcbiAgICogSWYgdGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlZCwgaXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgcGFnaW5hdGlvbiBzdGF0ZSBjaGFuZ2VzIGFuZCB5b3Ugd2lsbCBiZSBleHBlY3RlZCB0byBtYW5hZ2UgdGhlIHN0YXRlIHlvdXJzZWxmLiBZb3UgY2FuIHBhc3MgdGhlIG1hbmFnZWQgc3RhdGUgYmFjayB0byB0aGUgdGFibGUgdmlhIHRoZSBgdGFibGVPcHRpb25zLnN0YXRlLnBhZ2luYXRpb25gIG9wdGlvbi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9wYWdpbmF0aW9uI29ucGFnaW5hdGlvbmNoYW5nZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICBvblBhZ2luYXRpb25DaGFuZ2U/OiBPbkNoYW5nZUZuPFBhZ2luYXRpb25TdGF0ZT5cbiAgLyoqXG4gICAqIFdoZW4gbWFudWFsbHkgY29udHJvbGxpbmcgcGFnaW5hdGlvbiwgeW91IGNhbiBzdXBwbHkgYSB0b3RhbCBgcGFnZUNvdW50YCB2YWx1ZSB0byB0aGUgdGFibGUgaWYgeW91IGtub3cgaXQgKE9yIHN1cHBseSBhIGByb3dDb3VudGAgYW5kIGBwYWdlQ291bnRgIHdpbGwgYmUgY2FsY3VsYXRlZCkuIElmIHlvdSBkbyBub3Qga25vdyBob3cgbWFueSBwYWdlcyB0aGVyZSBhcmUsIHlvdSBjYW4gc2V0IHRoaXMgdG8gYC0xYC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9wYWdpbmF0aW9uI3BhZ2Vjb3VudClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICBwYWdlQ291bnQ/OiBudW1iZXJcbiAgLyoqXG4gICAqIFdoZW4gbWFudWFsbHkgY29udHJvbGxpbmcgcGFnaW5hdGlvbiwgeW91IGNhbiBzdXBwbHkgYSB0b3RhbCBgcm93Q291bnRgIHZhbHVlIHRvIHRoZSB0YWJsZSBpZiB5b3Uga25vdyBpdC4gVGhlIGBwYWdlQ291bnRgIGNhbiBiZSBjYWxjdWxhdGVkIGZyb20gdGhpcyB2YWx1ZSBhbmQgdGhlIGBwYWdlU2l6ZWAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNyb3djb3VudClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICByb3dDb3VudD86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2luYXRpb25EZWZhdWx0T3B0aW9ucyB7XG4gIG9uUGFnaW5hdGlvbkNoYW5nZTogT25DaGFuZ2VGbjxQYWdpbmF0aW9uU3RhdGU+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5hdGlvbkluc3RhbmNlPFREYXRhIGV4dGVuZHMgUm93RGF0YT4ge1xuICBfYXV0b1Jlc2V0UGFnZUluZGV4OiAoKSA9PiB2b2lkXG4gIF9nZXRQYWdpbmF0aW9uUm93TW9kZWw/OiAoKSA9PiBSb3dNb2RlbDxURGF0YT5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgdGFibGUgY2FuIGdvIHRvIHRoZSBuZXh0IHBhZ2UuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNnZXRjYW5uZXh0cGFnZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICBnZXRDYW5OZXh0UGFnZTogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSB0YWJsZSBjYW4gZ28gdG8gdGhlIHByZXZpb3VzIHBhZ2UuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNnZXRjYW5wcmV2aW91c3BhZ2UpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9wYWdpbmF0aW9uKVxuICAgKi9cbiAgZ2V0Q2FuUHJldmlvdXNQYWdlOiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwYWdlIGNvdW50LiBJZiBtYW51YWxseSBwYWdpbmF0aW5nIG9yIGNvbnRyb2xsaW5nIHRoZSBwYWdpbmF0aW9uIHN0YXRlLCB0aGlzIHdpbGwgY29tZSBkaXJlY3RseSBmcm9tIHRoZSBgb3B0aW9ucy5wYWdlQ291bnRgIHRhYmxlIG9wdGlvbiwgb3RoZXJ3aXNlIGl0IHdpbGwgYmUgY2FsY3VsYXRlZCBmcm9tIHRoZSB0YWJsZSBkYXRhIHVzaW5nIHRoZSB0b3RhbCByb3cgY291bnQgYW5kIGN1cnJlbnQgcGFnZSBzaXplLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3BhZ2luYXRpb24jZ2V0cGFnZWNvdW50KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcGFnaW5hdGlvbilcbiAgICovXG4gIGdldFBhZ2VDb3VudDogKCkgPT4gbnVtYmVyXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgY291bnQuIElmIG1hbnVhbGx5IHBhZ2luYXRpbmcgb3IgY29udHJvbGxpbmcgdGhlIHBhZ2luYXRpb24gc3RhdGUsIHRoaXMgd2lsbCBjb21lIGRpcmVjdGx5IGZyb20gdGhlIGBvcHRpb25zLnJvd0NvdW50YCB0YWJsZSBvcHRpb24sIG90aGVyd2lzZSBpdCB3aWxsIGJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgdGFibGUgZGF0YS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9wYWdpbmF0aW9uI2dldHJvd2NvdW50KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcGFnaW5hdGlvbilcbiAgICovXG4gIGdldFJvd0NvdW50OiAoKSA9PiBudW1iZXJcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgcGFnZSBvcHRpb25zICh6ZXJvLWluZGV4LWJhc2VkKSBmb3IgdGhlIGN1cnJlbnQgcGFnZSBzaXplLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3BhZ2luYXRpb24jZ2V0cGFnZW9wdGlvbnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9wYWdpbmF0aW9uKVxuICAgKi9cbiAgZ2V0UGFnZU9wdGlvbnM6ICgpID0+IG51bWJlcltdXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgbW9kZWwgZm9yIHRoZSB0YWJsZSBhZnRlciBwYWdpbmF0aW9uIGhhcyBiZWVuIGFwcGxpZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNnZXRwYWdpbmF0aW9ucm93bW9kZWwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9wYWdpbmF0aW9uKVxuICAgKi9cbiAgZ2V0UGFnaW5hdGlvblJvd01vZGVsOiAoKSA9PiBSb3dNb2RlbDxURGF0YT5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJvdyBtb2RlbCBmb3IgdGhlIHRhYmxlIGJlZm9yZSBhbnkgcGFnaW5hdGlvbiBoYXMgYmVlbiBhcHBsaWVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3BhZ2luYXRpb24jZ2V0cHJlcGFnaW5hdGlvbnJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcGFnaW5hdGlvbilcbiAgICovXG4gIGdldFByZVBhZ2luYXRpb25Sb3dNb2RlbDogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIC8qKlxuICAgKiBJbmNyZW1lbnRzIHRoZSBwYWdlIGluZGV4IGJ5IG9uZSwgaWYgcG9zc2libGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNuZXh0cGFnZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICBuZXh0UGFnZTogKCkgPT4gdm9pZFxuICAvKipcbiAgICogRGVjcmVtZW50cyB0aGUgcGFnZSBpbmRleCBieSBvbmUsIGlmIHBvc3NpYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3BhZ2luYXRpb24jcHJldmlvdXNwYWdlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcGFnaW5hdGlvbilcbiAgICovXG4gIHByZXZpb3VzUGFnZTogKCkgPT4gdm9pZFxuICAvKipcbiAgICogU2V0cyB0aGUgcGFnZSBpbmRleCB0byBgMGAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNmaXJzdHBhZ2UpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9wYWdpbmF0aW9uKVxuICAgKi9cbiAgZmlyc3RQYWdlOiAoKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwYWdlIGluZGV4IHRvIHRoZSBsYXN0IHBhZ2UuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNsYXN0cGFnZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICBsYXN0UGFnZTogKCkgPT4gdm9pZFxuICAvKipcbiAgICogUmVzZXRzIHRoZSBwYWdlIGluZGV4IHRvIGl0cyBpbml0aWFsIHN0YXRlLiBJZiBgZGVmYXVsdFN0YXRlYCBpcyBgdHJ1ZWAsIHRoZSBwYWdlIGluZGV4IHdpbGwgYmUgcmVzZXQgdG8gYDBgIHJlZ2FyZGxlc3Mgb2YgaW5pdGlhbCBzdGF0ZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9wYWdpbmF0aW9uI3Jlc2V0cGFnZWluZGV4KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcGFnaW5hdGlvbilcbiAgICovXG4gIHJlc2V0UGFnZUluZGV4OiAoZGVmYXVsdFN0YXRlPzogYm9vbGVhbikgPT4gdm9pZFxuICAvKipcbiAgICogUmVzZXRzIHRoZSBwYWdlIHNpemUgdG8gaXRzIGluaXRpYWwgc3RhdGUuIElmIGBkZWZhdWx0U3RhdGVgIGlzIGB0cnVlYCwgdGhlIHBhZ2Ugc2l6ZSB3aWxsIGJlIHJlc2V0IHRvIGAxMGAgcmVnYXJkbGVzcyBvZiBpbml0aWFsIHN0YXRlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3BhZ2luYXRpb24jcmVzZXRwYWdlc2l6ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICByZXNldFBhZ2VTaXplOiAoZGVmYXVsdFN0YXRlPzogYm9vbGVhbikgPT4gdm9pZFxuICAvKipcbiAgICogUmVzZXRzIHRoZSAqKnBhZ2luYXRpb24qKiBzdGF0ZSB0byBgaW5pdGlhbFN0YXRlLnBhZ2luYXRpb25gLCBvciBgdHJ1ZWAgY2FuIGJlIHBhc3NlZCB0byBmb3JjZSBhIGRlZmF1bHQgYmxhbmsgc3RhdGUgcmVzZXQgdG8gYFtdYC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9wYWdpbmF0aW9uI3Jlc2V0cGFnaW5hdGlvbilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICByZXNldFBhZ2luYXRpb246IChkZWZhdWx0U3RhdGU/OiBib29sZWFuKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBUaGUgcGFnZSBjb3VudCBubyBsb25nZXIgZXhpc3RzIGluIHRoZSBwYWdpbmF0aW9uIHN0YXRlLiBKdXN0IHBhc3MgYXMgYSB0YWJsZSBvcHRpb24gaW5zdGVhZC5cbiAgICovXG4gIHNldFBhZ2VDb3VudDogKHVwZGF0ZXI6IFVwZGF0ZXI8bnVtYmVyPikgPT4gdm9pZFxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcGFnZSBpbmRleCB1c2luZyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gb3IgdmFsdWUgaW4gdGhlIGBzdGF0ZS5wYWdpbmF0aW9uLnBhZ2VJbmRleGAgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNzZXRwYWdlaW5kZXgpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9wYWdpbmF0aW9uKVxuICAgKi9cbiAgc2V0UGFnZUluZGV4OiAodXBkYXRlcjogVXBkYXRlcjxudW1iZXI+KSA9PiB2b2lkXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwYWdlIHNpemUgdXNpbmcgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9yIHZhbHVlIGluIHRoZSBgc3RhdGUucGFnaW5hdGlvbi5wYWdlU2l6ZWAgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNzZXRwYWdlc2l6ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3BhZ2luYXRpb24pXG4gICAqL1xuICBzZXRQYWdlU2l6ZTogKHVwZGF0ZXI6IFVwZGF0ZXI8bnVtYmVyPikgPT4gdm9pZFxuICAvKipcbiAgICogU2V0cyBvciB1cGRhdGVzIHRoZSBgc3RhdGUucGFnaW5hdGlvbmAgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcGFnaW5hdGlvbiNzZXRwYWdpbmF0aW9uKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcGFnaW5hdGlvbilcbiAgICovXG4gIHNldFBhZ2luYXRpb246ICh1cGRhdGVyOiBVcGRhdGVyPFBhZ2luYXRpb25TdGF0ZT4pID0+IHZvaWRcbn1cblxuLy9cblxuY29uc3QgZGVmYXVsdFBhZ2VJbmRleCA9IDBcbmNvbnN0IGRlZmF1bHRQYWdlU2l6ZSA9IDEwXG5cbmNvbnN0IGdldERlZmF1bHRQYWdpbmF0aW9uU3RhdGUgPSAoKTogUGFnaW5hdGlvblN0YXRlID0+ICh7XG4gIHBhZ2VJbmRleDogZGVmYXVsdFBhZ2VJbmRleCxcbiAgcGFnZVNpemU6IGRlZmF1bHRQYWdlU2l6ZSxcbn0pXG5cbmV4cG9ydCBjb25zdCBSb3dQYWdpbmF0aW9uOiBUYWJsZUZlYXR1cmUgPSB7XG4gIGdldEluaXRpYWxTdGF0ZTogKHN0YXRlKTogUGFnaW5hdGlvblRhYmxlU3RhdGUgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgLi4uZ2V0RGVmYXVsdFBhZ2luYXRpb25TdGF0ZSgpLFxuICAgICAgICAuLi5zdGF0ZT8ucGFnaW5hdGlvbixcbiAgICAgIH0sXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRPcHRpb25zOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IFBhZ2luYXRpb25EZWZhdWx0T3B0aW9ucyA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uUGFnaW5hdGlvbkNoYW5nZTogbWFrZVN0YXRlVXBkYXRlcigncGFnaW5hdGlvbicsIHRhYmxlKSxcbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlVGFibGU6IDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KHRhYmxlOiBUYWJsZTxURGF0YT4pOiB2b2lkID0+IHtcbiAgICBsZXQgcmVnaXN0ZXJlZCA9IGZhbHNlXG4gICAgbGV0IHF1ZXVlZCA9IGZhbHNlXG5cbiAgICB0YWJsZS5fYXV0b1Jlc2V0UGFnZUluZGV4ID0gKCkgPT4ge1xuICAgICAgaWYgKCFyZWdpc3RlcmVkKSB7XG4gICAgICAgIHRhYmxlLl9xdWV1ZSgoKSA9PiB7XG4gICAgICAgICAgcmVnaXN0ZXJlZCA9IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGFibGUub3B0aW9ucy5hdXRvUmVzZXRBbGwgPz9cbiAgICAgICAgdGFibGUub3B0aW9ucy5hdXRvUmVzZXRQYWdlSW5kZXggPz9cbiAgICAgICAgIXRhYmxlLm9wdGlvbnMubWFudWFsUGFnaW5hdGlvblxuICAgICAgKSB7XG4gICAgICAgIGlmIChxdWV1ZWQpIHJldHVyblxuICAgICAgICBxdWV1ZWQgPSB0cnVlXG4gICAgICAgIHRhYmxlLl9xdWV1ZSgoKSA9PiB7XG4gICAgICAgICAgdGFibGUucmVzZXRQYWdlSW5kZXgoKVxuICAgICAgICAgIHF1ZXVlZCA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHRhYmxlLnNldFBhZ2luYXRpb24gPSB1cGRhdGVyID0+IHtcbiAgICAgIGNvbnN0IHNhZmVVcGRhdGVyOiBVcGRhdGVyPFBhZ2luYXRpb25TdGF0ZT4gPSBvbGQgPT4ge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSBmdW5jdGlvbmFsVXBkYXRlKHVwZGF0ZXIsIG9sZClcblxuICAgICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhYmxlLm9wdGlvbnMub25QYWdpbmF0aW9uQ2hhbmdlPy4oc2FmZVVwZGF0ZXIpXG4gICAgfVxuICAgIHRhYmxlLnJlc2V0UGFnaW5hdGlvbiA9IGRlZmF1bHRTdGF0ZSA9PiB7XG4gICAgICB0YWJsZS5zZXRQYWdpbmF0aW9uKFxuICAgICAgICBkZWZhdWx0U3RhdGVcbiAgICAgICAgICA/IGdldERlZmF1bHRQYWdpbmF0aW9uU3RhdGUoKVxuICAgICAgICAgIDogdGFibGUuaW5pdGlhbFN0YXRlLnBhZ2luYXRpb24gPz8gZ2V0RGVmYXVsdFBhZ2luYXRpb25TdGF0ZSgpXG4gICAgICApXG4gICAgfVxuICAgIHRhYmxlLnNldFBhZ2VJbmRleCA9IHVwZGF0ZXIgPT4ge1xuICAgICAgdGFibGUuc2V0UGFnaW5hdGlvbihvbGQgPT4ge1xuICAgICAgICBsZXQgcGFnZUluZGV4ID0gZnVuY3Rpb25hbFVwZGF0ZSh1cGRhdGVyLCBvbGQucGFnZUluZGV4KVxuXG4gICAgICAgIGNvbnN0IG1heFBhZ2VJbmRleCA9XG4gICAgICAgICAgdHlwZW9mIHRhYmxlLm9wdGlvbnMucGFnZUNvdW50ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgIHRhYmxlLm9wdGlvbnMucGFnZUNvdW50ID09PSAtMVxuICAgICAgICAgICAgPyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuICAgICAgICAgICAgOiB0YWJsZS5vcHRpb25zLnBhZ2VDb3VudCAtIDFcblxuICAgICAgICBwYWdlSW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwYWdlSW5kZXgsIG1heFBhZ2VJbmRleCkpXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5vbGQsXG4gICAgICAgICAgcGFnZUluZGV4LFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICB0YWJsZS5yZXNldFBhZ2VJbmRleCA9IGRlZmF1bHRTdGF0ZSA9PiB7XG4gICAgICB0YWJsZS5zZXRQYWdlSW5kZXgoXG4gICAgICAgIGRlZmF1bHRTdGF0ZVxuICAgICAgICAgID8gZGVmYXVsdFBhZ2VJbmRleFxuICAgICAgICAgIDogdGFibGUuaW5pdGlhbFN0YXRlPy5wYWdpbmF0aW9uPy5wYWdlSW5kZXggPz8gZGVmYXVsdFBhZ2VJbmRleFxuICAgICAgKVxuICAgIH1cbiAgICB0YWJsZS5yZXNldFBhZ2VTaXplID0gZGVmYXVsdFN0YXRlID0+IHtcbiAgICAgIHRhYmxlLnNldFBhZ2VTaXplKFxuICAgICAgICBkZWZhdWx0U3RhdGVcbiAgICAgICAgICA/IGRlZmF1bHRQYWdlU2l6ZVxuICAgICAgICAgIDogdGFibGUuaW5pdGlhbFN0YXRlPy5wYWdpbmF0aW9uPy5wYWdlU2l6ZSA/PyBkZWZhdWx0UGFnZVNpemVcbiAgICAgIClcbiAgICB9XG4gICAgdGFibGUuc2V0UGFnZVNpemUgPSB1cGRhdGVyID0+IHtcbiAgICAgIHRhYmxlLnNldFBhZ2luYXRpb24ob2xkID0+IHtcbiAgICAgICAgY29uc3QgcGFnZVNpemUgPSBNYXRoLm1heCgxLCBmdW5jdGlvbmFsVXBkYXRlKHVwZGF0ZXIsIG9sZC5wYWdlU2l6ZSkpXG4gICAgICAgIGNvbnN0IHRvcFJvd0luZGV4ID0gb2xkLnBhZ2VTaXplICogb2xkLnBhZ2VJbmRleCFcbiAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gTWF0aC5mbG9vcih0b3BSb3dJbmRleCAvIHBhZ2VTaXplKVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ub2xkLFxuICAgICAgICAgIHBhZ2VJbmRleCxcbiAgICAgICAgICBwYWdlU2l6ZSxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgLy9kZXByZWNhdGVkXG4gICAgdGFibGUuc2V0UGFnZUNvdW50ID0gdXBkYXRlciA9PlxuICAgICAgdGFibGUuc2V0UGFnaW5hdGlvbihvbGQgPT4ge1xuICAgICAgICBsZXQgbmV3UGFnZUNvdW50ID0gZnVuY3Rpb25hbFVwZGF0ZShcbiAgICAgICAgICB1cGRhdGVyLFxuICAgICAgICAgIHRhYmxlLm9wdGlvbnMucGFnZUNvdW50ID8/IC0xXG4gICAgICAgIClcblxuICAgICAgICBpZiAodHlwZW9mIG5ld1BhZ2VDb3VudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBuZXdQYWdlQ291bnQgPSBNYXRoLm1heCgtMSwgbmV3UGFnZUNvdW50KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5vbGQsXG4gICAgICAgICAgcGFnZUNvdW50OiBuZXdQYWdlQ291bnQsXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICB0YWJsZS5nZXRQYWdlT3B0aW9ucyA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0UGFnZUNvdW50KCldLFxuICAgICAgcGFnZUNvdW50ID0+IHtcbiAgICAgICAgbGV0IHBhZ2VPcHRpb25zOiBudW1iZXJbXSA9IFtdXG4gICAgICAgIGlmIChwYWdlQ291bnQgJiYgcGFnZUNvdW50ID4gMCkge1xuICAgICAgICAgIHBhZ2VPcHRpb25zID0gWy4uLm5ldyBBcnJheShwYWdlQ291bnQpXS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gaSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFnZU9wdGlvbnNcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdUYWJsZScsICdnZXRQYWdlT3B0aW9ucycpXG4gICAgKVxuXG4gICAgdGFibGUuZ2V0Q2FuUHJldmlvdXNQYWdlID0gKCkgPT4gdGFibGUuZ2V0U3RhdGUoKS5wYWdpbmF0aW9uLnBhZ2VJbmRleCA+IDBcblxuICAgIHRhYmxlLmdldENhbk5leHRQYWdlID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBwYWdlSW5kZXggfSA9IHRhYmxlLmdldFN0YXRlKCkucGFnaW5hdGlvblxuXG4gICAgICBjb25zdCBwYWdlQ291bnQgPSB0YWJsZS5nZXRQYWdlQ291bnQoKVxuXG4gICAgICBpZiAocGFnZUNvdW50ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAocGFnZUNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFnZUluZGV4IDwgcGFnZUNvdW50IC0gMVxuICAgIH1cblxuICAgIHRhYmxlLnByZXZpb3VzUGFnZSA9ICgpID0+IHtcbiAgICAgIHJldHVybiB0YWJsZS5zZXRQYWdlSW5kZXgob2xkID0+IG9sZCAtIDEpXG4gICAgfVxuXG4gICAgdGFibGUubmV4dFBhZ2UgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gdGFibGUuc2V0UGFnZUluZGV4KG9sZCA9PiB7XG4gICAgICAgIHJldHVybiBvbGQgKyAxXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRhYmxlLmZpcnN0UGFnZSA9ICgpID0+IHtcbiAgICAgIHJldHVybiB0YWJsZS5zZXRQYWdlSW5kZXgoMClcbiAgICB9XG5cbiAgICB0YWJsZS5sYXN0UGFnZSA9ICgpID0+IHtcbiAgICAgIHJldHVybiB0YWJsZS5zZXRQYWdlSW5kZXgodGFibGUuZ2V0UGFnZUNvdW50KCkgLSAxKVxuICAgIH1cblxuICAgIHRhYmxlLmdldFByZVBhZ2luYXRpb25Sb3dNb2RlbCA9ICgpID0+IHRhYmxlLmdldEV4cGFuZGVkUm93TW9kZWwoKVxuICAgIHRhYmxlLmdldFBhZ2luYXRpb25Sb3dNb2RlbCA9ICgpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIXRhYmxlLl9nZXRQYWdpbmF0aW9uUm93TW9kZWwgJiZcbiAgICAgICAgdGFibGUub3B0aW9ucy5nZXRQYWdpbmF0aW9uUm93TW9kZWxcbiAgICAgICkge1xuICAgICAgICB0YWJsZS5fZ2V0UGFnaW5hdGlvblJvd01vZGVsID1cbiAgICAgICAgICB0YWJsZS5vcHRpb25zLmdldFBhZ2luYXRpb25Sb3dNb2RlbCh0YWJsZSlcbiAgICAgIH1cblxuICAgICAgaWYgKHRhYmxlLm9wdGlvbnMubWFudWFsUGFnaW5hdGlvbiB8fCAhdGFibGUuX2dldFBhZ2luYXRpb25Sb3dNb2RlbCkge1xuICAgICAgICByZXR1cm4gdGFibGUuZ2V0UHJlUGFnaW5hdGlvblJvd01vZGVsKClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhYmxlLl9nZXRQYWdpbmF0aW9uUm93TW9kZWwoKVxuICAgIH1cblxuICAgIHRhYmxlLmdldFBhZ2VDb3VudCA9ICgpID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRhYmxlLm9wdGlvbnMucGFnZUNvdW50ID8/XG4gICAgICAgIE1hdGguY2VpbCh0YWJsZS5nZXRSb3dDb3VudCgpIC8gdGFibGUuZ2V0U3RhdGUoKS5wYWdpbmF0aW9uLnBhZ2VTaXplKVxuICAgICAgKVxuICAgIH1cblxuICAgIHRhYmxlLmdldFJvd0NvdW50ID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGFibGUub3B0aW9ucy5yb3dDb3VudCA/PyB0YWJsZS5nZXRQcmVQYWdpbmF0aW9uUm93TW9kZWwoKS5yb3dzLmxlbmd0aFxuICAgICAgKVxuICAgIH1cbiAgfSxcbn1cbiIsImltcG9ydCB7XG4gIE9uQ2hhbmdlRm4sXG4gIFVwZGF0ZXIsXG4gIFRhYmxlLFxuICBSb3csXG4gIFJvd0RhdGEsXG4gIFRhYmxlRmVhdHVyZSxcbn0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWFrZVN0YXRlVXBkYXRlciwgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgdHlwZSBSb3dQaW5uaW5nUG9zaXRpb24gPSBmYWxzZSB8ICd0b3AnIHwgJ2JvdHRvbSdcblxuZXhwb3J0IGludGVyZmFjZSBSb3dQaW5uaW5nU3RhdGUge1xuICBib3R0b20/OiBzdHJpbmdbXVxuICB0b3A/OiBzdHJpbmdbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvd1Bpbm5pbmdUYWJsZVN0YXRlIHtcbiAgcm93UGlubmluZzogUm93UGlubmluZ1N0YXRlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm93UGlubmluZ09wdGlvbnM8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBFbmFibGVzL2Rpc2FibGVzIHJvdyBwaW5uaW5nIGZvciB0aGUgdGFibGUuIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctcGlubmluZyNlbmFibGVyb3dwaW5uaW5nKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXBpbm5pbmcpXG4gICAqL1xuICBlbmFibGVSb3dQaW5uaW5nPzogYm9vbGVhbiB8ICgocm93OiBSb3c8VERhdGE+KSA9PiBib29sZWFuKVxuICAvKipcbiAgICogV2hlbiBgZmFsc2VgLCBwaW5uZWQgcm93cyB3aWxsIG5vdCBiZSB2aXNpYmxlIGlmIHRoZXkgYXJlIGZpbHRlcmVkIG9yIHBhZ2luYXRlZCBvdXQgb2YgdGhlIHRhYmxlLiBXaGVuIGB0cnVlYCwgcGlubmVkIHJvd3Mgd2lsbCBhbHdheXMgYmUgdmlzaWJsZSByZWdhcmRsZXNzIG9mIGZpbHRlcmluZyBvciBwYWdpbmF0aW9uLiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXBpbm5pbmcja2VlcHBpbm5lZHJvd3MpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctcGlubmluZylcbiAgICovXG4gIGtlZXBQaW5uZWRSb3dzPzogYm9vbGVhblxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBgdXBkYXRlckZuYCB3aGVuIGBzdGF0ZS5yb3dQaW5uaW5nYCBjaGFuZ2VzLiBUaGlzIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCBpbnRlcm5hbCBzdGF0ZSBtYW5hZ2VtZW50LCBzbyB5b3Ugd2lsbCBhbHNvIG5lZWQgdG8gc3VwcGx5IGBzdGF0ZS5yb3dQaW5uaW5nYCBmcm9tIHlvdXIgb3duIG1hbmFnZWQgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXBpbm5pbmcjb25yb3dwaW5uaW5nY2hhbmdlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvb25yb3dwaW5uaW5nY2hhbmdlKVxuICAgKi9cbiAgb25Sb3dQaW5uaW5nQ2hhbmdlPzogT25DaGFuZ2VGbjxSb3dQaW5uaW5nU3RhdGU+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm93UGlubmluZ0RlZmF1bHRPcHRpb25zIHtcbiAgb25Sb3dQaW5uaW5nQ2hhbmdlOiBPbkNoYW5nZUZuPFJvd1Bpbm5pbmdTdGF0ZT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSb3dQaW5uaW5nUm93IHtcbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHJvdyBjYW4gYmUgcGlubmVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3Jvdy1waW5uaW5nI2dldGNhbnBpbi0xKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXBpbm5pbmcpXG4gICAqL1xuICBnZXRDYW5QaW46ICgpID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBpbm5lZCBwb3NpdGlvbiBvZiB0aGUgcm93LiAoYCd0b3AnYCwgYCdib3R0b20nYCBvciBgZmFsc2VgKVxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3Jvdy1waW5uaW5nI2dldGlzcGlubmVkLTEpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctcGlubmluZylcbiAgICovXG4gIGdldElzUGlubmVkOiAoKSA9PiBSb3dQaW5uaW5nUG9zaXRpb25cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWVyaWMgcGlubmVkIGluZGV4IG9mIHRoZSByb3cgd2l0aGluIGEgcGlubmVkIHJvdyBncm91cC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctcGlubmluZyNnZXRwaW5uZWRpbmRleC0xKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXBpbm5pbmcpXG4gICAqL1xuICBnZXRQaW5uZWRJbmRleDogKCkgPT4gbnVtYmVyXG4gIC8qKlxuICAgKiBQaW5zIGEgcm93IHRvIHRoZSBgJ3RvcCdgIG9yIGAnYm90dG9tJ2AsIG9yIHVucGlucyB0aGUgcm93IHRvIHRoZSBjZW50ZXIgaWYgYGZhbHNlYCBpcyBwYXNzZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXBpbm5pbmcjcGluLTEpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctcGlubmluZylcbiAgICovXG4gIHBpbjogKFxuICAgIHBvc2l0aW9uOiBSb3dQaW5uaW5nUG9zaXRpb24sXG4gICAgaW5jbHVkZUxlYWZSb3dzPzogYm9vbGVhbixcbiAgICBpbmNsdWRlUGFyZW50Um93cz86IGJvb2xlYW5cbiAgKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm93UGlubmluZ0luc3RhbmNlPFREYXRhIGV4dGVuZHMgUm93RGF0YT4ge1xuICBfZ2V0UGlubmVkUm93czogKFxuICAgIHZpc2libGVQaW5uZWRSb3dzOiBBcnJheTxSb3c8VERhdGE+PixcbiAgICBwaW5uZWRSb3dJZHM6IEFycmF5PHN0cmluZz4gfCB1bmRlZmluZWQsXG4gICAgcG9zaXRpb246ICd0b3AnIHwgJ2JvdHRvbSdcbiAgKSA9PiBSb3c8VERhdGE+W11cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGJvdHRvbSBwaW5uZWQgcm93cy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctcGlubmluZyNnZXRib3R0b21yb3dzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXBpbm5pbmcpXG4gICAqL1xuICBnZXRCb3R0b21Sb3dzOiAoKSA9PiBSb3c8VERhdGE+W11cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIHJvd3MgdGhhdCBhcmUgbm90IHBpbm5lZCB0byB0aGUgdG9wIG9yIGJvdHRvbS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctcGlubmluZyNnZXRjZW50ZXJyb3dzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXBpbm5pbmcpXG4gICAqL1xuICBnZXRDZW50ZXJSb3dzOiAoKSA9PiBSb3c8VERhdGE+W11cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgYW55IHJvd3MgYXJlIHBpbm5lZC4gT3B0aW9uYWxseSBzcGVjaWZ5IHRvIG9ubHkgY2hlY2sgZm9yIHBpbm5lZCByb3dzIGluIGVpdGhlciB0aGUgYHRvcGAgb3IgYGJvdHRvbWAgcG9zaXRpb24uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXBpbm5pbmcjZ2V0aXNzb21lcm93c3Bpbm5lZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1waW5uaW5nKVxuICAgKi9cbiAgZ2V0SXNTb21lUm93c1Bpbm5lZDogKHBvc2l0aW9uPzogUm93UGlubmluZ1Bvc2l0aW9uKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCB0b3AgcGlubmVkIHJvd3MuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXBpbm5pbmcjZ2V0dG9wcm93cylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1waW5uaW5nKVxuICAgKi9cbiAgZ2V0VG9wUm93czogKCkgPT4gUm93PFREYXRhPltdXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlICoqcm93UGlubmluZyoqIHN0YXRlIHRvIGBpbml0aWFsU3RhdGUucm93UGlubmluZ2AsIG9yIGB0cnVlYCBjYW4gYmUgcGFzc2VkIHRvIGZvcmNlIGEgZGVmYXVsdCBibGFuayBzdGF0ZSByZXNldCB0byBgeyB0b3A6IFtdLCBib3R0b206IFtdLCB9YC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctcGlubmluZyNyZXNldHJvd3Bpbm5pbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctcGlubmluZylcbiAgICovXG4gIHJlc2V0Um93UGlubmluZzogKGRlZmF1bHRTdGF0ZT86IGJvb2xlYW4pID0+IHZvaWRcbiAgLyoqXG4gICAqIFNldHMgb3IgdXBkYXRlcyB0aGUgYHN0YXRlLnJvd1Bpbm5pbmdgIHN0YXRlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3Jvdy1waW5uaW5nI3NldHJvd3Bpbm5pbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctcGlubmluZylcbiAgICovXG4gIHNldFJvd1Bpbm5pbmc6ICh1cGRhdGVyOiBVcGRhdGVyPFJvd1Bpbm5pbmdTdGF0ZT4pID0+IHZvaWRcbn1cblxuLy9cblxuY29uc3QgZ2V0RGVmYXVsdFJvd1Bpbm5pbmdTdGF0ZSA9ICgpOiBSb3dQaW5uaW5nU3RhdGUgPT4gKHtcbiAgdG9wOiBbXSxcbiAgYm90dG9tOiBbXSxcbn0pXG5cbmV4cG9ydCBjb25zdCBSb3dQaW5uaW5nOiBUYWJsZUZlYXR1cmUgPSB7XG4gIGdldEluaXRpYWxTdGF0ZTogKHN0YXRlKTogUm93UGlubmluZ1RhYmxlU3RhdGUgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICByb3dQaW5uaW5nOiBnZXREZWZhdWx0Um93UGlubmluZ1N0YXRlKCksXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdE9wdGlvbnM6IDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogUm93UGlubmluZ0RlZmF1bHRPcHRpb25zID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgb25Sb3dQaW5uaW5nQ2hhbmdlOiBtYWtlU3RhdGVVcGRhdGVyKCdyb3dQaW5uaW5nJywgdGFibGUpLFxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVSb3c6IDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KFxuICAgIHJvdzogUm93PFREYXRhPixcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IHZvaWQgPT4ge1xuICAgIHJvdy5waW4gPSAocG9zaXRpb24sIGluY2x1ZGVMZWFmUm93cywgaW5jbHVkZVBhcmVudFJvd3MpID0+IHtcbiAgICAgIGNvbnN0IGxlYWZSb3dJZHMgPSBpbmNsdWRlTGVhZlJvd3NcbiAgICAgICAgPyByb3cuZ2V0TGVhZlJvd3MoKS5tYXAoKHsgaWQgfSkgPT4gaWQpXG4gICAgICAgIDogW11cbiAgICAgIGNvbnN0IHBhcmVudFJvd0lkcyA9IGluY2x1ZGVQYXJlbnRSb3dzXG4gICAgICAgID8gcm93LmdldFBhcmVudFJvd3MoKS5tYXAoKHsgaWQgfSkgPT4gaWQpXG4gICAgICAgIDogW11cbiAgICAgIGNvbnN0IHJvd0lkcyA9IG5ldyBTZXQoWy4uLnBhcmVudFJvd0lkcywgcm93LmlkLCAuLi5sZWFmUm93SWRzXSlcblxuICAgICAgdGFibGUuc2V0Um93UGlubmluZyhvbGQgPT4ge1xuICAgICAgICBpZiAocG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogKG9sZD8udG9wID8/IFtdKS5maWx0ZXIoZCA9PiAhcm93SWRzPy5oYXMoZCkpLFxuICAgICAgICAgICAgYm90dG9tOiBbXG4gICAgICAgICAgICAgIC4uLihvbGQ/LmJvdHRvbSA/PyBbXSkuZmlsdGVyKGQgPT4gIXJvd0lkcz8uaGFzKGQpKSxcbiAgICAgICAgICAgICAgLi4uQXJyYXkuZnJvbShyb3dJZHMpLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogW1xuICAgICAgICAgICAgICAuLi4ob2xkPy50b3AgPz8gW10pLmZpbHRlcihkID0+ICFyb3dJZHM/LmhhcyhkKSksXG4gICAgICAgICAgICAgIC4uLkFycmF5LmZyb20ocm93SWRzKSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBib3R0b206IChvbGQ/LmJvdHRvbSA/PyBbXSkuZmlsdGVyKGQgPT4gIXJvd0lkcz8uaGFzKGQpKSxcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRvcDogKG9sZD8udG9wID8/IFtdKS5maWx0ZXIoZCA9PiAhcm93SWRzPy5oYXMoZCkpLFxuICAgICAgICAgIGJvdHRvbTogKG9sZD8uYm90dG9tID8/IFtdKS5maWx0ZXIoZCA9PiAhcm93SWRzPy5oYXMoZCkpLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICByb3cuZ2V0Q2FuUGluID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBlbmFibGVSb3dQaW5uaW5nLCBlbmFibGVQaW5uaW5nIH0gPSB0YWJsZS5vcHRpb25zXG4gICAgICBpZiAodHlwZW9mIGVuYWJsZVJvd1Bpbm5pbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGVuYWJsZVJvd1Bpbm5pbmcocm93KVxuICAgICAgfVxuICAgICAgcmV0dXJuIGVuYWJsZVJvd1Bpbm5pbmcgPz8gZW5hYmxlUGlubmluZyA/PyB0cnVlXG4gICAgfVxuICAgIHJvdy5nZXRJc1Bpbm5lZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHJvd0lkcyA9IFtyb3cuaWRdXG5cbiAgICAgIGNvbnN0IHsgdG9wLCBib3R0b20gfSA9IHRhYmxlLmdldFN0YXRlKCkucm93UGlubmluZ1xuXG4gICAgICBjb25zdCBpc1RvcCA9IHJvd0lkcy5zb21lKGQgPT4gdG9wPy5pbmNsdWRlcyhkKSlcbiAgICAgIGNvbnN0IGlzQm90dG9tID0gcm93SWRzLnNvbWUoZCA9PiBib3R0b20/LmluY2x1ZGVzKGQpKVxuXG4gICAgICByZXR1cm4gaXNUb3AgPyAndG9wJyA6IGlzQm90dG9tID8gJ2JvdHRvbScgOiBmYWxzZVxuICAgIH1cbiAgICByb3cuZ2V0UGlubmVkSW5kZXggPSAoKSA9PiB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHJvdy5nZXRJc1Bpbm5lZCgpXG4gICAgICBpZiAoIXBvc2l0aW9uKSByZXR1cm4gLTFcblxuICAgICAgY29uc3QgdmlzaWJsZVBpbm5lZFJvd0lkcyA9IChcbiAgICAgICAgcG9zaXRpb24gPT09ICd0b3AnID8gdGFibGUuZ2V0VG9wUm93cygpIDogdGFibGUuZ2V0Qm90dG9tUm93cygpXG4gICAgICApPy5tYXAoKHsgaWQgfSkgPT4gaWQpXG5cbiAgICAgIHJldHVybiB2aXNpYmxlUGlubmVkUm93SWRzPy5pbmRleE9mKHJvdy5pZCkgPz8gLTFcbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlVGFibGU6IDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KHRhYmxlOiBUYWJsZTxURGF0YT4pOiB2b2lkID0+IHtcbiAgICB0YWJsZS5zZXRSb3dQaW5uaW5nID0gdXBkYXRlciA9PiB0YWJsZS5vcHRpb25zLm9uUm93UGlubmluZ0NoYW5nZT8uKHVwZGF0ZXIpXG5cbiAgICB0YWJsZS5yZXNldFJvd1Bpbm5pbmcgPSBkZWZhdWx0U3RhdGUgPT5cbiAgICAgIHRhYmxlLnNldFJvd1Bpbm5pbmcoXG4gICAgICAgIGRlZmF1bHRTdGF0ZVxuICAgICAgICAgID8gZ2V0RGVmYXVsdFJvd1Bpbm5pbmdTdGF0ZSgpXG4gICAgICAgICAgOiB0YWJsZS5pbml0aWFsU3RhdGU/LnJvd1Bpbm5pbmcgPz8gZ2V0RGVmYXVsdFJvd1Bpbm5pbmdTdGF0ZSgpXG4gICAgICApXG5cbiAgICB0YWJsZS5nZXRJc1NvbWVSb3dzUGlubmVkID0gcG9zaXRpb24gPT4ge1xuICAgICAgY29uc3QgcGlubmluZ1N0YXRlID0gdGFibGUuZ2V0U3RhdGUoKS5yb3dQaW5uaW5nXG5cbiAgICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocGlubmluZ1N0YXRlLnRvcD8ubGVuZ3RoIHx8IHBpbm5pbmdTdGF0ZS5ib3R0b20/Lmxlbmd0aClcbiAgICAgIH1cbiAgICAgIHJldHVybiBCb29sZWFuKHBpbm5pbmdTdGF0ZVtwb3NpdGlvbl0/Lmxlbmd0aClcbiAgICB9XG5cbiAgICB0YWJsZS5fZ2V0UGlubmVkUm93cyA9ICh2aXNpYmxlUm93cywgcGlubmVkUm93SWRzLCBwb3NpdGlvbikgPT4ge1xuICAgICAgY29uc3Qgcm93cyA9XG4gICAgICAgIHRhYmxlLm9wdGlvbnMua2VlcFBpbm5lZFJvd3MgPz8gdHJ1ZVxuICAgICAgICAgID8gLy9nZXQgYWxsIHJvd3MgdGhhdCBhcmUgcGlubmVkIGV2ZW4gaWYgdGhleSB3b3VsZCBub3QgYmUgb3RoZXJ3aXNlIHZpc2libGVcbiAgICAgICAgICAgIC8vYWNjb3VudCBmb3IgZXhwYW5kZWQgcGFyZW50IHJvd3MsIGJ1dCBub3QgcGFnaW5hdGlvbiBvciBmaWx0ZXJpbmdcbiAgICAgICAgICAgIChwaW5uZWRSb3dJZHMgPz8gW10pLm1hcChyb3dJZCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRhYmxlLmdldFJvdyhyb3dJZCwgdHJ1ZSlcbiAgICAgICAgICAgICAgcmV0dXJuIHJvdy5nZXRJc0FsbFBhcmVudHNFeHBhbmRlZCgpID8gcm93IDogbnVsbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IC8vZWxzZSBnZXQgb25seSB2aXNpYmxlIHJvd3MgdGhhdCBhcmUgcGlubmVkXG4gICAgICAgICAgICAocGlubmVkUm93SWRzID8/IFtdKS5tYXAoXG4gICAgICAgICAgICAgIHJvd0lkID0+IHZpc2libGVSb3dzLmZpbmQocm93ID0+IHJvdy5pZCA9PT0gcm93SWQpIVxuICAgICAgICAgICAgKVxuXG4gICAgICByZXR1cm4gcm93cy5maWx0ZXIoQm9vbGVhbikubWFwKGQgPT4gKHsgLi4uZCwgcG9zaXRpb24gfSkpIGFzIFJvdzxURGF0YT5bXVxuICAgIH1cblxuICAgIHRhYmxlLmdldFRvcFJvd3MgPSBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldFJvd01vZGVsKCkucm93cywgdGFibGUuZ2V0U3RhdGUoKS5yb3dQaW5uaW5nLnRvcF0sXG4gICAgICAoYWxsUm93cywgdG9wUGlubmVkUm93SWRzKSA9PlxuICAgICAgICB0YWJsZS5fZ2V0UGlubmVkUm93cyhhbGxSb3dzLCB0b3BQaW5uZWRSb3dJZHMsICd0b3AnKSxcbiAgICAgIGdldE1lbW9PcHRpb25zKHRhYmxlLm9wdGlvbnMsICdkZWJ1Z1Jvd3MnLCAnZ2V0VG9wUm93cycpXG4gICAgKVxuXG4gICAgdGFibGUuZ2V0Qm90dG9tUm93cyA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0Um93TW9kZWwoKS5yb3dzLCB0YWJsZS5nZXRTdGF0ZSgpLnJvd1Bpbm5pbmcuYm90dG9tXSxcbiAgICAgIChhbGxSb3dzLCBib3R0b21QaW5uZWRSb3dJZHMpID0+XG4gICAgICAgIHRhYmxlLl9nZXRQaW5uZWRSb3dzKGFsbFJvd3MsIGJvdHRvbVBpbm5lZFJvd0lkcywgJ2JvdHRvbScpLFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnUm93cycsICdnZXRCb3R0b21Sb3dzJylcbiAgICApXG5cbiAgICB0YWJsZS5nZXRDZW50ZXJSb3dzID0gbWVtbyhcbiAgICAgICgpID0+IFtcbiAgICAgICAgdGFibGUuZ2V0Um93TW9kZWwoKS5yb3dzLFxuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLnJvd1Bpbm5pbmcudG9wLFxuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLnJvd1Bpbm5pbmcuYm90dG9tLFxuICAgICAgXSxcbiAgICAgIChhbGxSb3dzLCB0b3AsIGJvdHRvbSkgPT4ge1xuICAgICAgICBjb25zdCB0b3BBbmRCb3R0b20gPSBuZXcgU2V0KFsuLi4odG9wID8/IFtdKSwgLi4uKGJvdHRvbSA/PyBbXSldKVxuICAgICAgICByZXR1cm4gYWxsUm93cy5maWx0ZXIoZCA9PiAhdG9wQW5kQm90dG9tLmhhcyhkLmlkKSlcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdSb3dzJywgJ2dldENlbnRlclJvd3MnKVxuICAgIClcbiAgfSxcbn1cbiIsImltcG9ydCB7XG4gIE9uQ2hhbmdlRm4sXG4gIFRhYmxlLFxuICBSb3csXG4gIFJvd01vZGVsLFxuICBVcGRhdGVyLFxuICBSb3dEYXRhLFxuICBUYWJsZUZlYXR1cmUsXG59IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0TWVtb09wdGlvbnMsIG1ha2VTdGF0ZVVwZGF0ZXIsIG1lbW8gfSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IHR5cGUgUm93U2VsZWN0aW9uU3RhdGUgPSBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPlxuXG5leHBvcnQgaW50ZXJmYWNlIFJvd1NlbGVjdGlvblRhYmxlU3RhdGUge1xuICByb3dTZWxlY3Rpb246IFJvd1NlbGVjdGlvblN0YXRlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm93U2VsZWN0aW9uT3B0aW9uczxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgLyoqXG4gICAqIC0gRW5hYmxlcy9kaXNhYmxlcyBtdWx0aXBsZSByb3cgc2VsZWN0aW9uIGZvciBhbGwgcm93cyBpbiB0aGUgdGFibGUgT1JcbiAgICogLSBBIGZ1bmN0aW9uIHRoYXQgZ2l2ZW4gYSByb3csIHJldHVybnMgd2hldGhlciB0byBlbmFibGUvZGlzYWJsZSBtdWx0aXBsZSByb3cgc2VsZWN0aW9uIGZvciB0aGF0IHJvdydzIGNoaWxkcmVuL2dyYW5kY2hpbGRyZW5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2VuYWJsZW11bHRpcm93c2VsZWN0aW9uKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIGVuYWJsZU11bHRpUm93U2VsZWN0aW9uPzogYm9vbGVhbiB8ICgocm93OiBSb3c8VERhdGE+KSA9PiBib29sZWFuKVxuICAvKipcbiAgICogLSBFbmFibGVzL2Rpc2FibGVzIHJvdyBzZWxlY3Rpb24gZm9yIGFsbCByb3dzIGluIHRoZSB0YWJsZSBPUlxuICAgKiAtIEEgZnVuY3Rpb24gdGhhdCBnaXZlbiBhIHJvdywgcmV0dXJucyB3aGV0aGVyIHRvIGVuYWJsZS9kaXNhYmxlIHJvdyBzZWxlY3Rpb24gZm9yIHRoYXQgcm93XG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNlbmFibGVyb3dzZWxlY3Rpb24pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgZW5hYmxlUm93U2VsZWN0aW9uPzogYm9vbGVhbiB8ICgocm93OiBSb3c8VERhdGE+KSA9PiBib29sZWFuKVxuICAvKipcbiAgICogRW5hYmxlcy9kaXNhYmxlcyBhdXRvbWF0aWMgc3ViLXJvdyBzZWxlY3Rpb24gd2hlbiBhIHBhcmVudCByb3cgaXMgc2VsZWN0ZWQsIG9yIGEgZnVuY3Rpb24gdGhhdCBlbmFibGVzL2Rpc2FibGVzIGF1dG9tYXRpYyBzdWItcm93IHNlbGVjdGlvbiBmb3IgZWFjaCByb3cuXG4gICAqIChVc2UgaW4gY29tYmluYXRpb24gd2l0aCBleHBhbmRpbmcgb3IgZ3JvdXBpbmcgZmVhdHVyZXMpXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNlbmFibGVzdWJyb3dzZWxlY3Rpb24pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgZW5hYmxlU3ViUm93U2VsZWN0aW9uPzogYm9vbGVhbiB8ICgocm93OiBSb3c8VERhdGE+KSA9PiBib29sZWFuKVxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBgdXBkYXRlckZuYCB3aGVuIGBzdGF0ZS5yb3dTZWxlY3Rpb25gIGNoYW5nZXMuIFRoaXMgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IGludGVybmFsIHN0YXRlIG1hbmFnZW1lbnQsIHNvIHlvdSB3aWxsIG5lZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlIGVpdGhlciBmdWxseSBvciBwYXJ0aWFsbHkgb3V0c2lkZSBvZiB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNvbnJvd3NlbGVjdGlvbmNoYW5nZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1zZWxlY3Rpb24pXG4gICAqL1xuICBvblJvd1NlbGVjdGlvbkNoYW5nZT86IE9uQ2hhbmdlRm48Um93U2VsZWN0aW9uU3RhdGU+XG4gIC8vIGVuYWJsZUdyb3VwaW5nUm93U2VsZWN0aW9uPzpcbiAgLy8gICB8IGJvb2xlYW5cbiAgLy8gICB8ICgoXG4gIC8vICAgICAgIHJvdzogUm93PFREYXRhPlxuICAvLyAgICAgKSA9PiBib29sZWFuKVxuICAvLyBpc0FkZGl0aXZlU2VsZWN0RXZlbnQ/OiAoZTogdW5rbm93bikgPT4gYm9vbGVhblxuICAvLyBpc0luY2x1c2l2ZVNlbGVjdEV2ZW50PzogKGU6IHVua25vd24pID0+IGJvb2xlYW5cbiAgLy8gc2VsZWN0Um93c0ZuPzogKFxuICAvLyAgIHRhYmxlOiBUYWJsZTxURGF0YT4sXG4gIC8vICAgcm93TW9kZWw6IFJvd01vZGVsPFREYXRhPlxuICAvLyApID0+IFJvd01vZGVsPFREYXRhPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvd1NlbGVjdGlvblJvdyB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSByb3cgY2FuIG11bHRpLXNlbGVjdC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2dldGNhbm11bHRpc2VsZWN0KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIGdldENhbk11bHRpU2VsZWN0OiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSByb3cgY2FuIGJlIHNlbGVjdGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3Jvdy1zZWxlY3Rpb24jZ2V0Y2Fuc2VsZWN0KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIGdldENhblNlbGVjdDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcm93IGNhbiBzZWxlY3Qgc3ViIHJvd3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSBwYXJlbnQgcm93IGlzIHNlbGVjdGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3Jvdy1zZWxlY3Rpb24jZ2V0Y2Fuc2VsZWN0c3Vicm93cylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1zZWxlY3Rpb24pXG4gICAqL1xuICBnZXRDYW5TZWxlY3RTdWJSb3dzOiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGFsbCBvZiB0aGUgcm93J3Mgc3ViIHJvd3MgYXJlIHNlbGVjdGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3Jvdy1zZWxlY3Rpb24jZ2V0aXNhbGxzdWJyb3dzc2VsZWN0ZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgZ2V0SXNBbGxTdWJSb3dzU2VsZWN0ZWQ6ICgpID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHJvdyBpcyBzZWxlY3RlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2dldGlzc2VsZWN0ZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgZ2V0SXNTZWxlY3RlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBzb21lIG9mIHRoZSByb3cncyBzdWIgcm93cyBhcmUgc2VsZWN0ZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNnZXRpc3NvbWVzZWxlY3RlZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1zZWxlY3Rpb24pXG4gICAqL1xuICBnZXRJc1NvbWVTZWxlY3RlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyBhIGhhbmRsZXIgdGhhdCBjYW4gYmUgdXNlZCB0byB0b2dnbGUgdGhlIHJvdy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2dldHRvZ2dsZXNlbGVjdGVkaGFuZGxlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1zZWxlY3Rpb24pXG4gICAqL1xuICBnZXRUb2dnbGVTZWxlY3RlZEhhbmRsZXI6ICgpID0+IChldmVudDogdW5rbm93bikgPT4gdm9pZFxuICAvKipcbiAgICogU2VsZWN0cy9kZXNlbGVjdHMgdGhlIHJvdy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI3RvZ2dsZXNlbGVjdGVkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIHRvZ2dsZVNlbGVjdGVkOiAodmFsdWU/OiBib29sZWFuLCBvcHRzPzogeyBzZWxlY3RDaGlsZHJlbj86IGJvb2xlYW4gfSkgPT4gdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvd1NlbGVjdGlvbkluc3RhbmNlPFREYXRhIGV4dGVuZHMgUm93RGF0YT4ge1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm93IG1vZGVsIG9mIGFsbCByb3dzIHRoYXQgYXJlIHNlbGVjdGVkIGFmdGVyIGZpbHRlcmluZyBoYXMgYmVlbiBhcHBsaWVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3Jvdy1zZWxlY3Rpb24jZ2V0ZmlsdGVyZWRzZWxlY3RlZHJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIGdldEZpbHRlcmVkU2VsZWN0ZWRSb3dNb2RlbDogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgbW9kZWwgb2YgYWxsIHJvd3MgdGhhdCBhcmUgc2VsZWN0ZWQgYWZ0ZXIgZ3JvdXBpbmcgaGFzIGJlZW4gYXBwbGllZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2dldGdyb3VwZWRzZWxlY3RlZHJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIGdldEdyb3VwZWRTZWxlY3RlZFJvd01vZGVsOiAoKSA9PiBSb3dNb2RlbDxURGF0YT5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgYWxsIHJvd3Mgb24gdGhlIGN1cnJlbnQgcGFnZSBhcmUgc2VsZWN0ZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNnZXRpc2FsbHBhZ2Vyb3dzc2VsZWN0ZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgZ2V0SXNBbGxQYWdlUm93c1NlbGVjdGVkOiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGFsbCByb3dzIGluIHRoZSB0YWJsZSBhcmUgc2VsZWN0ZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNnZXRpc2FsbHJvd3NzZWxlY3RlZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1zZWxlY3Rpb24pXG4gICAqL1xuICBnZXRJc0FsbFJvd3NTZWxlY3RlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbnkgcm93cyBvbiB0aGUgY3VycmVudCBwYWdlIGFyZSBzZWxlY3RlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2dldGlzc29tZXBhZ2Vyb3dzc2VsZWN0ZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgZ2V0SXNTb21lUGFnZVJvd3NTZWxlY3RlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbnkgcm93cyBpbiB0aGUgdGFibGUgYXJlIHNlbGVjdGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3Jvdy1zZWxlY3Rpb24jZ2V0aXNzb21lcm93c3NlbGVjdGVkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIGdldElzU29tZVJvd3NTZWxlY3RlZDogKCkgPT4gYm9vbGVhblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29yZSByb3cgbW9kZWwgb2YgYWxsIHJvd3MgYmVmb3JlIHJvdyBzZWxlY3Rpb24gaGFzIGJlZW4gYXBwbGllZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2dldHByZXNlbGVjdGVkcm93bW9kZWwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgZ2V0UHJlU2VsZWN0ZWRSb3dNb2RlbDogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgbW9kZWwgb2YgYWxsIHJvd3MgdGhhdCBhcmUgc2VsZWN0ZWQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNnZXRzZWxlY3RlZHJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIGdldFNlbGVjdGVkUm93TW9kZWw6ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmV0dXJucyBhIGhhbmRsZXIgdGhhdCBjYW4gYmUgdXNlZCB0byB0b2dnbGUgYWxsIHJvd3Mgb24gdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2dldHRvZ2dsZWFsbHBhZ2Vyb3dzc2VsZWN0ZWRoYW5kbGVyKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIGdldFRvZ2dsZUFsbFBhZ2VSb3dzU2VsZWN0ZWRIYW5kbGVyOiAoKSA9PiAoZXZlbnQ6IHVua25vd24pID0+IHZvaWRcbiAgLyoqXG4gICAqIFJldHVybnMgYSBoYW5kbGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gdG9nZ2xlIGFsbCByb3dzIGluIHRoZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI2dldHRvZ2dsZWFsbHJvd3NzZWxlY3RlZGhhbmRsZXIpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkSGFuZGxlcjogKCkgPT4gKGV2ZW50OiB1bmtub3duKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlICoqcm93U2VsZWN0aW9uKiogc3RhdGUgdG8gdGhlIGBpbml0aWFsU3RhdGUucm93U2VsZWN0aW9uYCwgb3IgYHRydWVgIGNhbiBiZSBwYXNzZWQgdG8gZm9yY2UgYSBkZWZhdWx0IGJsYW5rIHN0YXRlIHJlc2V0IHRvIGB7fWAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNyZXNldHJvd3NlbGVjdGlvbilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1zZWxlY3Rpb24pXG4gICAqL1xuICByZXNldFJvd1NlbGVjdGlvbjogKGRlZmF1bHRTdGF0ZT86IGJvb2xlYW4pID0+IHZvaWRcbiAgLyoqXG4gICAqIFNldHMgb3IgdXBkYXRlcyB0aGUgYHN0YXRlLnJvd1NlbGVjdGlvbmAgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiNzZXRyb3dzZWxlY3Rpb24pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9yb3ctc2VsZWN0aW9uKVxuICAgKi9cbiAgc2V0Um93U2VsZWN0aW9uOiAodXBkYXRlcjogVXBkYXRlcjxSb3dTZWxlY3Rpb25TdGF0ZT4pID0+IHZvaWRcbiAgLyoqXG4gICAqIFNlbGVjdHMvZGVzZWxlY3RzIGFsbCByb3dzIG9uIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvcm93LXNlbGVjdGlvbiN0b2dnbGVhbGxwYWdlcm93c3NlbGVjdGVkKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvcm93LXNlbGVjdGlvbilcbiAgICovXG4gIHRvZ2dsZUFsbFBhZ2VSb3dzU2VsZWN0ZWQ6ICh2YWx1ZT86IGJvb2xlYW4pID0+IHZvaWRcbiAgLyoqXG4gICAqIFNlbGVjdHMvZGVzZWxlY3RzIGFsbCByb3dzIGluIHRoZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9yb3ctc2VsZWN0aW9uI3RvZ2dsZWFsbHJvd3NzZWxlY3RlZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3Jvdy1zZWxlY3Rpb24pXG4gICAqL1xuICB0b2dnbGVBbGxSb3dzU2VsZWN0ZWQ6ICh2YWx1ZT86IGJvb2xlYW4pID0+IHZvaWRcbn1cblxuLy9cblxuZXhwb3J0IGNvbnN0IFJvd1NlbGVjdGlvbjogVGFibGVGZWF0dXJlID0ge1xuICBnZXRJbml0aWFsU3RhdGU6IChzdGF0ZSk6IFJvd1NlbGVjdGlvblRhYmxlU3RhdGUgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICByb3dTZWxlY3Rpb246IHt9LFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRPcHRpb25zOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IFJvd1NlbGVjdGlvbk9wdGlvbnM8VERhdGE+ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgb25Sb3dTZWxlY3Rpb25DaGFuZ2U6IG1ha2VTdGF0ZVVwZGF0ZXIoJ3Jvd1NlbGVjdGlvbicsIHRhYmxlKSxcbiAgICAgIGVuYWJsZVJvd1NlbGVjdGlvbjogdHJ1ZSxcbiAgICAgIGVuYWJsZU11bHRpUm93U2VsZWN0aW9uOiB0cnVlLFxuICAgICAgZW5hYmxlU3ViUm93U2VsZWN0aW9uOiB0cnVlLFxuICAgICAgLy8gZW5hYmxlR3JvdXBpbmdSb3dTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgLy8gaXNBZGRpdGl2ZVNlbGVjdEV2ZW50OiAoZTogdW5rbm93bikgPT4gISFlLm1ldGFLZXksXG4gICAgICAvLyBpc0luY2x1c2l2ZVNlbGVjdEV2ZW50OiAoZTogdW5rbm93bikgPT4gISFlLnNoaWZ0S2V5LFxuICAgIH1cbiAgfSxcblxuICBjcmVhdGVUYWJsZTogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4odGFibGU6IFRhYmxlPFREYXRhPik6IHZvaWQgPT4ge1xuICAgIHRhYmxlLnNldFJvd1NlbGVjdGlvbiA9IHVwZGF0ZXIgPT5cbiAgICAgIHRhYmxlLm9wdGlvbnMub25Sb3dTZWxlY3Rpb25DaGFuZ2U/Lih1cGRhdGVyKVxuICAgIHRhYmxlLnJlc2V0Um93U2VsZWN0aW9uID0gZGVmYXVsdFN0YXRlID0+XG4gICAgICB0YWJsZS5zZXRSb3dTZWxlY3Rpb24oXG4gICAgICAgIGRlZmF1bHRTdGF0ZSA/IHt9IDogdGFibGUuaW5pdGlhbFN0YXRlLnJvd1NlbGVjdGlvbiA/PyB7fVxuICAgICAgKVxuICAgIHRhYmxlLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZCA9IHZhbHVlID0+IHtcbiAgICAgIHRhYmxlLnNldFJvd1NlbGVjdGlvbihvbGQgPT4ge1xuICAgICAgICB2YWx1ZSA9XG4gICAgICAgICAgdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyA/IHZhbHVlIDogIXRhYmxlLmdldElzQWxsUm93c1NlbGVjdGVkKClcblxuICAgICAgICBjb25zdCByb3dTZWxlY3Rpb24gPSB7IC4uLm9sZCB9XG5cbiAgICAgICAgY29uc3QgcHJlR3JvdXBlZEZsYXRSb3dzID0gdGFibGUuZ2V0UHJlR3JvdXBlZFJvd01vZGVsKCkuZmxhdFJvd3NcblxuICAgICAgICAvLyBXZSBkb24ndCB1c2UgYG11dGF0ZVJvd0lzU2VsZWN0ZWRgIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgIC8vIEFsbCBvZiB0aGUgcm93cyBhcmUgZmxhdCBhbHJlYWR5LCBzbyBpdCB3b3VsZG4ndCBiZSB3b3J0aCBpdFxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBwcmVHcm91cGVkRmxhdFJvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICAgICAgaWYgKCFyb3cuZ2V0Q2FuU2VsZWN0KCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dTZWxlY3Rpb25bcm93LmlkXSA9IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZUdyb3VwZWRGbGF0Um93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgICAgICBkZWxldGUgcm93U2VsZWN0aW9uW3Jvdy5pZF1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJvd1NlbGVjdGlvblxuICAgICAgfSlcbiAgICB9XG4gICAgdGFibGUudG9nZ2xlQWxsUGFnZVJvd3NTZWxlY3RlZCA9IHZhbHVlID0+XG4gICAgICB0YWJsZS5zZXRSb3dTZWxlY3Rpb24ob2xkID0+IHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRWYWx1ZSA9XG4gICAgICAgICAgdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgOiAhdGFibGUuZ2V0SXNBbGxQYWdlUm93c1NlbGVjdGVkKClcblxuICAgICAgICBjb25zdCByb3dTZWxlY3Rpb246IFJvd1NlbGVjdGlvblN0YXRlID0geyAuLi5vbGQgfVxuXG4gICAgICAgIHRhYmxlLmdldFJvd01vZGVsKCkucm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgICAgbXV0YXRlUm93SXNTZWxlY3RlZChyb3dTZWxlY3Rpb24sIHJvdy5pZCwgcmVzb2x2ZWRWYWx1ZSwgdHJ1ZSwgdGFibGUpXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHJvd1NlbGVjdGlvblxuICAgICAgfSlcblxuICAgIC8vIGFkZFJvd1NlbGVjdGlvblJhbmdlOiByb3dJZCA9PiB7XG4gICAgLy8gICBjb25zdCB7XG4gICAgLy8gICAgIHJvd3MsXG4gICAgLy8gICAgIHJvd3NCeUlkLFxuICAgIC8vICAgICBvcHRpb25zOiB7IHNlbGVjdEdyb3VwaW5nUm93cywgc2VsZWN0U3ViUm93cyB9LFxuICAgIC8vICAgfSA9IHRhYmxlXG5cbiAgICAvLyAgIGNvbnN0IGZpbmRTZWxlY3RlZFJvdyA9IChyb3dzOiBSb3dbXSkgPT4ge1xuICAgIC8vICAgICBsZXQgZm91bmRcbiAgICAvLyAgICAgcm93cy5maW5kKGQgPT4ge1xuICAgIC8vICAgICAgIGlmIChkLmdldElzU2VsZWN0ZWQoKSkge1xuICAgIC8vICAgICAgICAgZm91bmQgPSBkXG4gICAgLy8gICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICBjb25zdCBzdWJGb3VuZCA9IGZpbmRTZWxlY3RlZFJvdyhkLnN1YlJvd3MgfHwgW10pXG4gICAgLy8gICAgICAgaWYgKHN1YkZvdW5kKSB7XG4gICAgLy8gICAgICAgICBmb3VuZCA9IHN1YkZvdW5kXG4gICAgLy8gICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICByZXR1cm4gZmFsc2VcbiAgICAvLyAgICAgfSlcbiAgICAvLyAgICAgcmV0dXJuIGZvdW5kXG4gICAgLy8gICB9XG5cbiAgICAvLyAgIGNvbnN0IGZpcnN0Um93ID0gZmluZFNlbGVjdGVkUm93KHJvd3MpIHx8IHJvd3NbMF1cbiAgICAvLyAgIGNvbnN0IGxhc3RSb3cgPSByb3dzQnlJZFtyb3dJZF1cblxuICAgIC8vICAgbGV0IGluY2x1ZGUgPSBmYWxzZVxuICAgIC8vICAgY29uc3Qgc2VsZWN0ZWRSb3dJZHMgPSB7fVxuXG4gICAgLy8gICBjb25zdCBhZGRSb3cgPSAocm93OiBSb3cpID0+IHtcbiAgICAvLyAgICAgbXV0YXRlUm93SXNTZWxlY3RlZChzZWxlY3RlZFJvd0lkcywgcm93LmlkLCB0cnVlLCB7XG4gICAgLy8gICAgICAgcm93c0J5SWQsXG4gICAgLy8gICAgICAgc2VsZWN0R3JvdXBpbmdSb3dzOiBzZWxlY3RHcm91cGluZ1Jvd3MhLFxuICAgIC8vICAgICAgIHNlbGVjdFN1YlJvd3M6IHNlbGVjdFN1YlJvd3MhLFxuICAgIC8vICAgICB9KVxuICAgIC8vICAgfVxuXG4gICAgLy8gICB0YWJsZS5yb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAvLyAgICAgY29uc3QgaXNGaXJzdFJvdyA9IHJvdy5pZCA9PT0gZmlyc3RSb3cuaWRcbiAgICAvLyAgICAgY29uc3QgaXNMYXN0Um93ID0gcm93LmlkID09PSBsYXN0Um93LmlkXG5cbiAgICAvLyAgICAgaWYgKGlzRmlyc3RSb3cgfHwgaXNMYXN0Um93KSB7XG4gICAgLy8gICAgICAgaWYgKCFpbmNsdWRlKSB7XG4gICAgLy8gICAgICAgICBpbmNsdWRlID0gdHJ1ZVxuICAgIC8vICAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZSkge1xuICAgIC8vICAgICAgICAgYWRkUm93KHJvdylcbiAgICAvLyAgICAgICAgIGluY2x1ZGUgPSBmYWxzZVxuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmIChpbmNsdWRlKSB7XG4gICAgLy8gICAgICAgYWRkUm93KHJvdylcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfSlcblxuICAgIC8vICAgdGFibGUuc2V0Um93U2VsZWN0aW9uKHNlbGVjdGVkUm93SWRzKVxuICAgIC8vIH0sXG4gICAgdGFibGUuZ2V0UHJlU2VsZWN0ZWRSb3dNb2RlbCA9ICgpID0+IHRhYmxlLmdldENvcmVSb3dNb2RlbCgpXG4gICAgdGFibGUuZ2V0U2VsZWN0ZWRSb3dNb2RlbCA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0U3RhdGUoKS5yb3dTZWxlY3Rpb24sIHRhYmxlLmdldENvcmVSb3dNb2RlbCgpXSxcbiAgICAgIChyb3dTZWxlY3Rpb24sIHJvd01vZGVsKSA9PiB7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXMocm93U2VsZWN0aW9uKS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm93czogW10sXG4gICAgICAgICAgICBmbGF0Um93czogW10sXG4gICAgICAgICAgICByb3dzQnlJZDoge30sXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdFJvd3NGbih0YWJsZSwgcm93TW9kZWwpXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnVGFibGUnLCAnZ2V0U2VsZWN0ZWRSb3dNb2RlbCcpXG4gICAgKVxuXG4gICAgdGFibGUuZ2V0RmlsdGVyZWRTZWxlY3RlZFJvd01vZGVsID0gbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5nZXRTdGF0ZSgpLnJvd1NlbGVjdGlvbiwgdGFibGUuZ2V0RmlsdGVyZWRSb3dNb2RlbCgpXSxcbiAgICAgIChyb3dTZWxlY3Rpb24sIHJvd01vZGVsKSA9PiB7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXMocm93U2VsZWN0aW9uKS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm93czogW10sXG4gICAgICAgICAgICBmbGF0Um93czogW10sXG4gICAgICAgICAgICByb3dzQnlJZDoge30sXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdFJvd3NGbih0YWJsZSwgcm93TW9kZWwpXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnVGFibGUnLCAnZ2V0RmlsdGVyZWRTZWxlY3RlZFJvd01vZGVsJylcbiAgICApXG5cbiAgICB0YWJsZS5nZXRHcm91cGVkU2VsZWN0ZWRSb3dNb2RlbCA9IG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0U3RhdGUoKS5yb3dTZWxlY3Rpb24sIHRhYmxlLmdldFNvcnRlZFJvd01vZGVsKCldLFxuICAgICAgKHJvd1NlbGVjdGlvbiwgcm93TW9kZWwpID0+IHtcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhyb3dTZWxlY3Rpb24pLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3dzOiBbXSxcbiAgICAgICAgICAgIGZsYXRSb3dzOiBbXSxcbiAgICAgICAgICAgIHJvd3NCeUlkOiB7fSxcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZWN0Um93c0ZuKHRhYmxlLCByb3dNb2RlbClcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdUYWJsZScsICdnZXRHcm91cGVkU2VsZWN0ZWRSb3dNb2RlbCcpXG4gICAgKVxuXG4gICAgLy8vXG5cbiAgICAvLyBnZXRHcm91cGluZ1Jvd0NhblNlbGVjdDogcm93SWQgPT4ge1xuICAgIC8vICAgY29uc3Qgcm93ID0gdGFibGUuZ2V0Um93KHJvd0lkKVxuXG4gICAgLy8gICBpZiAoIXJvdykge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoKVxuICAgIC8vICAgfVxuXG4gICAgLy8gICBpZiAodHlwZW9mIHRhYmxlLm9wdGlvbnMuZW5hYmxlR3JvdXBpbmdSb3dTZWxlY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyAgICAgcmV0dXJuIHRhYmxlLm9wdGlvbnMuZW5hYmxlR3JvdXBpbmdSb3dTZWxlY3Rpb24ocm93KVxuICAgIC8vICAgfVxuXG4gICAgLy8gICByZXR1cm4gdGFibGUub3B0aW9ucy5lbmFibGVHcm91cGluZ1Jvd1NlbGVjdGlvbiA/PyBmYWxzZVxuICAgIC8vIH0sXG5cbiAgICB0YWJsZS5nZXRJc0FsbFJvd3NTZWxlY3RlZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHByZUdyb3VwZWRGbGF0Um93cyA9IHRhYmxlLmdldEZpbHRlcmVkUm93TW9kZWwoKS5mbGF0Um93c1xuICAgICAgY29uc3QgeyByb3dTZWxlY3Rpb24gfSA9IHRhYmxlLmdldFN0YXRlKClcblxuICAgICAgbGV0IGlzQWxsUm93c1NlbGVjdGVkID0gQm9vbGVhbihcbiAgICAgICAgcHJlR3JvdXBlZEZsYXRSb3dzLmxlbmd0aCAmJiBPYmplY3Qua2V5cyhyb3dTZWxlY3Rpb24pLmxlbmd0aFxuICAgICAgKVxuXG4gICAgICBpZiAoaXNBbGxSb3dzU2VsZWN0ZWQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByZUdyb3VwZWRGbGF0Um93cy5zb21lKFxuICAgICAgICAgICAgcm93ID0+IHJvdy5nZXRDYW5TZWxlY3QoKSAmJiAhcm93U2VsZWN0aW9uW3Jvdy5pZF1cbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIGlzQWxsUm93c1NlbGVjdGVkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNBbGxSb3dzU2VsZWN0ZWRcbiAgICB9XG5cbiAgICB0YWJsZS5nZXRJc0FsbFBhZ2VSb3dzU2VsZWN0ZWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwYWdpbmF0aW9uRmxhdFJvd3MgPSB0YWJsZVxuICAgICAgICAuZ2V0UGFnaW5hdGlvblJvd01vZGVsKClcbiAgICAgICAgLmZsYXRSb3dzLmZpbHRlcihyb3cgPT4gcm93LmdldENhblNlbGVjdCgpKVxuICAgICAgY29uc3QgeyByb3dTZWxlY3Rpb24gfSA9IHRhYmxlLmdldFN0YXRlKClcblxuICAgICAgbGV0IGlzQWxsUGFnZVJvd3NTZWxlY3RlZCA9ICEhcGFnaW5hdGlvbkZsYXRSb3dzLmxlbmd0aFxuXG4gICAgICBpZiAoXG4gICAgICAgIGlzQWxsUGFnZVJvd3NTZWxlY3RlZCAmJlxuICAgICAgICBwYWdpbmF0aW9uRmxhdFJvd3Muc29tZShyb3cgPT4gIXJvd1NlbGVjdGlvbltyb3cuaWRdKVxuICAgICAgKSB7XG4gICAgICAgIGlzQWxsUGFnZVJvd3NTZWxlY3RlZCA9IGZhbHNlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0FsbFBhZ2VSb3dzU2VsZWN0ZWRcbiAgICB9XG5cbiAgICB0YWJsZS5nZXRJc1NvbWVSb3dzU2VsZWN0ZWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0b3RhbFNlbGVjdGVkID0gT2JqZWN0LmtleXMoXG4gICAgICAgIHRhYmxlLmdldFN0YXRlKCkucm93U2VsZWN0aW9uID8/IHt9XG4gICAgICApLmxlbmd0aFxuICAgICAgcmV0dXJuIChcbiAgICAgICAgdG90YWxTZWxlY3RlZCA+IDAgJiZcbiAgICAgICAgdG90YWxTZWxlY3RlZCA8IHRhYmxlLmdldEZpbHRlcmVkUm93TW9kZWwoKS5mbGF0Um93cy5sZW5ndGhcbiAgICAgIClcbiAgICB9XG5cbiAgICB0YWJsZS5nZXRJc1NvbWVQYWdlUm93c1NlbGVjdGVkID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGFnaW5hdGlvbkZsYXRSb3dzID0gdGFibGUuZ2V0UGFnaW5hdGlvblJvd01vZGVsKCkuZmxhdFJvd3NcbiAgICAgIHJldHVybiB0YWJsZS5nZXRJc0FsbFBhZ2VSb3dzU2VsZWN0ZWQoKVxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogcGFnaW5hdGlvbkZsYXRSb3dzXG4gICAgICAgICAgICAuZmlsdGVyKHJvdyA9PiByb3cuZ2V0Q2FuU2VsZWN0KCkpXG4gICAgICAgICAgICAuc29tZShkID0+IGQuZ2V0SXNTZWxlY3RlZCgpIHx8IGQuZ2V0SXNTb21lU2VsZWN0ZWQoKSlcbiAgICB9XG5cbiAgICB0YWJsZS5nZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIChlOiB1bmtub3duKSA9PiB7XG4gICAgICAgIHRhYmxlLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZChcbiAgICAgICAgICAoKGUgYXMgTW91c2VFdmVudCkudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWRcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRhYmxlLmdldFRvZ2dsZUFsbFBhZ2VSb3dzU2VsZWN0ZWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIChlOiB1bmtub3duKSA9PiB7XG4gICAgICAgIHRhYmxlLnRvZ2dsZUFsbFBhZ2VSb3dzU2VsZWN0ZWQoXG4gICAgICAgICAgKChlIGFzIE1vdXNlRXZlbnQpLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlUm93OiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICByb3c6IFJvdzxURGF0YT4sXG4gICAgdGFibGU6IFRhYmxlPFREYXRhPlxuICApOiB2b2lkID0+IHtcbiAgICByb3cudG9nZ2xlU2VsZWN0ZWQgPSAodmFsdWUsIG9wdHMpID0+IHtcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSByb3cuZ2V0SXNTZWxlY3RlZCgpXG5cbiAgICAgIHRhYmxlLnNldFJvd1NlbGVjdGlvbihvbGQgPT4ge1xuICAgICAgICB2YWx1ZSA9IHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgPyB2YWx1ZSA6ICFpc1NlbGVjdGVkXG5cbiAgICAgICAgaWYgKHJvdy5nZXRDYW5TZWxlY3QoKSAmJiBpc1NlbGVjdGVkID09PSB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBvbGRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUm93SWRzID0geyAuLi5vbGQgfVxuXG4gICAgICAgIG11dGF0ZVJvd0lzU2VsZWN0ZWQoXG4gICAgICAgICAgc2VsZWN0ZWRSb3dJZHMsXG4gICAgICAgICAgcm93LmlkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9wdHM/LnNlbGVjdENoaWxkcmVuID8/IHRydWUsXG4gICAgICAgICAgdGFibGVcbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFJvd0lkc1xuICAgICAgfSlcbiAgICB9XG4gICAgcm93LmdldElzU2VsZWN0ZWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJvd1NlbGVjdGlvbiB9ID0gdGFibGUuZ2V0U3RhdGUoKVxuICAgICAgcmV0dXJuIGlzUm93U2VsZWN0ZWQocm93LCByb3dTZWxlY3Rpb24pXG4gICAgfVxuXG4gICAgcm93LmdldElzU29tZVNlbGVjdGVkID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyByb3dTZWxlY3Rpb24gfSA9IHRhYmxlLmdldFN0YXRlKClcbiAgICAgIHJldHVybiBpc1N1YlJvd1NlbGVjdGVkKHJvdywgcm93U2VsZWN0aW9uLCB0YWJsZSkgPT09ICdzb21lJ1xuICAgIH1cblxuICAgIHJvdy5nZXRJc0FsbFN1YlJvd3NTZWxlY3RlZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcm93U2VsZWN0aW9uIH0gPSB0YWJsZS5nZXRTdGF0ZSgpXG4gICAgICByZXR1cm4gaXNTdWJSb3dTZWxlY3RlZChyb3csIHJvd1NlbGVjdGlvbiwgdGFibGUpID09PSAnYWxsJ1xuICAgIH1cblxuICAgIHJvdy5nZXRDYW5TZWxlY3QgPSAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRhYmxlLm9wdGlvbnMuZW5hYmxlUm93U2VsZWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0YWJsZS5vcHRpb25zLmVuYWJsZVJvd1NlbGVjdGlvbihyb3cpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWJsZS5vcHRpb25zLmVuYWJsZVJvd1NlbGVjdGlvbiA/PyB0cnVlXG4gICAgfVxuXG4gICAgcm93LmdldENhblNlbGVjdFN1YlJvd3MgPSAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRhYmxlLm9wdGlvbnMuZW5hYmxlU3ViUm93U2VsZWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0YWJsZS5vcHRpb25zLmVuYWJsZVN1YlJvd1NlbGVjdGlvbihyb3cpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWJsZS5vcHRpb25zLmVuYWJsZVN1YlJvd1NlbGVjdGlvbiA/PyB0cnVlXG4gICAgfVxuXG4gICAgcm93LmdldENhbk11bHRpU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0YWJsZS5vcHRpb25zLmVuYWJsZU11bHRpUm93U2VsZWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0YWJsZS5vcHRpb25zLmVuYWJsZU11bHRpUm93U2VsZWN0aW9uKHJvdylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhYmxlLm9wdGlvbnMuZW5hYmxlTXVsdGlSb3dTZWxlY3Rpb24gPz8gdHJ1ZVxuICAgIH1cbiAgICByb3cuZ2V0VG9nZ2xlU2VsZWN0ZWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgY2FuU2VsZWN0ID0gcm93LmdldENhblNlbGVjdCgpXG5cbiAgICAgIHJldHVybiAoZTogdW5rbm93bikgPT4ge1xuICAgICAgICBpZiAoIWNhblNlbGVjdCkgcmV0dXJuXG4gICAgICAgIHJvdy50b2dnbGVTZWxlY3RlZChcbiAgICAgICAgICAoKGUgYXMgTW91c2VFdmVudCkudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpPy5jaGVja2VkXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59XG5cbmNvbnN0IG11dGF0ZVJvd0lzU2VsZWN0ZWQgPSA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgc2VsZWN0ZWRSb3dJZHM6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+LFxuICBpZDogc3RyaW5nLFxuICB2YWx1ZTogYm9vbGVhbixcbiAgaW5jbHVkZUNoaWxkcmVuOiBib29sZWFuLFxuICB0YWJsZTogVGFibGU8VERhdGE+XG4pID0+IHtcbiAgY29uc3Qgcm93ID0gdGFibGUuZ2V0Um93KGlkLCB0cnVlKVxuXG4gIC8vIGNvbnN0IGlzR3JvdXBlZCA9IHJvdy5nZXRJc0dyb3VwZWQoKVxuXG4gIC8vIGlmICggLy8gVE9ETzogZW5mb3JjZSBncm91cGluZyByb3cgc2VsZWN0aW9uIHJ1bGVzXG4gIC8vICAgIWlzR3JvdXBlZCB8fFxuICAvLyAgIChpc0dyb3VwZWQgJiYgdGFibGUub3B0aW9ucy5lbmFibGVHcm91cGluZ1Jvd1NlbGVjdGlvbilcbiAgLy8gKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIGlmICghcm93LmdldENhbk11bHRpU2VsZWN0KCkpIHtcbiAgICAgIE9iamVjdC5rZXlzKHNlbGVjdGVkUm93SWRzKS5mb3JFYWNoKGtleSA9PiBkZWxldGUgc2VsZWN0ZWRSb3dJZHNba2V5XSlcbiAgICB9XG4gICAgaWYgKHJvdy5nZXRDYW5TZWxlY3QoKSkge1xuICAgICAgc2VsZWN0ZWRSb3dJZHNbaWRdID0gdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgc2VsZWN0ZWRSb3dJZHNbaWRdXG4gIH1cbiAgLy8gfVxuXG4gIGlmIChpbmNsdWRlQ2hpbGRyZW4gJiYgcm93LnN1YlJvd3M/Lmxlbmd0aCAmJiByb3cuZ2V0Q2FuU2VsZWN0U3ViUm93cygpKSB7XG4gICAgcm93LnN1YlJvd3MuZm9yRWFjaChyb3cgPT5cbiAgICAgIG11dGF0ZVJvd0lzU2VsZWN0ZWQoc2VsZWN0ZWRSb3dJZHMsIHJvdy5pZCwgdmFsdWUsIGluY2x1ZGVDaGlsZHJlbiwgdGFibGUpXG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RSb3dzRm48VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgdGFibGU6IFRhYmxlPFREYXRhPixcbiAgcm93TW9kZWw6IFJvd01vZGVsPFREYXRhPlxuKTogUm93TW9kZWw8VERhdGE+IHtcbiAgY29uc3Qgcm93U2VsZWN0aW9uID0gdGFibGUuZ2V0U3RhdGUoKS5yb3dTZWxlY3Rpb25cblxuICBjb25zdCBuZXdTZWxlY3RlZEZsYXRSb3dzOiBSb3c8VERhdGE+W10gPSBbXVxuICBjb25zdCBuZXdTZWxlY3RlZFJvd3NCeUlkOiBSZWNvcmQ8c3RyaW5nLCBSb3c8VERhdGE+PiA9IHt9XG5cbiAgLy8gRmlsdGVycyB0b3AgbGV2ZWwgYW5kIG5lc3RlZCByb3dzXG4gIGNvbnN0IHJlY3Vyc2VSb3dzID0gKHJvd3M6IFJvdzxURGF0YT5bXSwgZGVwdGggPSAwKTogUm93PFREYXRhPltdID0+IHtcbiAgICByZXR1cm4gcm93c1xuICAgICAgLm1hcChyb3cgPT4ge1xuICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gaXNSb3dTZWxlY3RlZChyb3csIHJvd1NlbGVjdGlvbilcblxuICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgIG5ld1NlbGVjdGVkRmxhdFJvd3MucHVzaChyb3cpXG4gICAgICAgICAgbmV3U2VsZWN0ZWRSb3dzQnlJZFtyb3cuaWRdID0gcm93XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm93LnN1YlJvd3M/Lmxlbmd0aCkge1xuICAgICAgICAgIHJvdyA9IHtcbiAgICAgICAgICAgIC4uLnJvdyxcbiAgICAgICAgICAgIHN1YlJvd3M6IHJlY3Vyc2VSb3dzKHJvdy5zdWJSb3dzLCBkZXB0aCArIDEpLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJvd1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihCb29sZWFuKSBhcyBSb3c8VERhdGE+W11cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcm93czogcmVjdXJzZVJvd3Mocm93TW9kZWwucm93cyksXG4gICAgZmxhdFJvd3M6IG5ld1NlbGVjdGVkRmxhdFJvd3MsXG4gICAgcm93c0J5SWQ6IG5ld1NlbGVjdGVkUm93c0J5SWQsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUm93U2VsZWN0ZWQ8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgcm93OiBSb3c8VERhdGE+LFxuICBzZWxlY3Rpb246IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+XG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHNlbGVjdGlvbltyb3cuaWRdID8/IGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1YlJvd1NlbGVjdGVkPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oXG4gIHJvdzogUm93PFREYXRhPixcbiAgc2VsZWN0aW9uOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPixcbiAgdGFibGU6IFRhYmxlPFREYXRhPlxuKTogYm9vbGVhbiB8ICdzb21lJyB8ICdhbGwnIHtcbiAgaWYgKCFyb3cuc3ViUm93cz8ubGVuZ3RoKSByZXR1cm4gZmFsc2VcblxuICBsZXQgYWxsQ2hpbGRyZW5TZWxlY3RlZCA9IHRydWVcbiAgbGV0IHNvbWVTZWxlY3RlZCA9IGZhbHNlXG5cbiAgcm93LnN1YlJvd3MuZm9yRWFjaChzdWJSb3cgPT4ge1xuICAgIC8vIEJhaWwgb3V0IGVhcmx5IGlmIHdlIGtub3cgYm90aCBvZiB0aGVzZVxuICAgIGlmIChzb21lU2VsZWN0ZWQgJiYgIWFsbENoaWxkcmVuU2VsZWN0ZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChzdWJSb3cuZ2V0Q2FuU2VsZWN0KCkpIHtcbiAgICAgIGlmIChpc1Jvd1NlbGVjdGVkKHN1YlJvdywgc2VsZWN0aW9uKSkge1xuICAgICAgICBzb21lU2VsZWN0ZWQgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxDaGlsZHJlblNlbGVjdGVkID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayByb3cgc2VsZWN0aW9uIG9mIG5lc3RlZCBzdWJyb3dzXG4gICAgaWYgKHN1YlJvdy5zdWJSb3dzICYmIHN1YlJvdy5zdWJSb3dzLmxlbmd0aCkge1xuICAgICAgY29uc3Qgc3ViUm93Q2hpbGRyZW5TZWxlY3RlZCA9IGlzU3ViUm93U2VsZWN0ZWQoc3ViUm93LCBzZWxlY3Rpb24sIHRhYmxlKVxuICAgICAgaWYgKHN1YlJvd0NoaWxkcmVuU2VsZWN0ZWQgPT09ICdhbGwnKSB7XG4gICAgICAgIHNvbWVTZWxlY3RlZCA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAoc3ViUm93Q2hpbGRyZW5TZWxlY3RlZCA9PT0gJ3NvbWUnKSB7XG4gICAgICAgIHNvbWVTZWxlY3RlZCA9IHRydWVcbiAgICAgICAgYWxsQ2hpbGRyZW5TZWxlY3RlZCA9IGZhbHNlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxDaGlsZHJlblNlbGVjdGVkID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIGFsbENoaWxkcmVuU2VsZWN0ZWQgPyAnYWxsJyA6IHNvbWVTZWxlY3RlZCA/ICdzb21lJyA6IGZhbHNlXG59XG4iLCJpbXBvcnQgeyBTb3J0aW5nRm4gfSBmcm9tICcuL2ZlYXR1cmVzL1Jvd1NvcnRpbmcnXG5cbmV4cG9ydCBjb25zdCByZVNwbGl0QWxwaGFOdW1lcmljID0gLyhbMC05XSspL2dtXG5cbmNvbnN0IGFscGhhbnVtZXJpYzogU29ydGluZ0ZuPGFueT4gPSAocm93QSwgcm93QiwgY29sdW1uSWQpID0+IHtcbiAgcmV0dXJuIGNvbXBhcmVBbHBoYW51bWVyaWMoXG4gICAgdG9TdHJpbmcocm93QS5nZXRWYWx1ZShjb2x1bW5JZCkpLnRvTG93ZXJDYXNlKCksXG4gICAgdG9TdHJpbmcocm93Qi5nZXRWYWx1ZShjb2x1bW5JZCkpLnRvTG93ZXJDYXNlKClcbiAgKVxufVxuXG5jb25zdCBhbHBoYW51bWVyaWNDYXNlU2Vuc2l0aXZlOiBTb3J0aW5nRm48YW55PiA9IChyb3dBLCByb3dCLCBjb2x1bW5JZCkgPT4ge1xuICByZXR1cm4gY29tcGFyZUFscGhhbnVtZXJpYyhcbiAgICB0b1N0cmluZyhyb3dBLmdldFZhbHVlKGNvbHVtbklkKSksXG4gICAgdG9TdHJpbmcocm93Qi5nZXRWYWx1ZShjb2x1bW5JZCkpXG4gIClcbn1cblxuLy8gVGhlIHRleHQgZmlsdGVyIGlzIG1vcmUgYmFzaWMgKGxlc3MgbnVtZXJpYyBzdXBwb3J0KVxuLy8gYnV0IGlzIG11Y2ggZmFzdGVyXG5jb25zdCB0ZXh0OiBTb3J0aW5nRm48YW55PiA9IChyb3dBLCByb3dCLCBjb2x1bW5JZCkgPT4ge1xuICByZXR1cm4gY29tcGFyZUJhc2ljKFxuICAgIHRvU3RyaW5nKHJvd0EuZ2V0VmFsdWUoY29sdW1uSWQpKS50b0xvd2VyQ2FzZSgpLFxuICAgIHRvU3RyaW5nKHJvd0IuZ2V0VmFsdWUoY29sdW1uSWQpKS50b0xvd2VyQ2FzZSgpXG4gIClcbn1cblxuLy8gVGhlIHRleHQgZmlsdGVyIGlzIG1vcmUgYmFzaWMgKGxlc3MgbnVtZXJpYyBzdXBwb3J0KVxuLy8gYnV0IGlzIG11Y2ggZmFzdGVyXG5jb25zdCB0ZXh0Q2FzZVNlbnNpdGl2ZTogU29ydGluZ0ZuPGFueT4gPSAocm93QSwgcm93QiwgY29sdW1uSWQpID0+IHtcbiAgcmV0dXJuIGNvbXBhcmVCYXNpYyhcbiAgICB0b1N0cmluZyhyb3dBLmdldFZhbHVlKGNvbHVtbklkKSksXG4gICAgdG9TdHJpbmcocm93Qi5nZXRWYWx1ZShjb2x1bW5JZCkpXG4gIClcbn1cblxuY29uc3QgZGF0ZXRpbWU6IFNvcnRpbmdGbjxhbnk+ID0gKHJvd0EsIHJvd0IsIGNvbHVtbklkKSA9PiB7XG4gIGNvbnN0IGEgPSByb3dBLmdldFZhbHVlPERhdGU+KGNvbHVtbklkKVxuICBjb25zdCBiID0gcm93Qi5nZXRWYWx1ZTxEYXRlPihjb2x1bW5JZClcblxuICAvLyBDYW4gaGFuZGxlIG51bGxpc2ggdmFsdWVzXG4gIC8vIFVzZSA+IGFuZCA8IGJlY2F1c2UgPT0gKGFuZCA9PT0pIGRvZXNuJ3Qgd29yayB3aXRoXG4gIC8vIERhdGUgb2JqZWN0cyAod291bGQgcmVxdWlyZSBjYWxsaW5nIGdldFRpbWUoKSkuXG4gIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMFxufVxuXG5jb25zdCBiYXNpYzogU29ydGluZ0ZuPGFueT4gPSAocm93QSwgcm93QiwgY29sdW1uSWQpID0+IHtcbiAgcmV0dXJuIGNvbXBhcmVCYXNpYyhyb3dBLmdldFZhbHVlKGNvbHVtbklkKSwgcm93Qi5nZXRWYWx1ZShjb2x1bW5JZCkpXG59XG5cbi8vIFV0aWxzXG5cbmZ1bmN0aW9uIGNvbXBhcmVCYXNpYyhhOiBhbnksIGI6IGFueSkge1xuICByZXR1cm4gYSA9PT0gYiA/IDAgOiBhID4gYiA/IDEgOiAtMVxufVxuXG5mdW5jdGlvbiB0b1N0cmluZyhhOiBhbnkpIHtcbiAgaWYgKHR5cGVvZiBhID09PSAnbnVtYmVyJykge1xuICAgIGlmIChpc05hTihhKSB8fCBhID09PSBJbmZpbml0eSB8fCBhID09PSAtSW5maW5pdHkpIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKGEpXG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBhXG4gIH1cbiAgcmV0dXJuICcnXG59XG5cbi8vIE1peGVkIHNvcnRpbmcgaXMgc2xvdywgYnV0IHZlcnkgaW5jbHVzaXZlIG9mIG1hbnkgZWRnZSBjYXNlcy5cbi8vIEl0IGhhbmRsZXMgbnVtYmVycywgbWl4ZWQgYWxwaGFudW1lcmljIGNvbWJpbmF0aW9ucywgYW5kIGV2ZW5cbi8vIG51bGwsIHVuZGVmaW5lZCwgYW5kIEluZmluaXR5XG5mdW5jdGlvbiBjb21wYXJlQWxwaGFudW1lcmljKGFTdHI6IHN0cmluZywgYlN0cjogc3RyaW5nKSB7XG4gIC8vIFNwbGl0IG9uIG51bWJlciBncm91cHMsIGJ1dCBrZWVwIHRoZSBkZWxpbWl0ZXJcbiAgLy8gVGhlbiByZW1vdmUgZmFsc2V5IHNwbGl0IHZhbHVlc1xuICBjb25zdCBhID0gYVN0ci5zcGxpdChyZVNwbGl0QWxwaGFOdW1lcmljKS5maWx0ZXIoQm9vbGVhbilcbiAgY29uc3QgYiA9IGJTdHIuc3BsaXQocmVTcGxpdEFscGhhTnVtZXJpYykuZmlsdGVyKEJvb2xlYW4pXG5cbiAgLy8gV2hpbGVcbiAgd2hpbGUgKGEubGVuZ3RoICYmIGIubGVuZ3RoKSB7XG4gICAgY29uc3QgYWEgPSBhLnNoaWZ0KCkhXG4gICAgY29uc3QgYmIgPSBiLnNoaWZ0KCkhXG5cbiAgICBjb25zdCBhbiA9IHBhcnNlSW50KGFhLCAxMClcbiAgICBjb25zdCBibiA9IHBhcnNlSW50KGJiLCAxMClcblxuICAgIGNvbnN0IGNvbWJvID0gW2FuLCBibl0uc29ydCgpXG5cbiAgICAvLyBCb3RoIGFyZSBzdHJpbmdcbiAgICBpZiAoaXNOYU4oY29tYm9bMF0hKSkge1xuICAgICAgaWYgKGFhID4gYmIpIHtcbiAgICAgICAgcmV0dXJuIDFcbiAgICAgIH1cbiAgICAgIGlmIChiYiA+IGFhKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICAvLyBPbmUgaXMgYSBzdHJpbmcsIG9uZSBpcyBhIG51bWJlclxuICAgIGlmIChpc05hTihjb21ib1sxXSEpKSB7XG4gICAgICByZXR1cm4gaXNOYU4oYW4pID8gLTEgOiAxXG4gICAgfVxuXG4gICAgLy8gQm90aCBhcmUgbnVtYmVyc1xuICAgIGlmIChhbiA+IGJuKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH1cbiAgICBpZiAoYm4gPiBhbikge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGEubGVuZ3RoIC0gYi5sZW5ndGhcbn1cblxuLy8gRXhwb3J0c1xuXG5leHBvcnQgY29uc3Qgc29ydGluZ0ZucyA9IHtcbiAgYWxwaGFudW1lcmljLFxuICBhbHBoYW51bWVyaWNDYXNlU2Vuc2l0aXZlLFxuICB0ZXh0LFxuICB0ZXh0Q2FzZVNlbnNpdGl2ZSxcbiAgZGF0ZXRpbWUsXG4gIGJhc2ljLFxufVxuXG5leHBvcnQgdHlwZSBCdWlsdEluU29ydGluZ0ZuID0ga2V5b2YgdHlwZW9mIHNvcnRpbmdGbnNcbiIsImltcG9ydCB7IFJvd01vZGVsIH0gZnJvbSAnLi4nXG5pbXBvcnQge1xuICBCdWlsdEluU29ydGluZ0ZuLFxuICByZVNwbGl0QWxwaGFOdW1lcmljLFxuICBzb3J0aW5nRm5zLFxufSBmcm9tICcuLi9zb3J0aW5nRm5zJ1xuXG5pbXBvcnQge1xuICBDb2x1bW4sXG4gIE9uQ2hhbmdlRm4sXG4gIFRhYmxlLFxuICBSb3csXG4gIFVwZGF0ZXIsXG4gIFJvd0RhdGEsXG4gIFNvcnRpbmdGbnMsXG4gIFRhYmxlRmVhdHVyZSxcbn0gZnJvbSAnLi4vdHlwZXMnXG5cbmltcG9ydCB7IGlzRnVuY3Rpb24sIG1ha2VTdGF0ZVVwZGF0ZXIgfSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IHR5cGUgU29ydERpcmVjdGlvbiA9ICdhc2MnIHwgJ2Rlc2MnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uU29ydCB7XG4gIGRlc2M6IGJvb2xlYW5cbiAgaWQ6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBTb3J0aW5nU3RhdGUgPSBDb2x1bW5Tb3J0W11cblxuZXhwb3J0IGludGVyZmFjZSBTb3J0aW5nVGFibGVTdGF0ZSB7XG4gIHNvcnRpbmc6IFNvcnRpbmdTdGF0ZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNvcnRpbmdGbjxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgKHJvd0E6IFJvdzxURGF0YT4sIHJvd0I6IFJvdzxURGF0YT4sIGNvbHVtbklkOiBzdHJpbmcpOiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgQ3VzdG9tU29ydGluZ0ZuczxURGF0YSBleHRlbmRzIFJvd0RhdGE+ID0gUmVjb3JkPFxuICBzdHJpbmcsXG4gIFNvcnRpbmdGbjxURGF0YT5cbj5cblxuZXhwb3J0IHR5cGUgU29ydGluZ0ZuT3B0aW9uPFREYXRhIGV4dGVuZHMgUm93RGF0YT4gPVxuICB8ICdhdXRvJ1xuICB8IGtleW9mIFNvcnRpbmdGbnNcbiAgfCBCdWlsdEluU29ydGluZ0ZuXG4gIHwgU29ydGluZ0ZuPFREYXRhPlxuXG5leHBvcnQgaW50ZXJmYWNlIFNvcnRpbmdDb2x1bW5EZWY8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBFbmFibGVzL0Rpc2FibGVzIG11bHRpLXNvcnRpbmcgZm9yIHRoaXMgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZW5hYmxlbXVsdGlzb3J0KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIGVuYWJsZU11bHRpU29ydD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIEVuYWJsZXMvRGlzYWJsZXMgc29ydGluZyBmb3IgdGhpcyBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvc29ydGluZyNlbmFibGVzb3J0aW5nKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIGVuYWJsZVNvcnRpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBJbnZlcnRzIHRoZSBvcmRlciBvZiB0aGUgc29ydGluZyBmb3IgdGhpcyBjb2x1bW4uIFRoaXMgaXMgdXNlZnVsIGZvciB2YWx1ZXMgdGhhdCBoYXZlIGFuIGludmVydGVkIGJlc3Qvd29yc3Qgc2NhbGUgd2hlcmUgbG93ZXIgbnVtYmVycyBhcmUgYmV0dGVyLCBlZy4gYSByYW5raW5nICgxc3QsIDJuZCwgM3JkKSBvciBnb2xmLWxpa2Ugc2NvcmluZ1xuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjaW52ZXJ0c29ydGluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICBpbnZlcnRTb3J0aW5nPzogYm9vbGVhblxuICAvKipcbiAgICogU2V0IHRvIGB0cnVlYCBmb3Igc29ydGluZyB0b2dnbGVzIG9uIHRoaXMgY29sdW1uIHRvIHN0YXJ0IGluIHRoZSBkZXNjZW5kaW5nIGRpcmVjdGlvbi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI3NvcnRkZXNjZmlyc3QpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgc29ydERlc2NGaXJzdD86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFRoZSBzb3J0aW5nIGZ1bmN0aW9uIHRvIHVzZSB3aXRoIHRoaXMgY29sdW1uLlxuICAgKiAtIEEgYHN0cmluZ2AgcmVmZXJlbmNpbmcgYSBidWlsdC1pbiBzb3J0aW5nIGZ1bmN0aW9uXG4gICAqIC0gQSBjdXN0b20gc29ydGluZyBmdW5jdGlvblxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjc29ydGluZ2ZuKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIHNvcnRpbmdGbj86IFNvcnRpbmdGbk9wdGlvbjxURGF0YT5cbiAgLyoqXG4gICAqIFRoZSBwcmlvcml0eSBvZiB1bmRlZmluZWQgdmFsdWVzIHdoZW4gc29ydGluZyB0aGlzIGNvbHVtbi5cbiAgICogLSBgZmFsc2VgXG4gICAqICAgLSBVbmRlZmluZWQgdmFsdWVzIHdpbGwgYmUgY29uc2lkZXJlZCB0aWVkIGFuZCBuZWVkIHRvIGJlIHNvcnRlZCBieSB0aGUgbmV4dCBjb2x1bW4gZmlsdGVyIG9yIG9yaWdpbmFsIGluZGV4ICh3aGljaGV2ZXIgYXBwbGllcylcbiAgICogLSBgLTFgXG4gICAqICAgLSBVbmRlZmluZWQgdmFsdWVzIHdpbGwgYmUgc29ydGVkIHdpdGggaGlnaGVyIHByaW9yaXR5IChhc2NlbmRpbmcpIChpZiBhc2NlbmRpbmcsIHVuZGVmaW5lZCB3aWxsIGFwcGVhciBvbiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0KVxuICAgKiAtIGAxYFxuICAgKiAgIC0gVW5kZWZpbmVkIHZhbHVlcyB3aWxsIGJlIHNvcnRlZCB3aXRoIGxvd2VyIHByaW9yaXR5IChkZXNjZW5kaW5nKSAoaWYgYXNjZW5kaW5nLCB1bmRlZmluZWQgd2lsbCBhcHBlYXIgb24gdGhlIGVuZCBvZiB0aGUgbGlzdClcbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI3NvcnR1bmRlZmluZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgc29ydFVuZGVmaW5lZD86IGZhbHNlIHwgLTEgfCAxIHwgJ2ZpcnN0JyB8ICdsYXN0J1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNvcnRpbmdDb2x1bW48VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoaXMgY29sdW1uIGZyb20gdGhlIHRhYmxlJ3Mgc29ydGluZyBzdGF0ZVxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjY2xlYXJzb3J0aW5nKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIGNsZWFyU29ydGluZzogKCkgPT4gdm9pZFxuICAvKipcbiAgICogUmV0dXJucyBhIHNvcnQgZGlyZWN0aW9uIGF1dG9tYXRpY2FsbHkgaW5mZXJyZWQgYmFzZWQgb24gdGhlIGNvbHVtbnMgdmFsdWVzLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZ2V0YXV0b3NvcnRkaXIpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgZ2V0QXV0b1NvcnREaXI6ICgpID0+IFNvcnREaXJlY3Rpb25cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzb3J0aW5nIGZ1bmN0aW9uIGF1dG9tYXRpY2FsbHkgaW5mZXJyZWQgYmFzZWQgb24gdGhlIGNvbHVtbnMgdmFsdWVzLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZ2V0YXV0b3NvcnRpbmdmbilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICBnZXRBdXRvU29ydGluZ0ZuOiAoKSA9PiBTb3J0aW5nRm48VERhdGE+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBjb2x1bW4gY2FuIGJlIG11bHRpLXNvcnRlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI2dldGNhbm11bHRpc29ydClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICBnZXRDYW5NdWx0aVNvcnQ6ICgpID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGlzIGNvbHVtbiBjYW4gYmUgc29ydGVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZ2V0Y2Fuc29ydClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICBnZXRDYW5Tb3J0OiAoKSA9PiBib29sZWFuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBkaXJlY3Rpb24gdGhhdCBzaG91bGQgYmUgdXNlZCB3aGVuIHNvcnRpbmcgdGhpcyBjb2x1bW4uXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvc29ydGluZyNnZXRmaXJzdHNvcnRkaXIpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgZ2V0Rmlyc3RTb3J0RGlyOiAoKSA9PiBTb3J0RGlyZWN0aW9uXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHNvcnQgZGlyZWN0aW9uIG9mIHRoaXMgY29sdW1uLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZ2V0aXNzb3J0ZWQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgZ2V0SXNTb3J0ZWQ6ICgpID0+IGZhbHNlIHwgU29ydERpcmVjdGlvblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbmV4dCBzb3J0aW5nIG9yZGVyLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZ2V0bmV4dHNvcnRpbmdvcmRlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICBnZXROZXh0U29ydGluZ09yZGVyOiAoKSA9PiBTb3J0RGlyZWN0aW9uIHwgZmFsc2VcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoaXMgY29sdW1uJ3Mgc29ydGluZyB3aXRoaW4gdGhlIHNvcnRpbmcgc3RhdGVcbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI2dldHNvcnRpbmRleClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICBnZXRTb3J0SW5kZXg6ICgpID0+IG51bWJlclxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVzb2x2ZWQgc29ydGluZyBmdW5jdGlvbiB0byBiZSB1c2VkIGZvciB0aGlzIGNvbHVtblxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZ2V0c29ydGluZ2ZuKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIGdldFNvcnRpbmdGbjogKCkgPT4gU29ydGluZ0ZuPFREYXRhPlxuICAvKipcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gdG9nZ2xlIHRoaXMgY29sdW1uJ3Mgc29ydGluZyBzdGF0ZS4gVGhpcyBpcyB1c2VmdWwgZm9yIGF0dGFjaGluZyBhIGNsaWNrIGhhbmRsZXIgdG8gdGhlIGNvbHVtbiBoZWFkZXIuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvc29ydGluZyNnZXR0b2dnbGVzb3J0aW5naGFuZGxlcilcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICBnZXRUb2dnbGVTb3J0aW5nSGFuZGxlcjogKCkgPT4gdW5kZWZpbmVkIHwgKChldmVudDogdW5rbm93bikgPT4gdm9pZClcbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhpcyBjb2x1bW5zIHNvcnRpbmcgc3RhdGUuIElmIGBkZXNjYCBpcyBwcm92aWRlZCwgaXQgd2lsbCBmb3JjZSB0aGUgc29ydCBkaXJlY3Rpb24gdG8gdGhhdCB2YWx1ZS4gSWYgYGlzTXVsdGlgIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGFkZGl0aXZpdHkgbXVsdGktc29ydCB0aGUgY29sdW1uIChvciB0b2dnbGUgaXQgaWYgaXQgaXMgYWxyZWFkeSBzb3J0ZWQpLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjdG9nZ2xlc29ydGluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICB0b2dnbGVTb3J0aW5nOiAoZGVzYz86IGJvb2xlYW4sIGlzTXVsdGk/OiBib29sZWFuKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBTb3J0aW5nT3B0aW9uc0Jhc2Uge1xuICAvKipcbiAgICogRW5hYmxlcy9kaXNhYmxlcyB0aGUgYWJpbGl0eSB0byByZW1vdmUgbXVsdGktc29ydHNcbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI2VuYWJsZW11bHRpcmVtb3ZlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIGVuYWJsZU11bHRpUmVtb3ZlPzogYm9vbGVhblxuICAvKipcbiAgICogRW5hYmxlcy9EaXNhYmxlcyBtdWx0aS1zb3J0aW5nIGZvciB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvc29ydGluZyNlbmFibGVtdWx0aXNvcnQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgZW5hYmxlTXVsdGlTb3J0PzogYm9vbGVhblxuICAvKipcbiAgICogRW5hYmxlcy9EaXNhYmxlcyBzb3J0aW5nIGZvciB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvc29ydGluZyNlbmFibGVzb3J0aW5nKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIGVuYWJsZVNvcnRpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBFbmFibGVzL0Rpc2FibGVzIHRoZSBhYmlsaXR5IHRvIHJlbW92ZSBzb3J0aW5nIGZvciB0aGUgdGFibGUuXG4gICAqIC0gSWYgYHRydWVgIHRoZW4gY2hhbmdpbmcgc29ydCBvcmRlciB3aWxsIGNpcmNsZSBsaWtlOiAnbm9uZScgLT4gJ2Rlc2MnIC0+ICdhc2MnIC0+ICdub25lJyAtPiAuLi5cbiAgICogLSBJZiBgZmFsc2VgIHRoZW4gY2hhbmdpbmcgc29ydCBvcmRlciB3aWxsIGNpcmNsZSBsaWtlOiAnbm9uZScgLT4gJ2Rlc2MnIC0+ICdhc2MnIC0+ICdkZXNjJyAtPiAnYXNjJyAtPiAuLi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI2VuYWJsZXNvcnRpbmdyZW1vdmFsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIGVuYWJsZVNvcnRpbmdSZW1vdmFsPzogYm9vbGVhblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJldHJpZXZlIHRoZSBzb3J0ZWQgcm93IG1vZGVsLiBJZiB1c2luZyBzZXJ2ZXItc2lkZSBzb3J0aW5nLCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCByZXF1aXJlZC4gVG8gdXNlIGNsaWVudC1zaWRlIHNvcnRpbmcsIHBhc3MgdGhlIGV4cG9ydGVkIGBnZXRTb3J0ZWRSb3dNb2RlbCgpYCBmcm9tIHlvdXIgYWRhcHRlciB0byB5b3VyIHRhYmxlIG9yIGltcGxlbWVudCB5b3VyIG93bi5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI2dldHNvcnRlZHJvd21vZGVsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIGdldFNvcnRlZFJvd01vZGVsPzogKHRhYmxlOiBUYWJsZTxhbnk+KSA9PiAoKSA9PiBSb3dNb2RlbDxhbnk+XG4gIC8qKlxuICAgKiBQYXNzIGEgY3VzdG9tIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSBpZiBhIG11bHRpLXNvcnQgZXZlbnQgc2hvdWxkIGJlIHRyaWdnZXJlZC4gSXQgaXMgcGFzc2VkIHRoZSBldmVudCBmcm9tIHRoZSBzb3J0IHRvZ2dsZSBoYW5kbGVyIGFuZCBzaG91bGQgcmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgc2hvdWxkIHRyaWdnZXIgYSBtdWx0aS1zb3J0LlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjaXNtdWx0aXNvcnRldmVudClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICBpc011bHRpU29ydEV2ZW50PzogKGU6IHVua25vd24pID0+IGJvb2xlYW5cbiAgLyoqXG4gICAqIEVuYWJsZXMgbWFudWFsIHNvcnRpbmcgZm9yIHRoZSB0YWJsZS4gSWYgdGhpcyBpcyBgdHJ1ZWAsIHlvdSB3aWxsIGJlIGV4cGVjdGVkIHRvIHNvcnQgeW91ciBkYXRhIGJlZm9yZSBpdCBpcyBwYXNzZWQgdG8gdGhlIHRhYmxlLiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3UgYXJlIGRvaW5nIHNlcnZlci1zaWRlIHNvcnRpbmcuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvc29ydGluZyNtYW51YWxzb3J0aW5nKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIG1hbnVhbFNvcnRpbmc/OiBib29sZWFuXG4gIC8qKlxuICAgKiBTZXQgYSBtYXhpbXVtIG51bWJlciBvZiBjb2x1bW5zIHRoYXQgY2FuIGJlIG11bHRpLXNvcnRlZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI21heG11bHRpc29ydGNvbGNvdW50KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIG1heE11bHRpU29ydENvbENvdW50PzogbnVtYmVyXG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGB1cGRhdGVyRm5gIHdoZW4gYHN0YXRlLnNvcnRpbmdgIGNoYW5nZXMuIFRoaXMgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IGludGVybmFsIHN0YXRlIG1hbmFnZW1lbnQsIHNvIHlvdSB3aWxsIG5lZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlIGVpdGhlciBmdWxseSBvciBwYXJ0aWFsbHkgb3V0c2lkZSBvZiB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvc29ydGluZyNvbnNvcnRpbmdjaGFuZ2UpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgb25Tb3J0aW5nQ2hhbmdlPzogT25DaGFuZ2VGbjxTb3J0aW5nU3RhdGU+XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGFsbCBzb3J0cyB3aWxsIGRlZmF1bHQgdG8gZGVzY2VuZGluZyBhcyB0aGVpciBmaXJzdCB0b2dnbGUgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvZmVhdHVyZXMvc29ydGluZyNzb3J0ZGVzY2ZpcnN0KVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvc29ydGluZylcbiAgICovXG4gIHNvcnREZXNjRmlyc3Q/OiBib29sZWFuXG59XG5cbnR5cGUgUmVzb2x2ZWRTb3J0aW5nRm5zID0ga2V5b2YgU29ydGluZ0ZucyBleHRlbmRzIG5ldmVyXG4gID8ge1xuICAgICAgc29ydGluZ0Zucz86IFJlY29yZDxzdHJpbmcsIFNvcnRpbmdGbjxhbnk+PlxuICAgIH1cbiAgOiB7XG4gICAgICBzb3J0aW5nRm5zOiBSZWNvcmQ8a2V5b2YgU29ydGluZ0ZucywgU29ydGluZ0ZuPGFueT4+XG4gICAgfVxuXG5leHBvcnQgaW50ZXJmYWNlIFNvcnRpbmdPcHRpb25zPFREYXRhIGV4dGVuZHMgUm93RGF0YT5cbiAgZXh0ZW5kcyBTb3J0aW5nT3B0aW9uc0Jhc2UsXG4gICAgUmVzb2x2ZWRTb3J0aW5nRm5zIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgU29ydGluZ0luc3RhbmNlPFREYXRhIGV4dGVuZHMgUm93RGF0YT4ge1xuICBfZ2V0U29ydGVkUm93TW9kZWw/OiAoKSA9PiBSb3dNb2RlbDxURGF0YT5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJvdyBtb2RlbCBmb3IgdGhlIHRhYmxlIGJlZm9yZSBhbnkgc29ydGluZyBoYXMgYmVlbiBhcHBsaWVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZ2V0cHJlc29ydGVkcm93bW9kZWwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgZ2V0UHJlU29ydGVkUm93TW9kZWw6ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm93IG1vZGVsIGZvciB0aGUgdGFibGUgYWZ0ZXIgc29ydGluZyBoYXMgYmVlbiBhcHBsaWVkLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2ZlYXR1cmVzL3NvcnRpbmcjZ2V0c29ydGVkcm93bW9kZWwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgZ2V0U29ydGVkUm93TW9kZWw6ICgpID0+IFJvd01vZGVsPFREYXRhPlxuICAvKipcbiAgICogUmVzZXRzIHRoZSAqKnNvcnRpbmcqKiBzdGF0ZSB0byBgaW5pdGlhbFN0YXRlLnNvcnRpbmdgLCBvciBgdHJ1ZWAgY2FuIGJlIHBhc3NlZCB0byBmb3JjZSBhIGRlZmF1bHQgYmxhbmsgc3RhdGUgcmVzZXQgdG8gYFtdYC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI3Jlc2V0c29ydGluZylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3NvcnRpbmcpXG4gICAqL1xuICByZXNldFNvcnRpbmc6IChkZWZhdWx0U3RhdGU/OiBib29sZWFuKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBTZXRzIG9yIHVwZGF0ZXMgdGhlIGBzdGF0ZS5zb3J0aW5nYCBzdGF0ZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9mZWF0dXJlcy9zb3J0aW5nI3NldHNvcnRpbmcpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS9zb3J0aW5nKVxuICAgKi9cbiAgc2V0U29ydGluZzogKHVwZGF0ZXI6IFVwZGF0ZXI8U29ydGluZ1N0YXRlPikgPT4gdm9pZFxufVxuXG4vL1xuXG5leHBvcnQgY29uc3QgUm93U29ydGluZzogVGFibGVGZWF0dXJlID0ge1xuICBnZXRJbml0aWFsU3RhdGU6IChzdGF0ZSk6IFNvcnRpbmdUYWJsZVN0YXRlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc29ydGluZzogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdENvbHVtbkRlZjogPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oKTogU29ydGluZ0NvbHVtbkRlZjxURGF0YT4gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzb3J0aW5nRm46ICdhdXRvJyxcbiAgICAgIHNvcnRVbmRlZmluZWQ6IDEsXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRPcHRpb25zOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgICB0YWJsZTogVGFibGU8VERhdGE+XG4gICk6IFNvcnRpbmdPcHRpb25zPFREYXRhPiA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uU29ydGluZ0NoYW5nZTogbWFrZVN0YXRlVXBkYXRlcignc29ydGluZycsIHRhYmxlKSxcbiAgICAgIGlzTXVsdGlTb3J0RXZlbnQ6IChlOiB1bmtub3duKSA9PiB7XG4gICAgICAgIHJldHVybiAoZSBhcyBNb3VzZUV2ZW50KS5zaGlmdEtleVxuICAgICAgfSxcbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlQ29sdW1uOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhLCBUVmFsdWU+KFxuICAgIGNvbHVtbjogQ29sdW1uPFREYXRhLCBUVmFsdWU+LFxuICAgIHRhYmxlOiBUYWJsZTxURGF0YT5cbiAgKTogdm9pZCA9PiB7XG4gICAgY29sdW1uLmdldEF1dG9Tb3J0aW5nRm4gPSAoKSA9PiB7XG4gICAgICBjb25zdCBmaXJzdFJvd3MgPSB0YWJsZS5nZXRGaWx0ZXJlZFJvd01vZGVsKCkuZmxhdFJvd3Muc2xpY2UoMTApXG5cbiAgICAgIGxldCBpc1N0cmluZyA9IGZhbHNlXG5cbiAgICAgIGZvciAoY29uc3Qgcm93IG9mIGZpcnN0Um93cykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJvdz8uZ2V0VmFsdWUoY29sdW1uLmlkKVxuXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAgICAgICByZXR1cm4gc29ydGluZ0Zucy5kYXRldGltZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpc1N0cmluZyA9IHRydWVcblxuICAgICAgICAgIGlmICh2YWx1ZS5zcGxpdChyZVNwbGl0QWxwaGFOdW1lcmljKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gc29ydGluZ0Zucy5hbHBoYW51bWVyaWNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzb3J0aW5nRm5zLnRleHRcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNvcnRpbmdGbnMuYmFzaWNcbiAgICB9XG4gICAgY29sdW1uLmdldEF1dG9Tb3J0RGlyID0gKCkgPT4ge1xuICAgICAgY29uc3QgZmlyc3RSb3cgPSB0YWJsZS5nZXRGaWx0ZXJlZFJvd01vZGVsKCkuZmxhdFJvd3NbMF1cblxuICAgICAgY29uc3QgdmFsdWUgPSBmaXJzdFJvdz8uZ2V0VmFsdWUoY29sdW1uLmlkKVxuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gJ2FzYydcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICdkZXNjJ1xuICAgIH1cbiAgICBjb2x1bW4uZ2V0U29ydGluZ0ZuID0gKCkgPT4ge1xuICAgICAgaWYgKCFjb2x1bW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oY29sdW1uLmNvbHVtbkRlZi5zb3J0aW5nRm4pXG4gICAgICAgID8gY29sdW1uLmNvbHVtbkRlZi5zb3J0aW5nRm5cbiAgICAgICAgOiBjb2x1bW4uY29sdW1uRGVmLnNvcnRpbmdGbiA9PT0gJ2F1dG8nXG4gICAgICAgICAgPyBjb2x1bW4uZ2V0QXV0b1NvcnRpbmdGbigpXG4gICAgICAgICAgOiB0YWJsZS5vcHRpb25zLnNvcnRpbmdGbnM/Lltjb2x1bW4uY29sdW1uRGVmLnNvcnRpbmdGbiBhcyBzdHJpbmddID8/XG4gICAgICAgICAgICBzb3J0aW5nRm5zW2NvbHVtbi5jb2x1bW5EZWYuc29ydGluZ0ZuIGFzIEJ1aWx0SW5Tb3J0aW5nRm5dXG4gICAgfVxuICAgIGNvbHVtbi50b2dnbGVTb3J0aW5nID0gKGRlc2MsIG11bHRpKSA9PiB7XG4gICAgICAvLyBpZiAoY29sdW1uLmNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAvLyAgIGNvbHVtbi5jb2x1bW5zLmZvckVhY2goKGMsIGkpID0+IHtcbiAgICAgIC8vICAgICBpZiAoYy5pZCkge1xuICAgICAgLy8gICAgICAgdGFibGUudG9nZ2xlQ29sdW1uU29ydGluZyhjLmlkLCB1bmRlZmluZWQsIG11bHRpIHx8ICEhaSlcbiAgICAgIC8vICAgICB9XG4gICAgICAvLyAgIH0pXG4gICAgICAvLyAgIHJldHVyblxuICAgICAgLy8gfVxuXG4gICAgICAvLyB0aGlzIG5lZWRzIHRvIGJlIG91dHNpZGUgb2YgdGFibGUuc2V0U29ydGluZyB0byBiZSBpbiBzeW5jIHdpdGggcmVyZW5kZXJcbiAgICAgIGNvbnN0IG5leHRTb3J0aW5nT3JkZXIgPSBjb2x1bW4uZ2V0TmV4dFNvcnRpbmdPcmRlcigpXG4gICAgICBjb25zdCBoYXNNYW51YWxWYWx1ZSA9IHR5cGVvZiBkZXNjICE9PSAndW5kZWZpbmVkJyAmJiBkZXNjICE9PSBudWxsXG5cbiAgICAgIHRhYmxlLnNldFNvcnRpbmcob2xkID0+IHtcbiAgICAgICAgLy8gRmluZCBhbnkgZXhpc3Rpbmcgc29ydGluZyBmb3IgdGhpcyBjb2x1bW5cbiAgICAgICAgY29uc3QgZXhpc3RpbmdTb3J0aW5nID0gb2xkPy5maW5kKGQgPT4gZC5pZCA9PT0gY29sdW1uLmlkKVxuICAgICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gb2xkPy5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBjb2x1bW4uaWQpXG5cbiAgICAgICAgbGV0IG5ld1NvcnRpbmc6IFNvcnRpbmdTdGF0ZSA9IFtdXG5cbiAgICAgICAgLy8gV2hhdCBzaG91bGQgd2UgZG8gd2l0aCB0aGlzIHNvcnQgYWN0aW9uP1xuICAgICAgICBsZXQgc29ydEFjdGlvbjogJ2FkZCcgfCAncmVtb3ZlJyB8ICd0b2dnbGUnIHwgJ3JlcGxhY2UnXG4gICAgICAgIGxldCBuZXh0RGVzYyA9IGhhc01hbnVhbFZhbHVlID8gZGVzYyA6IG5leHRTb3J0aW5nT3JkZXIgPT09ICdkZXNjJ1xuXG4gICAgICAgIC8vIE11bHRpLW1vZGVcbiAgICAgICAgaWYgKG9sZD8ubGVuZ3RoICYmIGNvbHVtbi5nZXRDYW5NdWx0aVNvcnQoKSAmJiBtdWx0aSkge1xuICAgICAgICAgIGlmIChleGlzdGluZ1NvcnRpbmcpIHtcbiAgICAgICAgICAgIHNvcnRBY3Rpb24gPSAndG9nZ2xlJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3J0QWN0aW9uID0gJ2FkZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm9ybWFsIG1vZGVcbiAgICAgICAgICBpZiAob2xkPy5sZW5ndGggJiYgZXhpc3RpbmdJbmRleCAhPT0gb2xkLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHNvcnRBY3Rpb24gPSAncmVwbGFjZSdcbiAgICAgICAgICB9IGVsc2UgaWYgKGV4aXN0aW5nU29ydGluZykge1xuICAgICAgICAgICAgc29ydEFjdGlvbiA9ICd0b2dnbGUnXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNvcnRBY3Rpb24gPSAncmVwbGFjZSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgdG9nZ2xlIHN0YXRlcyB0aGF0IHdpbGwgcmVtb3ZlIHRoZSBzb3J0aW5nXG4gICAgICAgIGlmIChzb3J0QWN0aW9uID09PSAndG9nZ2xlJykge1xuICAgICAgICAgIC8vIElmIHdlIGFyZSBcImFjdHVhbGx5XCIgdG9nZ2xpbmcgKG5vdCBhIG1hbnVhbCBzZXQgdmFsdWUpLCBzaG91bGQgd2UgcmVtb3ZlIHRoZSBzb3J0aW5nP1xuICAgICAgICAgIGlmICghaGFzTWFudWFsVmFsdWUpIHtcbiAgICAgICAgICAgIC8vIElzIG91ciBpbnRlbnRpb24gdG8gcmVtb3ZlP1xuICAgICAgICAgICAgaWYgKCFuZXh0U29ydGluZ09yZGVyKSB7XG4gICAgICAgICAgICAgIHNvcnRBY3Rpb24gPSAncmVtb3ZlJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0QWN0aW9uID09PSAnYWRkJykge1xuICAgICAgICAgIG5ld1NvcnRpbmcgPSBbXG4gICAgICAgICAgICAuLi5vbGQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiBjb2x1bW4uaWQsXG4gICAgICAgICAgICAgIGRlc2M6IG5leHREZXNjLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdXG4gICAgICAgICAgLy8gVGFrZSBsYXRlc3QgbiBjb2x1bW5zXG4gICAgICAgICAgbmV3U29ydGluZy5zcGxpY2UoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgbmV3U29ydGluZy5sZW5ndGggLVxuICAgICAgICAgICAgICAodGFibGUub3B0aW9ucy5tYXhNdWx0aVNvcnRDb2xDb3VudCA/PyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUilcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSBpZiAoc29ydEFjdGlvbiA9PT0gJ3RvZ2dsZScpIHtcbiAgICAgICAgICAvLyBUaGlzIGZsaXBzIChvciBzZXRzKSB0aGVcbiAgICAgICAgICBuZXdTb3J0aW5nID0gb2xkLm1hcChkID0+IHtcbiAgICAgICAgICAgIGlmIChkLmlkID09PSBjb2x1bW4uaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5kLFxuICAgICAgICAgICAgICAgIGRlc2M6IG5leHREZXNjLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZFxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSBpZiAoc29ydEFjdGlvbiA9PT0gJ3JlbW92ZScpIHtcbiAgICAgICAgICBuZXdTb3J0aW5nID0gb2xkLmZpbHRlcihkID0+IGQuaWQgIT09IGNvbHVtbi5pZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdTb3J0aW5nID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogY29sdW1uLmlkLFxuICAgICAgICAgICAgICBkZXNjOiBuZXh0RGVzYyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1NvcnRpbmdcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29sdW1uLmdldEZpcnN0U29ydERpciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHNvcnREZXNjRmlyc3QgPVxuICAgICAgICBjb2x1bW4uY29sdW1uRGVmLnNvcnREZXNjRmlyc3QgPz9cbiAgICAgICAgdGFibGUub3B0aW9ucy5zb3J0RGVzY0ZpcnN0ID8/XG4gICAgICAgIGNvbHVtbi5nZXRBdXRvU29ydERpcigpID09PSAnZGVzYydcbiAgICAgIHJldHVybiBzb3J0RGVzY0ZpcnN0ID8gJ2Rlc2MnIDogJ2FzYydcbiAgICB9XG5cbiAgICBjb2x1bW4uZ2V0TmV4dFNvcnRpbmdPcmRlciA9IChtdWx0aT86IGJvb2xlYW4pID0+IHtcbiAgICAgIGNvbnN0IGZpcnN0U29ydERpcmVjdGlvbiA9IGNvbHVtbi5nZXRGaXJzdFNvcnREaXIoKVxuICAgICAgY29uc3QgaXNTb3J0ZWQgPSBjb2x1bW4uZ2V0SXNTb3J0ZWQoKVxuXG4gICAgICBpZiAoIWlzU29ydGVkKSB7XG4gICAgICAgIHJldHVybiBmaXJzdFNvcnREaXJlY3Rpb25cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBpc1NvcnRlZCAhPT0gZmlyc3RTb3J0RGlyZWN0aW9uICYmXG4gICAgICAgICh0YWJsZS5vcHRpb25zLmVuYWJsZVNvcnRpbmdSZW1vdmFsID8/IHRydWUpICYmIC8vIElmIGVuYWJsZVNvcnRSZW1vdmUsIGVuYWJsZSBpbiBnZW5lcmFsXG4gICAgICAgIChtdWx0aSA/IHRhYmxlLm9wdGlvbnMuZW5hYmxlTXVsdGlSZW1vdmUgPz8gdHJ1ZSA6IHRydWUpIC8vIElmIG11bHRpLCBkb24ndCBhbGxvdyBpZiBlbmFibGVNdWx0aVJlbW92ZSkpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTb3J0ZWQgPT09ICdkZXNjJyA/ICdhc2MnIDogJ2Rlc2MnXG4gICAgfVxuXG4gICAgY29sdW1uLmdldENhblNvcnQgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoY29sdW1uLmNvbHVtbkRlZi5lbmFibGVTb3J0aW5nID8/IHRydWUpICYmXG4gICAgICAgICh0YWJsZS5vcHRpb25zLmVuYWJsZVNvcnRpbmcgPz8gdHJ1ZSkgJiZcbiAgICAgICAgISFjb2x1bW4uYWNjZXNzb3JGblxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbHVtbi5nZXRDYW5NdWx0aVNvcnQgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjb2x1bW4uY29sdW1uRGVmLmVuYWJsZU11bHRpU29ydCA/P1xuICAgICAgICB0YWJsZS5vcHRpb25zLmVuYWJsZU11bHRpU29ydCA/P1xuICAgICAgICAhIWNvbHVtbi5hY2Nlc3NvckZuXG4gICAgICApXG4gICAgfVxuXG4gICAgY29sdW1uLmdldElzU29ydGVkID0gKCkgPT4ge1xuICAgICAgY29uc3QgY29sdW1uU29ydCA9IHRhYmxlLmdldFN0YXRlKCkuc29ydGluZz8uZmluZChkID0+IGQuaWQgPT09IGNvbHVtbi5pZClcblxuICAgICAgcmV0dXJuICFjb2x1bW5Tb3J0ID8gZmFsc2UgOiBjb2x1bW5Tb3J0LmRlc2MgPyAnZGVzYycgOiAnYXNjJ1xuICAgIH1cblxuICAgIGNvbHVtbi5nZXRTb3J0SW5kZXggPSAoKSA9PlxuICAgICAgdGFibGUuZ2V0U3RhdGUoKS5zb3J0aW5nPy5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBjb2x1bW4uaWQpID8/IC0xXG5cbiAgICBjb2x1bW4uY2xlYXJTb3J0aW5nID0gKCkgPT4ge1xuICAgICAgLy9jbGVhciBzb3J0aW5nIGZvciBqdXN0IDEgY29sdW1uXG4gICAgICB0YWJsZS5zZXRTb3J0aW5nKG9sZCA9PlxuICAgICAgICBvbGQ/Lmxlbmd0aCA/IG9sZC5maWx0ZXIoZCA9PiBkLmlkICE9PSBjb2x1bW4uaWQpIDogW11cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb2x1bW4uZ2V0VG9nZ2xlU29ydGluZ0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjYW5Tb3J0ID0gY29sdW1uLmdldENhblNvcnQoKVxuXG4gICAgICByZXR1cm4gKGU6IHVua25vd24pID0+IHtcbiAgICAgICAgaWYgKCFjYW5Tb3J0KSByZXR1cm5cbiAgICAgICAgOyhlIGFzIGFueSkucGVyc2lzdD8uKClcbiAgICAgICAgY29sdW1uLnRvZ2dsZVNvcnRpbmc/LihcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgY29sdW1uLmdldENhbk11bHRpU29ydCgpID8gdGFibGUub3B0aW9ucy5pc011bHRpU29ydEV2ZW50Py4oZSkgOiBmYWxzZVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGNyZWF0ZVRhYmxlOiA8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPih0YWJsZTogVGFibGU8VERhdGE+KTogdm9pZCA9PiB7XG4gICAgdGFibGUuc2V0U29ydGluZyA9IHVwZGF0ZXIgPT4gdGFibGUub3B0aW9ucy5vblNvcnRpbmdDaGFuZ2U/Lih1cGRhdGVyKVxuICAgIHRhYmxlLnJlc2V0U29ydGluZyA9IGRlZmF1bHRTdGF0ZSA9PiB7XG4gICAgICB0YWJsZS5zZXRTb3J0aW5nKGRlZmF1bHRTdGF0ZSA/IFtdIDogdGFibGUuaW5pdGlhbFN0YXRlPy5zb3J0aW5nID8/IFtdKVxuICAgIH1cbiAgICB0YWJsZS5nZXRQcmVTb3J0ZWRSb3dNb2RlbCA9ICgpID0+IHRhYmxlLmdldEdyb3VwZWRSb3dNb2RlbCgpXG4gICAgdGFibGUuZ2V0U29ydGVkUm93TW9kZWwgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRhYmxlLl9nZXRTb3J0ZWRSb3dNb2RlbCAmJiB0YWJsZS5vcHRpb25zLmdldFNvcnRlZFJvd01vZGVsKSB7XG4gICAgICAgIHRhYmxlLl9nZXRTb3J0ZWRSb3dNb2RlbCA9IHRhYmxlLm9wdGlvbnMuZ2V0U29ydGVkUm93TW9kZWwodGFibGUpXG4gICAgICB9XG5cbiAgICAgIGlmICh0YWJsZS5vcHRpb25zLm1hbnVhbFNvcnRpbmcgfHwgIXRhYmxlLl9nZXRTb3J0ZWRSb3dNb2RlbCkge1xuICAgICAgICByZXR1cm4gdGFibGUuZ2V0UHJlU29ydGVkUm93TW9kZWwoKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFibGUuX2dldFNvcnRlZFJvd01vZGVsKClcbiAgICB9XG4gIH0sXG59XG4iLCJpbXBvcnQgeyBmdW5jdGlvbmFsVXBkYXRlLCBnZXRNZW1vT3B0aW9ucywgbWVtbywgUmVxdWlyZWRLZXlzIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmltcG9ydCB7XG4gIFVwZGF0ZXIsXG4gIFRhYmxlT3B0aW9uc1Jlc29sdmVkLFxuICBUYWJsZVN0YXRlLFxuICBUYWJsZSxcbiAgSW5pdGlhbFRhYmxlU3RhdGUsXG4gIFJvdyxcbiAgQ29sdW1uLFxuICBSb3dNb2RlbCxcbiAgQ29sdW1uRGVmLFxuICBUYWJsZU9wdGlvbnMsXG4gIFJvd0RhdGEsXG4gIFRhYmxlTWV0YSxcbiAgQ29sdW1uRGVmUmVzb2x2ZWQsXG4gIEdyb3VwQ29sdW1uRGVmLFxuICBUYWJsZUZlYXR1cmUsXG59IGZyb20gJy4uL3R5cGVzJ1xuXG4vL1xuaW1wb3J0IHsgY3JlYXRlQ29sdW1uIH0gZnJvbSAnLi9jb2x1bW4nXG5pbXBvcnQgeyBIZWFkZXJzIH0gZnJvbSAnLi9oZWFkZXJzJ1xuLy9cblxuaW1wb3J0IHsgQ29sdW1uRmFjZXRpbmcgfSBmcm9tICcuLi9mZWF0dXJlcy9Db2x1bW5GYWNldGluZydcbmltcG9ydCB7IENvbHVtbkZpbHRlcmluZyB9IGZyb20gJy4uL2ZlYXR1cmVzL0NvbHVtbkZpbHRlcmluZydcbmltcG9ydCB7IENvbHVtbkdyb3VwaW5nIH0gZnJvbSAnLi4vZmVhdHVyZXMvQ29sdW1uR3JvdXBpbmcnXG5pbXBvcnQgeyBDb2x1bW5PcmRlcmluZyB9IGZyb20gJy4uL2ZlYXR1cmVzL0NvbHVtbk9yZGVyaW5nJ1xuaW1wb3J0IHsgQ29sdW1uUGlubmluZyB9IGZyb20gJy4uL2ZlYXR1cmVzL0NvbHVtblBpbm5pbmcnXG5pbXBvcnQgeyBDb2x1bW5TaXppbmcgfSBmcm9tICcuLi9mZWF0dXJlcy9Db2x1bW5TaXppbmcnXG5pbXBvcnQgeyBDb2x1bW5WaXNpYmlsaXR5IH0gZnJvbSAnLi4vZmVhdHVyZXMvQ29sdW1uVmlzaWJpbGl0eSdcbmltcG9ydCB7IEdsb2JhbEZhY2V0aW5nIH0gZnJvbSAnLi4vZmVhdHVyZXMvR2xvYmFsRmFjZXRpbmcnXG5pbXBvcnQgeyBHbG9iYWxGaWx0ZXJpbmcgfSBmcm9tICcuLi9mZWF0dXJlcy9HbG9iYWxGaWx0ZXJpbmcnXG5pbXBvcnQgeyBSb3dFeHBhbmRpbmcgfSBmcm9tICcuLi9mZWF0dXJlcy9Sb3dFeHBhbmRpbmcnXG5pbXBvcnQgeyBSb3dQYWdpbmF0aW9uIH0gZnJvbSAnLi4vZmVhdHVyZXMvUm93UGFnaW5hdGlvbidcbmltcG9ydCB7IFJvd1Bpbm5pbmcgfSBmcm9tICcuLi9mZWF0dXJlcy9Sb3dQaW5uaW5nJ1xuaW1wb3J0IHsgUm93U2VsZWN0aW9uIH0gZnJvbSAnLi4vZmVhdHVyZXMvUm93U2VsZWN0aW9uJ1xuaW1wb3J0IHsgUm93U29ydGluZyB9IGZyb20gJy4uL2ZlYXR1cmVzL1Jvd1NvcnRpbmcnXG5cbmNvbnN0IGJ1aWx0SW5GZWF0dXJlcyA9IFtcbiAgSGVhZGVycyxcbiAgQ29sdW1uVmlzaWJpbGl0eSxcbiAgQ29sdW1uT3JkZXJpbmcsXG4gIENvbHVtblBpbm5pbmcsXG4gIENvbHVtbkZhY2V0aW5nLFxuICBDb2x1bW5GaWx0ZXJpbmcsXG4gIEdsb2JhbEZhY2V0aW5nLCAvL2RlcGVuZHMgb24gQ29sdW1uRmFjZXRpbmdcbiAgR2xvYmFsRmlsdGVyaW5nLCAvL2RlcGVuZHMgb24gQ29sdW1uRmlsdGVyaW5nXG4gIFJvd1NvcnRpbmcsXG4gIENvbHVtbkdyb3VwaW5nLCAvL2RlcGVuZHMgb24gUm93U29ydGluZ1xuICBSb3dFeHBhbmRpbmcsXG4gIFJvd1BhZ2luYXRpb24sXG4gIFJvd1Bpbm5pbmcsXG4gIFJvd1NlbGVjdGlvbixcbiAgQ29sdW1uU2l6aW5nLFxuXSBhcyBjb25zdFxuXG4vL1xuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVUYWJsZVN0YXRlIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZU9wdGlvbnM8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPiB7XG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBleHRyYSBmZWF0dXJlcyB0aGF0IHlvdSBjYW4gYWRkIHRvIHRoZSB0YWJsZSBpbnN0YW5jZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI19mZWF0dXJlcylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIF9mZWF0dXJlcz86IFRhYmxlRmVhdHVyZVtdXG4gIC8qKlxuICAgKiBTZXQgdGhpcyBvcHRpb24gdG8gb3ZlcnJpZGUgYW55IG9mIHRoZSBgYXV0b1Jlc2V0Li4uYCBmZWF0dXJlIG9wdGlvbnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNhdXRvcmVzZXRhbGwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBhdXRvUmVzZXRBbGw/OiBib29sZWFuXG4gIC8qKlxuICAgKiBUaGUgYXJyYXkgb2YgY29sdW1uIGRlZnMgdG8gdXNlIGZvciB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNjb2x1bW5zKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgY29sdW1uczogQ29sdW1uRGVmPFREYXRhLCBhbnk+W11cbiAgLyoqXG4gICAqIFRoZSBkYXRhIGZvciB0aGUgdGFibGUgdG8gZGlzcGxheS4gVGhpcyBhcnJheSBzaG91bGQgbWF0Y2ggdGhlIHR5cGUgeW91IHByb3ZpZGVkIHRvIGB0YWJsZS5zZXRSb3dUeXBlPC4uLj5gLiBDb2x1bW5zIGNhbiBhY2Nlc3MgdGhpcyBkYXRhIHZpYSBzdHJpbmcvaW5kZXggb3IgYSBmdW5jdGlvbmFsIGFjY2Vzc29yLiBXaGVuIHRoZSBgZGF0YWAgb3B0aW9uIGNoYW5nZXMgcmVmZXJlbmNlLCB0aGUgdGFibGUgd2lsbCByZXByb2Nlc3MgdGhlIGRhdGEuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNkYXRhKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgZGF0YTogVERhdGFbXVxuICAvKipcbiAgICogU2V0IHRoaXMgb3B0aW9uIHRvIGB0cnVlYCB0byBvdXRwdXQgYWxsIGRlYnVnZ2luZyBpbmZvcm1hdGlvbiB0byB0aGUgY29uc29sZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI2RlYnVnYWxsKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgZGVidWdBbGw/OiBib29sZWFuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyBvcHRpb24gdG8gYHRydWVgIHRvIG91dHB1dCBjZWxsIGRlYnVnZ2luZyBpbmZvcm1hdGlvbiB0byB0aGUgY29uc29sZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI2RlYnVnY2VsbHNdXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBkZWJ1Z0NlbGxzPzogYm9vbGVhblxuICAvKipcbiAgICogU2V0IHRoaXMgb3B0aW9uIHRvIGB0cnVlYCB0byBvdXRwdXQgY29sdW1uIGRlYnVnZ2luZyBpbmZvcm1hdGlvbiB0byB0aGUgY29uc29sZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI2RlYnVnY29sdW1ucylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIGRlYnVnQ29sdW1ucz86IGJvb2xlYW5cbiAgLyoqXG4gICAqIFNldCB0aGlzIG9wdGlvbiB0byBgdHJ1ZWAgdG8gb3V0cHV0IGhlYWRlciBkZWJ1Z2dpbmcgaW5mb3JtYXRpb24gdG8gdGhlIGNvbnNvbGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNkZWJ1Z2hlYWRlcnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBkZWJ1Z0hlYWRlcnM/OiBib29sZWFuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyBvcHRpb24gdG8gYHRydWVgIHRvIG91dHB1dCByb3cgZGVidWdnaW5nIGluZm9ybWF0aW9uIHRvIHRoZSBjb25zb2xlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjZGVidWdyb3dzKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgZGVidWdSb3dzPzogYm9vbGVhblxuICAvKipcbiAgICogU2V0IHRoaXMgb3B0aW9uIHRvIGB0cnVlYCB0byBvdXRwdXQgdGFibGUgZGVidWdnaW5nIGluZm9ybWF0aW9uIHRvIHRoZSBjb25zb2xlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjZGVidWd0YWJsZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIGRlYnVnVGFibGU/OiBib29sZWFuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGNvbHVtbiBvcHRpb25zIHRvIHVzZSBmb3IgYWxsIGNvbHVtbiBkZWZzIHN1cHBsaWVkIHRvIHRoZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI2RlZmF1bHRjb2x1bW4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBkZWZhdWx0Q29sdW1uPzogUGFydGlhbDxDb2x1bW5EZWY8VERhdGEsIHVua25vd24+PlxuICAvKipcbiAgICogVGhpcyByZXF1aXJlZCBvcHRpb24gaXMgYSBmYWN0b3J5IGZvciBhIGZ1bmN0aW9uIHRoYXQgY29tcHV0ZXMgYW5kIHJldHVybnMgdGhlIGNvcmUgcm93IG1vZGVsIGZvciB0aGUgdGFibGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNnZXRjb3Jlcm93bW9kZWwpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBnZXRDb3JlUm93TW9kZWw6ICh0YWJsZTogVGFibGU8YW55PikgPT4gKCkgPT4gUm93TW9kZWw8YW55PlxuICAvKipcbiAgICogVGhpcyBvcHRpb25hbCBmdW5jdGlvbiBpcyB1c2VkIHRvIGRlcml2ZSBhIHVuaXF1ZSBJRCBmb3IgYW55IGdpdmVuIHJvdy4gSWYgbm90IHByb3ZpZGVkIHRoZSByb3dzIGluZGV4IGlzIHVzZWQgKG5lc3RlZCByb3dzIGpvaW4gdG9nZXRoZXIgd2l0aCBgLmAgdXNpbmcgdGhlaXIgZ3JhbmRwYXJlbnRzJyBpbmRleCBlZy4gYGluZGV4LmluZGV4LmluZGV4YCkuIElmIHlvdSBuZWVkIHRvIGlkZW50aWZ5IGluZGl2aWR1YWwgcm93cyB0aGF0IGFyZSBvcmlnaW5hdGluZyBmcm9tIGFueSBzZXJ2ZXItc2lkZSBvcGVyYXRpb25zLCBpdCdzIHN1Z2dlc3RlZCB5b3UgdXNlIHRoaXMgZnVuY3Rpb24gdG8gcmV0dXJuIGFuIElEIHRoYXQgbWFrZXMgc2Vuc2UgcmVnYXJkbGVzcyBvZiBuZXR3b3JrIElPL2FtYmlndWl0eSBlZy4gYSB1c2VySWQsIHRhc2tJZCwgZGF0YWJhc2UgSUQgZmllbGQsIGV0Yy5cbiAgICogQGV4YW1wbGUgZ2V0Um93SWQ6IHJvdyA9PiByb3cudXNlcklkXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNnZXRyb3dpZClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIGdldFJvd0lkPzogKG9yaWdpbmFsUm93OiBURGF0YSwgaW5kZXg6IG51bWJlciwgcGFyZW50PzogUm93PFREYXRhPikgPT4gc3RyaW5nXG4gIC8qKlxuICAgKiBUaGlzIG9wdGlvbmFsIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYWNjZXNzIHRoZSBzdWIgcm93cyBmb3IgYW55IGdpdmVuIHJvdy4gSWYgeW91IGFyZSB1c2luZyBuZXN0ZWQgcm93cywgeW91IHdpbGwgbmVlZCB0byB1c2UgdGhpcyBmdW5jdGlvbiB0byByZXR1cm4gdGhlIHN1YiByb3dzIG9iamVjdCAob3IgdW5kZWZpbmVkKSBmcm9tIHRoZSByb3cuXG4gICAqIEBleGFtcGxlIGdldFN1YlJvd3M6IHJvdyA9PiByb3cuc3ViUm93c1xuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjZ2V0c3Vicm93cylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIGdldFN1YlJvd3M/OiAob3JpZ2luYWxSb3c6IFREYXRhLCBpbmRleDogbnVtYmVyKSA9PiB1bmRlZmluZWQgfCBURGF0YVtdXG4gIC8qKlxuICAgKiBVc2UgdGhpcyBvcHRpb24gdG8gb3B0aW9uYWxseSBwYXNzIGluaXRpYWwgc3RhdGUgdG8gdGhlIHRhYmxlLiBUaGlzIHN0YXRlIHdpbGwgYmUgdXNlZCB3aGVuIHJlc2V0dGluZyB2YXJpb3VzIHRhYmxlIHN0YXRlcyBlaXRoZXIgYXV0b21hdGljYWxseSBieSB0aGUgdGFibGUgKGVnLiBgb3B0aW9ucy5hdXRvUmVzZXRQYWdlSW5kZXhgKSBvciB2aWEgZnVuY3Rpb25zIGxpa2UgYHRhYmxlLnJlc2V0Um93U2VsZWN0aW9uKClgLiBNb3N0IHJlc2V0IGZ1bmN0aW9uIGFsbG93IHlvdSBvcHRpb25hbGx5IHBhc3MgYSBmbGFnIHRvIHJlc2V0IHRvIGEgYmxhbmsvZGVmYXVsdCBzdGF0ZSBpbnN0ZWFkIG9mIHRoZSBpbml0aWFsIHN0YXRlLlxuICAgKlxuICAgKiBUYWJsZSBzdGF0ZSB3aWxsIG5vdCBiZSByZXNldCB3aGVuIHRoaXMgb2JqZWN0IGNoYW5nZXMsIHdoaWNoIGFsc28gbWVhbnMgdGhhdCB0aGUgaW5pdGlhbCBzdGF0ZSBvYmplY3QgZG9lcyBub3QgbmVlZCB0byBiZSBzdGFibGUuXG4gICAqXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNpbml0aWFsc3RhdGUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBpbml0aWFsU3RhdGU/OiBJbml0aWFsVGFibGVTdGF0ZVxuICAvKipcbiAgICogVGhpcyBvcHRpb24gaXMgdXNlZCB0byBvcHRpb25hbGx5IGltcGxlbWVudCB0aGUgbWVyZ2luZyBvZiB0YWJsZSBvcHRpb25zLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjbWVyZ2VvcHRpb25zKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgbWVyZ2VPcHRpb25zPzogKFxuICAgIGRlZmF1bHRPcHRpb25zOiBUYWJsZU9wdGlvbnM8VERhdGE+LFxuICAgIG9wdGlvbnM6IFBhcnRpYWw8VGFibGVPcHRpb25zPFREYXRhPj5cbiAgKSA9PiBUYWJsZU9wdGlvbnM8VERhdGE+XG4gIC8qKlxuICAgKiBZb3UgY2FuIHBhc3MgYW55IG9iamVjdCB0byBgb3B0aW9ucy5tZXRhYCBhbmQgYWNjZXNzIGl0IGFueXdoZXJlIHRoZSBgdGFibGVgIGlzIGF2YWlsYWJsZSB2aWEgYHRhYmxlLm9wdGlvbnMubWV0YWAuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNtZXRhKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgbWV0YT86IFRhYmxlTWV0YTxURGF0YT5cbiAgLyoqXG4gICAqIFRoZSBgb25TdGF0ZUNoYW5nZWAgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIG9wdGlvbmFsbHkgbGlzdGVuIHRvIHN0YXRlIGNoYW5nZXMgd2l0aGluIHRoZSB0YWJsZS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI29uc3RhdGVjaGFuZ2UpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBvblN0YXRlQ2hhbmdlOiAodXBkYXRlcjogVXBkYXRlcjxUYWJsZVN0YXRlPikgPT4gdm9pZFxuICAvKipcbiAgICogVmFsdWUgdXNlZCB3aGVuIHRoZSBkZXNpcmVkIHZhbHVlIGlzIG5vdCBmb3VuZCBpbiB0aGUgZGF0YS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI3JlbmRlcmZhbGxiYWNrdmFsdWUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICByZW5kZXJGYWxsYmFja1ZhbHVlOiBhbnlcbiAgLyoqXG4gICAqIFRoZSBgc3RhdGVgIG9wdGlvbiBjYW4gYmUgdXNlZCB0byBvcHRpb25hbGx5IF9jb250cm9sXyBwYXJ0IG9yIGFsbCBvZiB0aGUgdGFibGUgc3RhdGUuIFRoZSBzdGF0ZSB5b3UgcGFzcyBoZXJlIHdpbGwgbWVyZ2Ugd2l0aCBhbmQgb3ZlcndyaXRlIHRoZSBpbnRlcm5hbCBhdXRvbWF0aWNhbGx5LW1hbmFnZWQgc3RhdGUgdG8gcHJvZHVjZSB0aGUgZmluYWwgc3RhdGUgZm9yIHRoZSB0YWJsZS4gWW91IGNhbiBhbHNvIGxpc3RlbiB0byBzdGF0ZSBjaGFuZ2VzIHZpYSB0aGUgYG9uU3RhdGVDaGFuZ2VgIG9wdGlvbi5cbiAgICogPiBOb3RlOiBBbnkgc3RhdGUgcGFzc2VkIGluIGhlcmUgd2lsbCBvdmVycmlkZSBib3RoIHRoZSBpbnRlcm5hbCBzdGF0ZSBhbmQgYW55IG90aGVyIGBpbml0aWFsU3RhdGVgIHlvdSBwcm92aWRlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjc3RhdGUpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBzdGF0ZTogUGFydGlhbDxUYWJsZVN0YXRlPlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVJbnN0YW5jZTxURGF0YSBleHRlbmRzIFJvd0RhdGE+IHtcbiAgX2ZlYXR1cmVzOiByZWFkb25seSBUYWJsZUZlYXR1cmVbXVxuICBfZ2V0QWxsRmxhdENvbHVtbnNCeUlkOiAoKSA9PiBSZWNvcmQ8c3RyaW5nLCBDb2x1bW48VERhdGEsIHVua25vd24+PlxuICBfZ2V0Q29sdW1uRGVmczogKCkgPT4gQ29sdW1uRGVmPFREYXRhLCB1bmtub3duPltdXG4gIF9nZXRDb3JlUm93TW9kZWw/OiAoKSA9PiBSb3dNb2RlbDxURGF0YT5cbiAgX2dldERlZmF1bHRDb2x1bW5EZWY6ICgpID0+IFBhcnRpYWw8Q29sdW1uRGVmPFREYXRhLCB1bmtub3duPj5cbiAgX2dldFJvd0lkOiAoXzogVERhdGEsIGluZGV4OiBudW1iZXIsIHBhcmVudD86IFJvdzxURGF0YT4pID0+IHN0cmluZ1xuICBfcXVldWU6IChjYjogKCkgPT4gdm9pZCkgPT4gdm9pZFxuICAvKipcbiAgICogUmV0dXJucyBhbGwgY29sdW1ucyBpbiB0aGUgdGFibGUgaW4gdGhlaXIgbm9ybWFsaXplZCBhbmQgbmVzdGVkIGhpZXJhcmNoeS5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI2dldGFsbGNvbHVtbnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBnZXRBbGxDb2x1bW5zOiAoKSA9PiBDb2x1bW48VERhdGEsIHVua25vd24+W11cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGNvbHVtbnMgaW4gdGhlIHRhYmxlIGZsYXR0ZW5lZCB0byBhIHNpbmdsZSBsZXZlbC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI2dldGFsbGZsYXRjb2x1bW5zKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgZ2V0QWxsRmxhdENvbHVtbnM6ICgpID0+IENvbHVtbjxURGF0YSwgdW5rbm93bj5bXVxuICAvKipcbiAgICogUmV0dXJucyBhbGwgbGVhZi1ub2RlIGNvbHVtbnMgaW4gdGhlIHRhYmxlIGZsYXR0ZW5lZCB0byBhIHNpbmdsZSBsZXZlbC4gVGhpcyBkb2VzIG5vdCBpbmNsdWRlIHBhcmVudCBjb2x1bW5zLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjZ2V0YWxsbGVhZmNvbHVtbnMpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBnZXRBbGxMZWFmQ29sdW1uczogKCkgPT4gQ29sdW1uPFREYXRhLCB1bmtub3duPltdXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2luZ2xlIGNvbHVtbiBieSBpdHMgSUQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNnZXRjb2x1bW4pXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBnZXRDb2x1bW46IChjb2x1bW5JZDogc3RyaW5nKSA9PiBDb2x1bW48VERhdGEsIHVua25vd24+IHwgdW5kZWZpbmVkXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb3JlIHJvdyBtb2RlbCBiZWZvcmUgYW55IHByb2Nlc3NpbmcgaGFzIGJlZW4gYXBwbGllZC5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI2dldGNvcmVyb3dtb2RlbClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIGdldENvcmVSb3dNb2RlbDogKCkgPT4gUm93TW9kZWw8VERhdGE+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb3cgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNnZXRyb3cpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICBnZXRSb3c6IChpZDogc3RyaW5nLCBzZWFyY2hBbGw/OiBib29sZWFuKSA9PiBSb3c8VERhdGE+XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmaW5hbCBtb2RlbCBhZnRlciBhbGwgcHJvY2Vzc2luZyBmcm9tIG90aGVyIHVzZWQgZmVhdHVyZXMgaGFzIGJlZW4gYXBwbGllZC4gVGhpcyBpcyB0aGUgcm93IG1vZGVsIHRoYXQgaXMgbW9zdCBjb21tb25seSB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNnZXRyb3dtb2RlbClcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIGdldFJvd01vZGVsOiAoKSA9PiBSb3dNb2RlbDxURGF0YT5cbiAgLyoqXG4gICAqIENhbGwgdGhpcyBmdW5jdGlvbiB0byBnZXQgdGhlIHRhYmxlJ3MgY3VycmVudCBzdGF0ZS4gSXQncyByZWNvbW1lbmRlZCB0byB1c2UgdGhpcyBmdW5jdGlvbiBhbmQgaXRzIHN0YXRlLCBlc3BlY2lhbGx5IHdoZW4gbWFuYWdpbmcgdGhlIHRhYmxlIHN0YXRlIG1hbnVhbGx5LiBJdCBpcyB0aGUgZXhhY3Qgc2FtZSBzdGF0ZSB1c2VkIGludGVybmFsbHkgYnkgdGhlIHRhYmxlIGZvciBldmVyeSBmZWF0dXJlIGFuZCBmdW5jdGlvbiBpdCBwcm92aWRlcy5cbiAgICogQGxpbmsgW0FQSSBEb2NzXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2FwaS9jb3JlL3RhYmxlI2dldHN0YXRlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgZ2V0U3RhdGU6ICgpID0+IFRhYmxlU3RhdGVcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIHJlc29sdmVkIGluaXRpYWwgc3RhdGUgb2YgdGhlIHRhYmxlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjaW5pdGlhbHN0YXRlKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgaW5pdGlhbFN0YXRlOiBUYWJsZVN0YXRlXG4gIC8qKlxuICAgKiBBIHJlYWQtb25seSByZWZlcmVuY2UgdG8gdGhlIHRhYmxlJ3MgY3VycmVudCBvcHRpb25zLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjb3B0aW9ucylcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIG9wdGlvbnM6IFJlcXVpcmVkS2V5czxUYWJsZU9wdGlvbnNSZXNvbHZlZDxURGF0YT4sICdzdGF0ZSc+XG4gIC8qKlxuICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gdG8gcmVzZXQgdGhlIHRhYmxlIHN0YXRlIHRvIHRoZSBpbml0aWFsIHN0YXRlLlxuICAgKiBAbGluayBbQVBJIERvY3NdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvYXBpL2NvcmUvdGFibGUjcmVzZXQpXG4gICAqIEBsaW5rIFtHdWlkZV0oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9ndWlkZS90YWJsZXMpXG4gICAqL1xuICByZXNldDogKCkgPT4gdm9pZFxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byB1cGRhdGUgdGhlIHRhYmxlIG9wdGlvbnMuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNzZXRvcHRpb25zKVxuICAgKiBAbGluayBbR3VpZGVdKGh0dHBzOi8vdGFuc3RhY2suY29tL3RhYmxlL3Y4L2RvY3MvZ3VpZGUvdGFibGVzKVxuICAgKi9cbiAgc2V0T3B0aW9uczogKG5ld09wdGlvbnM6IFVwZGF0ZXI8VGFibGVPcHRpb25zUmVzb2x2ZWQ8VERhdGE+PikgPT4gdm9pZFxuICAvKipcbiAgICogQ2FsbCB0aGlzIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgdGFibGUgc3RhdGUuXG4gICAqIEBsaW5rIFtBUEkgRG9jc10oaHR0cHM6Ly90YW5zdGFjay5jb20vdGFibGUvdjgvZG9jcy9hcGkvY29yZS90YWJsZSNzZXRzdGF0ZSlcbiAgICogQGxpbmsgW0d1aWRlXShodHRwczovL3RhbnN0YWNrLmNvbS90YWJsZS92OC9kb2NzL2d1aWRlL3RhYmxlcylcbiAgICovXG4gIHNldFN0YXRlOiAodXBkYXRlcjogVXBkYXRlcjxUYWJsZVN0YXRlPikgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGFibGU8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgb3B0aW9uczogVGFibGVPcHRpb25zUmVzb2x2ZWQ8VERhdGE+XG4pOiBUYWJsZTxURGF0YT4ge1xuICBpZiAoXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgIChvcHRpb25zLmRlYnVnQWxsIHx8IG9wdGlvbnMuZGVidWdUYWJsZSlcbiAgKSB7XG4gICAgY29uc29sZS5pbmZvKCdDcmVhdGluZyBUYWJsZSBJbnN0YW5jZS4uLicpXG4gIH1cblxuICBjb25zdCBfZmVhdHVyZXMgPSBbLi4uYnVpbHRJbkZlYXR1cmVzLCAuLi4ob3B0aW9ucy5fZmVhdHVyZXMgPz8gW10pXVxuXG4gIGxldCB0YWJsZSA9IHsgX2ZlYXR1cmVzIH0gYXMgdW5rbm93biBhcyBUYWJsZTxURGF0YT5cblxuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHRhYmxlLl9mZWF0dXJlcy5yZWR1Y2UoKG9iaiwgZmVhdHVyZSkgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iaiwgZmVhdHVyZS5nZXREZWZhdWx0T3B0aW9ucz8uKHRhYmxlKSlcbiAgfSwge30pIGFzIFRhYmxlT3B0aW9uc1Jlc29sdmVkPFREYXRhPlxuXG4gIGNvbnN0IG1lcmdlT3B0aW9ucyA9IChvcHRpb25zOiBUYWJsZU9wdGlvbnNSZXNvbHZlZDxURGF0YT4pID0+IHtcbiAgICBpZiAodGFibGUub3B0aW9ucy5tZXJnZU9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0YWJsZS5vcHRpb25zLm1lcmdlT3B0aW9ucyhkZWZhdWx0T3B0aW9ucywgb3B0aW9ucylcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNvcmVJbml0aWFsU3RhdGU6IENvcmVUYWJsZVN0YXRlID0ge31cblxuICBsZXQgaW5pdGlhbFN0YXRlID0ge1xuICAgIC4uLmNvcmVJbml0aWFsU3RhdGUsXG4gICAgLi4uKG9wdGlvbnMuaW5pdGlhbFN0YXRlID8/IHt9KSxcbiAgfSBhcyBUYWJsZVN0YXRlXG5cbiAgdGFibGUuX2ZlYXR1cmVzLmZvckVhY2goZmVhdHVyZSA9PiB7XG4gICAgaW5pdGlhbFN0YXRlID0gKGZlYXR1cmUuZ2V0SW5pdGlhbFN0YXRlPy4oaW5pdGlhbFN0YXRlKSA/P1xuICAgICAgaW5pdGlhbFN0YXRlKSBhcyBUYWJsZVN0YXRlXG4gIH0pXG5cbiAgY29uc3QgcXVldWVkOiAoKCkgPT4gdm9pZClbXSA9IFtdXG4gIGxldCBxdWV1ZWRUaW1lb3V0ID0gZmFsc2VcblxuICBjb25zdCBjb3JlSW5zdGFuY2U6IENvcmVJbnN0YW5jZTxURGF0YT4gPSB7XG4gICAgX2ZlYXR1cmVzLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9LFxuICAgIGluaXRpYWxTdGF0ZSxcbiAgICBfcXVldWU6IGNiID0+IHtcbiAgICAgIHF1ZXVlZC5wdXNoKGNiKVxuXG4gICAgICBpZiAoIXF1ZXVlZFRpbWVvdXQpIHtcbiAgICAgICAgcXVldWVkVGltZW91dCA9IHRydWVcblxuICAgICAgICAvLyBTY2hlZHVsZSBhIG1pY3JvdGFzayB0byBydW4gdGhlIHF1ZXVlZCBjYWxsYmFja3MgYWZ0ZXJcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgY2FsbCBzdGFjayAocmVuZGVyLCBldGMpIGhhcyBmaW5pc2hlZC5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB3aGlsZSAocXVldWVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICBxdWV1ZWQuc2hpZnQoKSEoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWVkVGltZW91dCA9IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNldDogKCkgPT4ge1xuICAgICAgdGFibGUuc2V0U3RhdGUodGFibGUuaW5pdGlhbFN0YXRlKVxuICAgIH0sXG4gICAgc2V0T3B0aW9uczogdXBkYXRlciA9PiB7XG4gICAgICBjb25zdCBuZXdPcHRpb25zID0gZnVuY3Rpb25hbFVwZGF0ZSh1cGRhdGVyLCB0YWJsZS5vcHRpb25zKVxuICAgICAgdGFibGUub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhuZXdPcHRpb25zKSBhcyBSZXF1aXJlZEtleXM8XG4gICAgICAgIFRhYmxlT3B0aW9uc1Jlc29sdmVkPFREYXRhPixcbiAgICAgICAgJ3N0YXRlJ1xuICAgICAgPlxuICAgIH0sXG5cbiAgICBnZXRTdGF0ZTogKCkgPT4ge1xuICAgICAgcmV0dXJuIHRhYmxlLm9wdGlvbnMuc3RhdGUgYXMgVGFibGVTdGF0ZVxuICAgIH0sXG5cbiAgICBzZXRTdGF0ZTogKHVwZGF0ZXI6IFVwZGF0ZXI8VGFibGVTdGF0ZT4pID0+IHtcbiAgICAgIHRhYmxlLm9wdGlvbnMub25TdGF0ZUNoYW5nZT8uKHVwZGF0ZXIpXG4gICAgfSxcblxuICAgIF9nZXRSb3dJZDogKHJvdzogVERhdGEsIGluZGV4OiBudW1iZXIsIHBhcmVudD86IFJvdzxURGF0YT4pID0+XG4gICAgICB0YWJsZS5vcHRpb25zLmdldFJvd0lkPy4ocm93LCBpbmRleCwgcGFyZW50KSA/P1xuICAgICAgYCR7cGFyZW50ID8gW3BhcmVudC5pZCwgaW5kZXhdLmpvaW4oJy4nKSA6IGluZGV4fWAsXG5cbiAgICBnZXRDb3JlUm93TW9kZWw6ICgpID0+IHtcbiAgICAgIGlmICghdGFibGUuX2dldENvcmVSb3dNb2RlbCkge1xuICAgICAgICB0YWJsZS5fZ2V0Q29yZVJvd01vZGVsID0gdGFibGUub3B0aW9ucy5nZXRDb3JlUm93TW9kZWwodGFibGUpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWJsZS5fZ2V0Q29yZVJvd01vZGVsISgpXG4gICAgfSxcblxuICAgIC8vIFRoZSBmaW5hbCBjYWxscyBzdGFydCBhdCB0aGUgYm90dG9tIG9mIHRoZSBtb2RlbCxcbiAgICAvLyBleHBhbmRlZCByb3dzLCB3aGljaCB0aGVuIHdvcmsgdGhlaXIgd2F5IHVwXG5cbiAgICBnZXRSb3dNb2RlbDogKCkgPT4ge1xuICAgICAgcmV0dXJuIHRhYmxlLmdldFBhZ2luYXRpb25Sb3dNb2RlbCgpXG4gICAgfSxcbiAgICAvL2luIG5leHQgdmVyc2lvbiwgd2Ugc2hvdWxkIGp1c3QgcGFzcyBpbiB0aGUgcm93IG1vZGVsIGFzIHRoZSBvcHRpb25hbCAybmQgYXJnXG4gICAgZ2V0Um93OiAoaWQ6IHN0cmluZywgc2VhcmNoQWxsPzogYm9vbGVhbikgPT4ge1xuICAgICAgbGV0IHJvdyA9IChcbiAgICAgICAgc2VhcmNoQWxsID8gdGFibGUuZ2V0UHJlUGFnaW5hdGlvblJvd01vZGVsKCkgOiB0YWJsZS5nZXRSb3dNb2RlbCgpXG4gICAgICApLnJvd3NCeUlkW2lkXVxuXG4gICAgICBpZiAoIXJvdykge1xuICAgICAgICByb3cgPSB0YWJsZS5nZXRDb3JlUm93TW9kZWwoKS5yb3dzQnlJZFtpZF1cbiAgICAgICAgaWYgKCFyb3cpIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBnZXRSb3cgY291bGQgbm90IGZpbmQgcm93IHdpdGggSUQ6ICR7aWR9YClcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcm93XG4gICAgfSxcbiAgICBfZ2V0RGVmYXVsdENvbHVtbkRlZjogbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5vcHRpb25zLmRlZmF1bHRDb2x1bW5dLFxuICAgICAgZGVmYXVsdENvbHVtbiA9PiB7XG4gICAgICAgIGRlZmF1bHRDb2x1bW4gPSAoZGVmYXVsdENvbHVtbiA/PyB7fSkgYXMgUGFydGlhbDxcbiAgICAgICAgICBDb2x1bW5EZWY8VERhdGEsIHVua25vd24+XG4gICAgICAgID5cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGhlYWRlcjogcHJvcHMgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRDb2x1bW5EZWYgPSBwcm9wcy5oZWFkZXIuY29sdW1uXG4gICAgICAgICAgICAgIC5jb2x1bW5EZWYgYXMgQ29sdW1uRGVmUmVzb2x2ZWQ8VERhdGE+XG5cbiAgICAgICAgICAgIGlmIChyZXNvbHZlZENvbHVtbkRlZi5hY2Nlc3NvcktleSkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRDb2x1bW5EZWYuYWNjZXNzb3JLZXlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc29sdmVkQ29sdW1uRGVmLmFjY2Vzc29yRm4pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkQ29sdW1uRGVmLmlkXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBmb290ZXI6IHByb3BzID0+IHByb3BzLmhlYWRlci5jb2x1bW4uaWQsXG4gICAgICAgICAgY2VsbDogcHJvcHMgPT4gcHJvcHMucmVuZGVyVmFsdWU8YW55PigpPy50b1N0cmluZz8uKCkgPz8gbnVsbCxcbiAgICAgICAgICAuLi50YWJsZS5fZmVhdHVyZXMucmVkdWNlKChvYmosIGZlYXR1cmUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iaiwgZmVhdHVyZS5nZXREZWZhdWx0Q29sdW1uRGVmPy4oKSlcbiAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgLi4uZGVmYXVsdENvbHVtbixcbiAgICAgICAgfSBhcyBQYXJ0aWFsPENvbHVtbkRlZjxURGF0YSwgdW5rbm93bj4+XG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnMob3B0aW9ucywgJ2RlYnVnQ29sdW1ucycsICdfZ2V0RGVmYXVsdENvbHVtbkRlZicpXG4gICAgKSxcblxuICAgIF9nZXRDb2x1bW5EZWZzOiAoKSA9PiB0YWJsZS5vcHRpb25zLmNvbHVtbnMsXG5cbiAgICBnZXRBbGxDb2x1bW5zOiBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLl9nZXRDb2x1bW5EZWZzKCldLFxuICAgICAgY29sdW1uRGVmcyA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3Vyc2VDb2x1bW5zID0gKFxuICAgICAgICAgIGNvbHVtbkRlZnM6IENvbHVtbkRlZjxURGF0YSwgdW5rbm93bj5bXSxcbiAgICAgICAgICBwYXJlbnQ/OiBDb2x1bW48VERhdGEsIHVua25vd24+LFxuICAgICAgICAgIGRlcHRoID0gMFxuICAgICAgICApOiBDb2x1bW48VERhdGEsIHVua25vd24+W10gPT4ge1xuICAgICAgICAgIHJldHVybiBjb2x1bW5EZWZzLm1hcChjb2x1bW5EZWYgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29sdW1uID0gY3JlYXRlQ29sdW1uKHRhYmxlLCBjb2x1bW5EZWYsIGRlcHRoLCBwYXJlbnQpXG5cbiAgICAgICAgICAgIGNvbnN0IGdyb3VwaW5nQ29sdW1uRGVmID0gY29sdW1uRGVmIGFzIEdyb3VwQ29sdW1uRGVmPFxuICAgICAgICAgICAgICBURGF0YSxcbiAgICAgICAgICAgICAgdW5rbm93blxuICAgICAgICAgICAgPlxuXG4gICAgICAgICAgICBjb2x1bW4uY29sdW1ucyA9IGdyb3VwaW5nQ29sdW1uRGVmLmNvbHVtbnNcbiAgICAgICAgICAgICAgPyByZWN1cnNlQ29sdW1ucyhncm91cGluZ0NvbHVtbkRlZi5jb2x1bW5zLCBjb2x1bW4sIGRlcHRoICsgMSlcbiAgICAgICAgICAgICAgOiBbXVxuXG4gICAgICAgICAgICByZXR1cm4gY29sdW1uXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWN1cnNlQ29sdW1ucyhjb2x1bW5EZWZzKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKG9wdGlvbnMsICdkZWJ1Z0NvbHVtbnMnLCAnZ2V0QWxsQ29sdW1ucycpXG4gICAgKSxcblxuICAgIGdldEFsbEZsYXRDb2x1bW5zOiBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldEFsbENvbHVtbnMoKV0sXG4gICAgICBhbGxDb2x1bW5zID0+IHtcbiAgICAgICAgcmV0dXJuIGFsbENvbHVtbnMuZmxhdE1hcChjb2x1bW4gPT4ge1xuICAgICAgICAgIHJldHVybiBjb2x1bW4uZ2V0RmxhdENvbHVtbnMoKVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKG9wdGlvbnMsICdkZWJ1Z0NvbHVtbnMnLCAnZ2V0QWxsRmxhdENvbHVtbnMnKVxuICAgICksXG5cbiAgICBfZ2V0QWxsRmxhdENvbHVtbnNCeUlkOiBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldEFsbEZsYXRDb2x1bW5zKCldLFxuICAgICAgZmxhdENvbHVtbnMgPT4ge1xuICAgICAgICByZXR1cm4gZmxhdENvbHVtbnMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIGNvbHVtbikgPT4ge1xuICAgICAgICAgICAgYWNjW2NvbHVtbi5pZF0gPSBjb2x1bW5cbiAgICAgICAgICAgIHJldHVybiBhY2NcbiAgICAgICAgICB9LFxuICAgICAgICAgIHt9IGFzIFJlY29yZDxzdHJpbmcsIENvbHVtbjxURGF0YSwgdW5rbm93bj4+XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyhvcHRpb25zLCAnZGVidWdDb2x1bW5zJywgJ2dldEFsbEZsYXRDb2x1bW5zQnlJZCcpXG4gICAgKSxcblxuICAgIGdldEFsbExlYWZDb2x1bW5zOiBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldEFsbENvbHVtbnMoKSwgdGFibGUuX2dldE9yZGVyQ29sdW1uc0ZuKCldLFxuICAgICAgKGFsbENvbHVtbnMsIG9yZGVyQ29sdW1ucykgPT4ge1xuICAgICAgICBsZXQgbGVhZkNvbHVtbnMgPSBhbGxDb2x1bW5zLmZsYXRNYXAoY29sdW1uID0+IGNvbHVtbi5nZXRMZWFmQ29sdW1ucygpKVxuICAgICAgICByZXR1cm4gb3JkZXJDb2x1bW5zKGxlYWZDb2x1bW5zKVxuICAgICAgfSxcbiAgICAgIGdldE1lbW9PcHRpb25zKG9wdGlvbnMsICdkZWJ1Z0NvbHVtbnMnLCAnZ2V0QWxsTGVhZkNvbHVtbnMnKVxuICAgICksXG5cbiAgICBnZXRDb2x1bW46IGNvbHVtbklkID0+IHtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IHRhYmxlLl9nZXRBbGxGbGF0Q29sdW1uc0J5SWQoKVtjb2x1bW5JZF1cblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWNvbHVtbikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbVGFibGVdIENvbHVtbiB3aXRoIGlkICcke2NvbHVtbklkfScgZG9lcyBub3QgZXhpc3QuYClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbHVtblxuICAgIH0sXG4gIH1cblxuICBPYmplY3QuYXNzaWduKHRhYmxlLCBjb3JlSW5zdGFuY2UpXG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRhYmxlLl9mZWF0dXJlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGFibGUuX2ZlYXR1cmVzW2luZGV4XVxuICAgIGZlYXR1cmU/LmNyZWF0ZVRhYmxlPy4odGFibGUpXG4gIH1cblxuICByZXR1cm4gdGFibGVcbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJvdyB9IGZyb20gJy4uL2NvcmUvcm93J1xuaW1wb3J0IHsgVGFibGUsIFJvdywgUm93TW9kZWwsIFJvd0RhdGEgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IGdldE1lbW9PcHRpb25zLCBtZW1vIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JlUm93TW9kZWw8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPigpOiAoXG4gIHRhYmxlOiBUYWJsZTxURGF0YT5cbikgPT4gKCkgPT4gUm93TW9kZWw8VERhdGE+IHtcbiAgcmV0dXJuIHRhYmxlID0+XG4gICAgbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5vcHRpb25zLmRhdGFdLFxuICAgICAgKFxuICAgICAgICBkYXRhXG4gICAgICApOiB7XG4gICAgICAgIHJvd3M6IFJvdzxURGF0YT5bXVxuICAgICAgICBmbGF0Um93czogUm93PFREYXRhPltdXG4gICAgICAgIHJvd3NCeUlkOiBSZWNvcmQ8c3RyaW5nLCBSb3c8VERhdGE+PlxuICAgICAgfSA9PiB7XG4gICAgICAgIGNvbnN0IHJvd01vZGVsOiBSb3dNb2RlbDxURGF0YT4gPSB7XG4gICAgICAgICAgcm93czogW10sXG4gICAgICAgICAgZmxhdFJvd3M6IFtdLFxuICAgICAgICAgIHJvd3NCeUlkOiB7fSxcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjY2Vzc1Jvd3MgPSAoXG4gICAgICAgICAgb3JpZ2luYWxSb3dzOiBURGF0YVtdLFxuICAgICAgICAgIGRlcHRoID0gMCxcbiAgICAgICAgICBwYXJlbnRSb3c/OiBSb3c8VERhdGE+XG4gICAgICAgICk6IFJvdzxURGF0YT5bXSA9PiB7XG4gICAgICAgICAgY29uc3Qgcm93cyA9IFtdIGFzIFJvdzxURGF0YT5bXVxuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmlnaW5hbFJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFRoaXMgY291bGQgYmUgYW4gZXhwZW5zaXZlIGNoZWNrIGF0IHNjYWxlLCBzbyB3ZSBzaG91bGQgbW92ZSBpdCBzb21ld2hlcmUgZWxzZSwgYnV0IHdoZXJlP1xuICAgICAgICAgICAgLy8gaWYgKCFpZCkge1xuICAgICAgICAgICAgLy8gICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgLy8gICAgIHRocm93IG5ldyBFcnJvcihgZ2V0Um93SWQgZXhwZWN0ZWQgYW4gSUQsIGJ1dCBnb3QgJHtpZH1gKVxuICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vIE1ha2UgdGhlIHJvd1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gY3JlYXRlUm93KFxuICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgICAgdGFibGUuX2dldFJvd0lkKG9yaWdpbmFsUm93c1tpXSEsIGksIHBhcmVudFJvdyksXG4gICAgICAgICAgICAgIG9yaWdpbmFsUm93c1tpXSEsXG4gICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHBhcmVudFJvdz8uaWRcbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBldmVyeSByb3cgaW4gYSBmbGF0IGFycmF5XG4gICAgICAgICAgICByb3dNb2RlbC5mbGF0Um93cy5wdXNoKHJvdylcbiAgICAgICAgICAgIC8vIEFsc28ga2VlcCB0cmFjayBvZiBldmVyeSByb3cgYnkgaXRzIElEXG4gICAgICAgICAgICByb3dNb2RlbC5yb3dzQnlJZFtyb3cuaWRdID0gcm93XG4gICAgICAgICAgICAvLyBQdXNoIHRhYmxlIHJvdyBpbnRvIHBhcmVudFxuICAgICAgICAgICAgcm93cy5wdXNoKHJvdylcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBvcmlnaW5hbCBzdWJyb3dzXG4gICAgICAgICAgICBpZiAodGFibGUub3B0aW9ucy5nZXRTdWJSb3dzKSB7XG4gICAgICAgICAgICAgIHJvdy5vcmlnaW5hbFN1YlJvd3MgPSB0YWJsZS5vcHRpb25zLmdldFN1YlJvd3MoXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxSb3dzW2ldISxcbiAgICAgICAgICAgICAgICBpXG4gICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAvLyBUaGVuIHJlY3Vyc2l2ZWx5IGFjY2VzcyB0aGVtXG4gICAgICAgICAgICAgIGlmIChyb3cub3JpZ2luYWxTdWJSb3dzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByb3cuc3ViUm93cyA9IGFjY2Vzc1Jvd3Mocm93Lm9yaWdpbmFsU3ViUm93cywgZGVwdGggKyAxLCByb3cpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcm93c1xuICAgICAgICB9XG5cbiAgICAgICAgcm93TW9kZWwucm93cyA9IGFjY2Vzc1Jvd3MoZGF0YSlcblxuICAgICAgICByZXR1cm4gcm93TW9kZWxcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdUYWJsZScsICdnZXRSb3dNb2RlbCcsICgpID0+XG4gICAgICAgIHRhYmxlLl9hdXRvUmVzZXRQYWdlSW5kZXgoKVxuICAgICAgKVxuICAgIClcbn1cbiIsImltcG9ydCB7IFRhYmxlLCBSb3csIFJvd01vZGVsLCBSb3dEYXRhIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhwYW5kZWRSb3dNb2RlbDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KCk6IChcbiAgdGFibGU6IFRhYmxlPFREYXRhPlxuKSA9PiAoKSA9PiBSb3dNb2RlbDxURGF0YT4ge1xuICByZXR1cm4gdGFibGUgPT5cbiAgICBtZW1vKFxuICAgICAgKCkgPT4gW1xuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLmV4cGFuZGVkLFxuICAgICAgICB0YWJsZS5nZXRQcmVFeHBhbmRlZFJvd01vZGVsKCksXG4gICAgICAgIHRhYmxlLm9wdGlvbnMucGFnaW5hdGVFeHBhbmRlZFJvd3MsXG4gICAgICBdLFxuICAgICAgKGV4cGFuZGVkLCByb3dNb2RlbCwgcGFnaW5hdGVFeHBhbmRlZFJvd3MpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFyb3dNb2RlbC5yb3dzLmxlbmd0aCB8fFxuICAgICAgICAgIChleHBhbmRlZCAhPT0gdHJ1ZSAmJiAhT2JqZWN0LmtleXMoZXhwYW5kZWQgPz8ge30pLmxlbmd0aClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHJvd01vZGVsXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBhZ2luYXRlRXhwYW5kZWRSb3dzKSB7XG4gICAgICAgICAgLy8gT25seSBleHBhbmQgcm93cyBhdCB0aGlzIHBvaW50IGlmIHRoZXkgYXJlIGJlaW5nIHBhZ2luYXRlZFxuICAgICAgICAgIHJldHVybiByb3dNb2RlbFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4cGFuZFJvd3Mocm93TW9kZWwpXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnVGFibGUnLCAnZ2V0RXhwYW5kZWRSb3dNb2RlbCcpXG4gICAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kUm93czxURGF0YSBleHRlbmRzIFJvd0RhdGE+KHJvd01vZGVsOiBSb3dNb2RlbDxURGF0YT4pIHtcbiAgY29uc3QgZXhwYW5kZWRSb3dzOiBSb3c8VERhdGE+W10gPSBbXVxuXG4gIGNvbnN0IGhhbmRsZVJvdyA9IChyb3c6IFJvdzxURGF0YT4pID0+IHtcbiAgICBleHBhbmRlZFJvd3MucHVzaChyb3cpXG5cbiAgICBpZiAocm93LnN1YlJvd3M/Lmxlbmd0aCAmJiByb3cuZ2V0SXNFeHBhbmRlZCgpKSB7XG4gICAgICByb3cuc3ViUm93cy5mb3JFYWNoKGhhbmRsZVJvdylcbiAgICB9XG4gIH1cblxuICByb3dNb2RlbC5yb3dzLmZvckVhY2goaGFuZGxlUm93KVxuXG4gIHJldHVybiB7XG4gICAgcm93czogZXhwYW5kZWRSb3dzLFxuICAgIGZsYXRSb3dzOiByb3dNb2RlbC5mbGF0Um93cyxcbiAgICByb3dzQnlJZDogcm93TW9kZWwucm93c0J5SWQsXG4gIH1cbn1cbiIsImltcG9ydCB7IFRhYmxlLCBSb3dEYXRhIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmFjZXRlZE1pbk1heFZhbHVlczxURGF0YSBleHRlbmRzIFJvd0RhdGE+KCk6IChcbiAgdGFibGU6IFRhYmxlPFREYXRhPixcbiAgY29sdW1uSWQ6IHN0cmluZ1xuKSA9PiAoKSA9PiB1bmRlZmluZWQgfCBbbnVtYmVyLCBudW1iZXJdIHtcbiAgcmV0dXJuICh0YWJsZSwgY29sdW1uSWQpID0+XG4gICAgbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5nZXRDb2x1bW4oY29sdW1uSWQpPy5nZXRGYWNldGVkUm93TW9kZWwoKV0sXG4gICAgICBmYWNldGVkUm93TW9kZWwgPT4ge1xuICAgICAgICBpZiAoIWZhY2V0ZWRSb3dNb2RlbCkgcmV0dXJuIHVuZGVmaW5lZFxuXG4gICAgICAgIGNvbnN0IHVuaXF1ZVZhbHVlcyA9IGZhY2V0ZWRSb3dNb2RlbC5mbGF0Um93c1xuICAgICAgICAgIC5mbGF0TWFwKGZsYXRSb3cgPT4gZmxhdFJvdy5nZXRVbmlxdWVWYWx1ZXMoY29sdW1uSWQpID8/IFtdKVxuICAgICAgICAgIC5tYXAoTnVtYmVyKVxuICAgICAgICAgIC5maWx0ZXIodmFsdWUgPT4gIU51bWJlci5pc05hTih2YWx1ZSkpXG5cbiAgICAgICAgaWYgKCF1bmlxdWVWYWx1ZXMubGVuZ3RoKSByZXR1cm5cblxuICAgICAgICBsZXQgZmFjZXRlZE1pblZhbHVlID0gdW5pcXVlVmFsdWVzWzBdIVxuICAgICAgICBsZXQgZmFjZXRlZE1heFZhbHVlID0gdW5pcXVlVmFsdWVzW3VuaXF1ZVZhbHVlcy5sZW5ndGggLSAxXSFcblxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHVuaXF1ZVZhbHVlcykge1xuICAgICAgICAgIGlmICh2YWx1ZSA8IGZhY2V0ZWRNaW5WYWx1ZSkgZmFjZXRlZE1pblZhbHVlID0gdmFsdWVcbiAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IGZhY2V0ZWRNYXhWYWx1ZSkgZmFjZXRlZE1heFZhbHVlID0gdmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbZmFjZXRlZE1pblZhbHVlLCBmYWNldGVkTWF4VmFsdWVdXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnVGFibGUnLCAnZ2V0RmFjZXRlZE1pbk1heFZhbHVlcycpXG4gICAgKVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlUm93IH0gZnJvbSAnLi4vY29yZS9yb3cnXG5pbXBvcnQgeyBSb3csIFJvd01vZGVsLCBUYWJsZSwgUm93RGF0YSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyUm93czxURGF0YSBleHRlbmRzIFJvd0RhdGE+KFxuICByb3dzOiBSb3c8VERhdGE+W10sXG4gIGZpbHRlclJvd0ltcGw6IChyb3c6IFJvdzxURGF0YT4pID0+IGFueSxcbiAgdGFibGU6IFRhYmxlPFREYXRhPlxuKSB7XG4gIGlmICh0YWJsZS5vcHRpb25zLmZpbHRlckZyb21MZWFmUm93cykge1xuICAgIHJldHVybiBmaWx0ZXJSb3dNb2RlbEZyb21MZWFmcyhyb3dzLCBmaWx0ZXJSb3dJbXBsLCB0YWJsZSlcbiAgfVxuXG4gIHJldHVybiBmaWx0ZXJSb3dNb2RlbEZyb21Sb290KHJvd3MsIGZpbHRlclJvd0ltcGwsIHRhYmxlKVxufVxuXG5mdW5jdGlvbiBmaWx0ZXJSb3dNb2RlbEZyb21MZWFmczxURGF0YSBleHRlbmRzIFJvd0RhdGE+KFxuICByb3dzVG9GaWx0ZXI6IFJvdzxURGF0YT5bXSxcbiAgZmlsdGVyUm93OiAocm93OiBSb3c8VERhdGE+KSA9PiBSb3c8VERhdGE+W10sXG4gIHRhYmxlOiBUYWJsZTxURGF0YT5cbik6IFJvd01vZGVsPFREYXRhPiB7XG4gIGNvbnN0IG5ld0ZpbHRlcmVkRmxhdFJvd3M6IFJvdzxURGF0YT5bXSA9IFtdXG4gIGNvbnN0IG5ld0ZpbHRlcmVkUm93c0J5SWQ6IFJlY29yZDxzdHJpbmcsIFJvdzxURGF0YT4+ID0ge31cbiAgY29uc3QgbWF4RGVwdGggPSB0YWJsZS5vcHRpb25zLm1heExlYWZSb3dGaWx0ZXJEZXB0aCA/PyAxMDBcblxuICBjb25zdCByZWN1cnNlRmlsdGVyUm93cyA9IChyb3dzVG9GaWx0ZXI6IFJvdzxURGF0YT5bXSwgZGVwdGggPSAwKSA9PiB7XG4gICAgY29uc3Qgcm93czogUm93PFREYXRhPltdID0gW11cblxuICAgIC8vIEZpbHRlciBmcm9tIGNoaWxkcmVuIHVwIGZpcnN0XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzVG9GaWx0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByb3cgPSByb3dzVG9GaWx0ZXJbaV0hXG5cbiAgICAgIGNvbnN0IG5ld1JvdyA9IGNyZWF0ZVJvdyhcbiAgICAgICAgdGFibGUsXG4gICAgICAgIHJvdy5pZCxcbiAgICAgICAgcm93Lm9yaWdpbmFsLFxuICAgICAgICByb3cuaW5kZXgsXG4gICAgICAgIHJvdy5kZXB0aCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICByb3cucGFyZW50SWRcbiAgICAgIClcbiAgICAgIG5ld1Jvdy5jb2x1bW5GaWx0ZXJzID0gcm93LmNvbHVtbkZpbHRlcnNcblxuICAgICAgaWYgKHJvdy5zdWJSb3dzPy5sZW5ndGggJiYgZGVwdGggPCBtYXhEZXB0aCkge1xuICAgICAgICBuZXdSb3cuc3ViUm93cyA9IHJlY3Vyc2VGaWx0ZXJSb3dzKHJvdy5zdWJSb3dzLCBkZXB0aCArIDEpXG4gICAgICAgIHJvdyA9IG5ld1Jvd1xuXG4gICAgICAgIGlmIChmaWx0ZXJSb3cocm93KSAmJiAhbmV3Um93LnN1YlJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgcm93cy5wdXNoKHJvdylcbiAgICAgICAgICBuZXdGaWx0ZXJlZFJvd3NCeUlkW3Jvdy5pZF0gPSByb3dcbiAgICAgICAgICBuZXdGaWx0ZXJlZEZsYXRSb3dzLnB1c2gocm93KVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyUm93KHJvdykgfHwgbmV3Um93LnN1YlJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgcm93cy5wdXNoKHJvdylcbiAgICAgICAgICBuZXdGaWx0ZXJlZFJvd3NCeUlkW3Jvdy5pZF0gPSByb3dcbiAgICAgICAgICBuZXdGaWx0ZXJlZEZsYXRSb3dzLnB1c2gocm93KVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvdyA9IG5ld1Jvd1xuICAgICAgICBpZiAoZmlsdGVyUm93KHJvdykpIHtcbiAgICAgICAgICByb3dzLnB1c2gocm93KVxuICAgICAgICAgIG5ld0ZpbHRlcmVkUm93c0J5SWRbcm93LmlkXSA9IHJvd1xuICAgICAgICAgIG5ld0ZpbHRlcmVkRmxhdFJvd3MucHVzaChyb3cpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcm93c1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByb3dzOiByZWN1cnNlRmlsdGVyUm93cyhyb3dzVG9GaWx0ZXIpLFxuICAgIGZsYXRSb3dzOiBuZXdGaWx0ZXJlZEZsYXRSb3dzLFxuICAgIHJvd3NCeUlkOiBuZXdGaWx0ZXJlZFJvd3NCeUlkLFxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbHRlclJvd01vZGVsRnJvbVJvb3Q8VERhdGEgZXh0ZW5kcyBSb3dEYXRhPihcbiAgcm93c1RvRmlsdGVyOiBSb3c8VERhdGE+W10sXG4gIGZpbHRlclJvdzogKHJvdzogUm93PFREYXRhPikgPT4gYW55LFxuICB0YWJsZTogVGFibGU8VERhdGE+XG4pOiBSb3dNb2RlbDxURGF0YT4ge1xuICBjb25zdCBuZXdGaWx0ZXJlZEZsYXRSb3dzOiBSb3c8VERhdGE+W10gPSBbXVxuICBjb25zdCBuZXdGaWx0ZXJlZFJvd3NCeUlkOiBSZWNvcmQ8c3RyaW5nLCBSb3c8VERhdGE+PiA9IHt9XG4gIGNvbnN0IG1heERlcHRoID0gdGFibGUub3B0aW9ucy5tYXhMZWFmUm93RmlsdGVyRGVwdGggPz8gMTAwXG5cbiAgLy8gRmlsdGVycyB0b3AgbGV2ZWwgYW5kIG5lc3RlZCByb3dzXG4gIGNvbnN0IHJlY3Vyc2VGaWx0ZXJSb3dzID0gKHJvd3NUb0ZpbHRlcjogUm93PFREYXRhPltdLCBkZXB0aCA9IDApID0+IHtcbiAgICAvLyBGaWx0ZXIgZnJvbSBwYXJlbnRzIGRvd253YXJkIGZpcnN0XG5cbiAgICBjb25zdCByb3dzOiBSb3c8VERhdGE+W10gPSBbXVxuXG4gICAgLy8gQXBwbHkgdGhlIGZpbHRlciB0byBhbnkgc3ViUm93c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93c1RvRmlsdGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcm93ID0gcm93c1RvRmlsdGVyW2ldIVxuXG4gICAgICBjb25zdCBwYXNzID0gZmlsdGVyUm93KHJvdylcblxuICAgICAgaWYgKHBhc3MpIHtcbiAgICAgICAgaWYgKHJvdy5zdWJSb3dzPy5sZW5ndGggJiYgZGVwdGggPCBtYXhEZXB0aCkge1xuICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IGNyZWF0ZVJvdyhcbiAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgcm93LmlkLFxuICAgICAgICAgICAgcm93Lm9yaWdpbmFsLFxuICAgICAgICAgICAgcm93LmluZGV4LFxuICAgICAgICAgICAgcm93LmRlcHRoLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgcm93LnBhcmVudElkXG4gICAgICAgICAgKVxuICAgICAgICAgIG5ld1Jvdy5zdWJSb3dzID0gcmVjdXJzZUZpbHRlclJvd3Mocm93LnN1YlJvd3MsIGRlcHRoICsgMSlcbiAgICAgICAgICByb3cgPSBuZXdSb3dcbiAgICAgICAgfVxuXG4gICAgICAgIHJvd3MucHVzaChyb3cpXG4gICAgICAgIG5ld0ZpbHRlcmVkRmxhdFJvd3MucHVzaChyb3cpXG4gICAgICAgIG5ld0ZpbHRlcmVkUm93c0J5SWRbcm93LmlkXSA9IHJvd1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByb3dzXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJvd3M6IHJlY3Vyc2VGaWx0ZXJSb3dzKHJvd3NUb0ZpbHRlciksXG4gICAgZmxhdFJvd3M6IG5ld0ZpbHRlcmVkRmxhdFJvd3MsXG4gICAgcm93c0J5SWQ6IG5ld0ZpbHRlcmVkUm93c0J5SWQsXG4gIH1cbn1cbiIsImltcG9ydCB7IFRhYmxlLCBSb3dNb2RlbCwgUm93LCBSb3dEYXRhIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgZmlsdGVyUm93cyB9IGZyb20gJy4vZmlsdGVyUm93c1V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmFjZXRlZFJvd01vZGVsPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oKTogKFxuICB0YWJsZTogVGFibGU8VERhdGE+LFxuICBjb2x1bW5JZDogc3RyaW5nXG4pID0+ICgpID0+IFJvd01vZGVsPFREYXRhPiB7XG4gIHJldHVybiAodGFibGUsIGNvbHVtbklkKSA9PlxuICAgIG1lbW8oXG4gICAgICAoKSA9PiBbXG4gICAgICAgIHRhYmxlLmdldFByZUZpbHRlcmVkUm93TW9kZWwoKSxcbiAgICAgICAgdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5GaWx0ZXJzLFxuICAgICAgICB0YWJsZS5nZXRTdGF0ZSgpLmdsb2JhbEZpbHRlcixcbiAgICAgICAgdGFibGUuZ2V0RmlsdGVyZWRSb3dNb2RlbCgpLFxuICAgICAgXSxcbiAgICAgIChwcmVSb3dNb2RlbCwgY29sdW1uRmlsdGVycywgZ2xvYmFsRmlsdGVyKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhcHJlUm93TW9kZWwucm93cy5sZW5ndGggfHxcbiAgICAgICAgICAoIWNvbHVtbkZpbHRlcnM/Lmxlbmd0aCAmJiAhZ2xvYmFsRmlsdGVyKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gcHJlUm93TW9kZWxcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbHRlcmFibGVJZHMgPSBbXG4gICAgICAgICAgLi4uY29sdW1uRmlsdGVycy5tYXAoZCA9PiBkLmlkKS5maWx0ZXIoZCA9PiBkICE9PSBjb2x1bW5JZCksXG4gICAgICAgICAgZ2xvYmFsRmlsdGVyID8gJ19fZ2xvYmFsX18nIDogdW5kZWZpbmVkLFxuICAgICAgICBdLmZpbHRlcihCb29sZWFuKSBhcyBzdHJpbmdbXVxuXG4gICAgICAgIGNvbnN0IGZpbHRlclJvd3NJbXBsID0gKHJvdzogUm93PFREYXRhPikgPT4ge1xuICAgICAgICAgIC8vIEhvcml6b250YWxseSBmaWx0ZXIgcm93cyB0aHJvdWdoIGVhY2ggY29sdW1uXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJhYmxlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocm93LmNvbHVtbkZpbHRlcnNbZmlsdGVyYWJsZUlkc1tpXSFdID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWx0ZXJSb3dzKHByZVJvd01vZGVsLnJvd3MsIGZpbHRlclJvd3NJbXBsLCB0YWJsZSlcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdUYWJsZScsICdnZXRGYWNldGVkUm93TW9kZWwnKVxuICAgIClcbn1cbiIsImltcG9ydCB7IFRhYmxlLCBSb3dEYXRhIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmFjZXRlZFVuaXF1ZVZhbHVlczxURGF0YSBleHRlbmRzIFJvd0RhdGE+KCk6IChcbiAgdGFibGU6IFRhYmxlPFREYXRhPixcbiAgY29sdW1uSWQ6IHN0cmluZ1xuKSA9PiAoKSA9PiBNYXA8YW55LCBudW1iZXI+IHtcbiAgcmV0dXJuICh0YWJsZSwgY29sdW1uSWQpID0+XG4gICAgbWVtbyhcbiAgICAgICgpID0+IFt0YWJsZS5nZXRDb2x1bW4oY29sdW1uSWQpPy5nZXRGYWNldGVkUm93TW9kZWwoKV0sXG4gICAgICBmYWNldGVkUm93TW9kZWwgPT4ge1xuICAgICAgICBpZiAoIWZhY2V0ZWRSb3dNb2RlbCkgcmV0dXJuIG5ldyBNYXAoKVxuXG4gICAgICAgIGxldCBmYWNldGVkVW5pcXVlVmFsdWVzID0gbmV3IE1hcDxhbnksIG51bWJlcj4oKVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFjZXRlZFJvd01vZGVsLmZsYXRSb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVzID1cbiAgICAgICAgICAgIGZhY2V0ZWRSb3dNb2RlbC5mbGF0Um93c1tpXSEuZ2V0VW5pcXVlVmFsdWVzPG51bWJlcj4oY29sdW1uSWQpXG5cbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZhbHVlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbal0hXG5cbiAgICAgICAgICAgIGlmIChmYWNldGVkVW5pcXVlVmFsdWVzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgZmFjZXRlZFVuaXF1ZVZhbHVlcy5zZXQoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgKGZhY2V0ZWRVbmlxdWVWYWx1ZXMuZ2V0KHZhbHVlKSA/PyAwKSArIDFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmFjZXRlZFVuaXF1ZVZhbHVlcy5zZXQodmFsdWUsIDEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhY2V0ZWRVbmlxdWVWYWx1ZXNcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyhcbiAgICAgICAgdGFibGUub3B0aW9ucyxcbiAgICAgICAgJ2RlYnVnVGFibGUnLFxuICAgICAgICBgZ2V0RmFjZXRlZFVuaXF1ZVZhbHVlc18ke2NvbHVtbklkfWBcbiAgICAgIClcbiAgICApXG59XG4iLCJpbXBvcnQgeyBSZXNvbHZlZENvbHVtbkZpbHRlciB9IGZyb20gJy4uL2ZlYXR1cmVzL0NvbHVtbkZpbHRlcmluZydcbmltcG9ydCB7IFRhYmxlLCBSb3dNb2RlbCwgUm93LCBSb3dEYXRhIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgZmlsdGVyUm93cyB9IGZyb20gJy4vZmlsdGVyUm93c1V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsdGVyZWRSb3dNb2RlbDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KCk6IChcbiAgdGFibGU6IFRhYmxlPFREYXRhPlxuKSA9PiAoKSA9PiBSb3dNb2RlbDxURGF0YT4ge1xuICByZXR1cm4gdGFibGUgPT5cbiAgICBtZW1vKFxuICAgICAgKCkgPT4gW1xuICAgICAgICB0YWJsZS5nZXRQcmVGaWx0ZXJlZFJvd01vZGVsKCksXG4gICAgICAgIHRhYmxlLmdldFN0YXRlKCkuY29sdW1uRmlsdGVycyxcbiAgICAgICAgdGFibGUuZ2V0U3RhdGUoKS5nbG9iYWxGaWx0ZXIsXG4gICAgICBdLFxuICAgICAgKHJvd01vZGVsLCBjb2x1bW5GaWx0ZXJzLCBnbG9iYWxGaWx0ZXIpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFyb3dNb2RlbC5yb3dzLmxlbmd0aCB8fFxuICAgICAgICAgICghY29sdW1uRmlsdGVycz8ubGVuZ3RoICYmICFnbG9iYWxGaWx0ZXIpXG4gICAgICAgICkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93TW9kZWwuZmxhdFJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJvd01vZGVsLmZsYXRSb3dzW2ldIS5jb2x1bW5GaWx0ZXJzID0ge31cbiAgICAgICAgICAgIHJvd01vZGVsLmZsYXRSb3dzW2ldIS5jb2x1bW5GaWx0ZXJzTWV0YSA9IHt9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByb3dNb2RlbFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzb2x2ZWRDb2x1bW5GaWx0ZXJzOiBSZXNvbHZlZENvbHVtbkZpbHRlcjxURGF0YT5bXSA9IFtdXG4gICAgICAgIGNvbnN0IHJlc29sdmVkR2xvYmFsRmlsdGVyczogUmVzb2x2ZWRDb2x1bW5GaWx0ZXI8VERhdGE+W10gPSBbXVxuXG4gICAgICAgIDsoY29sdW1uRmlsdGVycyA/PyBbXSkuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICBjb25zdCBjb2x1bW4gPSB0YWJsZS5nZXRDb2x1bW4oZC5pZClcblxuICAgICAgICAgIGlmICghY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBmaWx0ZXJGbiA9IGNvbHVtbi5nZXRGaWx0ZXJGbigpXG5cbiAgICAgICAgICBpZiAoIWZpbHRlckZuKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgYENvdWxkIG5vdCBmaW5kIGEgdmFsaWQgJ2NvbHVtbi5maWx0ZXJGbicgZm9yIGNvbHVtbiB3aXRoIHRoZSBJRDogJHtjb2x1bW4uaWR9LmBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzb2x2ZWRDb2x1bW5GaWx0ZXJzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGQuaWQsXG4gICAgICAgICAgICBmaWx0ZXJGbixcbiAgICAgICAgICAgIHJlc29sdmVkVmFsdWU6IGZpbHRlckZuLnJlc29sdmVGaWx0ZXJWYWx1ZT8uKGQudmFsdWUpID8/IGQudmFsdWUsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBmaWx0ZXJhYmxlSWRzID0gKGNvbHVtbkZpbHRlcnMgPz8gW10pLm1hcChkID0+IGQuaWQpXG5cbiAgICAgICAgY29uc3QgZ2xvYmFsRmlsdGVyRm4gPSB0YWJsZS5nZXRHbG9iYWxGaWx0ZXJGbigpXG5cbiAgICAgICAgY29uc3QgZ2xvYmFsbHlGaWx0ZXJhYmxlQ29sdW1ucyA9IHRhYmxlXG4gICAgICAgICAgLmdldEFsbExlYWZDb2x1bW5zKClcbiAgICAgICAgICAuZmlsdGVyKGNvbHVtbiA9PiBjb2x1bW4uZ2V0Q2FuR2xvYmFsRmlsdGVyKCkpXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGdsb2JhbEZpbHRlciAmJlxuICAgICAgICAgIGdsb2JhbEZpbHRlckZuICYmXG4gICAgICAgICAgZ2xvYmFsbHlGaWx0ZXJhYmxlQ29sdW1ucy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgZmlsdGVyYWJsZUlkcy5wdXNoKCdfX2dsb2JhbF9fJylcblxuICAgICAgICAgIGdsb2JhbGx5RmlsdGVyYWJsZUNvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZWRHbG9iYWxGaWx0ZXJzLnB1c2goe1xuICAgICAgICAgICAgICBpZDogY29sdW1uLmlkLFxuICAgICAgICAgICAgICBmaWx0ZXJGbjogZ2xvYmFsRmlsdGVyRm4sXG4gICAgICAgICAgICAgIHJlc29sdmVkVmFsdWU6XG4gICAgICAgICAgICAgICAgZ2xvYmFsRmlsdGVyRm4ucmVzb2x2ZUZpbHRlclZhbHVlPy4oZ2xvYmFsRmlsdGVyKSA/P1xuICAgICAgICAgICAgICAgIGdsb2JhbEZpbHRlcixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50Q29sdW1uRmlsdGVyXG4gICAgICAgIGxldCBjdXJyZW50R2xvYmFsRmlsdGVyXG5cbiAgICAgICAgLy8gRmxhZyB0aGUgcHJlZmlsdGVyZWQgcm93IG1vZGVsIHdpdGggZWFjaCBmaWx0ZXIgc3RhdGVcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb3dNb2RlbC5mbGF0Um93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IHJvdyA9IHJvd01vZGVsLmZsYXRSb3dzW2pdIVxuXG4gICAgICAgICAgcm93LmNvbHVtbkZpbHRlcnMgPSB7fVxuXG4gICAgICAgICAgaWYgKHJlc29sdmVkQ29sdW1uRmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb2x2ZWRDb2x1bW5GaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5GaWx0ZXIgPSByZXNvbHZlZENvbHVtbkZpbHRlcnNbaV0hXG4gICAgICAgICAgICAgIGNvbnN0IGlkID0gY3VycmVudENvbHVtbkZpbHRlci5pZFxuXG4gICAgICAgICAgICAgIC8vIFRhZyB0aGUgcm93IHdpdGggdGhlIGNvbHVtbiBmaWx0ZXIgc3RhdGVcbiAgICAgICAgICAgICAgcm93LmNvbHVtbkZpbHRlcnNbaWRdID0gY3VycmVudENvbHVtbkZpbHRlci5maWx0ZXJGbihcbiAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgY3VycmVudENvbHVtbkZpbHRlci5yZXNvbHZlZFZhbHVlLFxuICAgICAgICAgICAgICAgIGZpbHRlck1ldGEgPT4ge1xuICAgICAgICAgICAgICAgICAgcm93LmNvbHVtbkZpbHRlcnNNZXRhW2lkXSA9IGZpbHRlck1ldGFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVzb2x2ZWRHbG9iYWxGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNvbHZlZEdsb2JhbEZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgY3VycmVudEdsb2JhbEZpbHRlciA9IHJlc29sdmVkR2xvYmFsRmlsdGVyc1tpXSFcbiAgICAgICAgICAgICAgY29uc3QgaWQgPSBjdXJyZW50R2xvYmFsRmlsdGVyLmlkXG4gICAgICAgICAgICAgIC8vIFRhZyB0aGUgcm93IHdpdGggdGhlIGZpcnN0IHRydXRoeSBnbG9iYWwgZmlsdGVyIHN0YXRlXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBjdXJyZW50R2xvYmFsRmlsdGVyLmZpbHRlckZuKFxuICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50R2xvYmFsRmlsdGVyLnJlc29sdmVkVmFsdWUsXG4gICAgICAgICAgICAgICAgICBmaWx0ZXJNZXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcm93LmNvbHVtbkZpbHRlcnNNZXRhW2lkXSA9IGZpbHRlck1ldGFcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJvdy5jb2x1bW5GaWx0ZXJzLl9fZ2xvYmFsX18gPSB0cnVlXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm93LmNvbHVtbkZpbHRlcnMuX19nbG9iYWxfXyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICByb3cuY29sdW1uRmlsdGVycy5fX2dsb2JhbF9fID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWx0ZXJSb3dzSW1wbCA9IChyb3c6IFJvdzxURGF0YT4pID0+IHtcbiAgICAgICAgICAvLyBIb3Jpem9udGFsbHkgZmlsdGVyIHJvd3MgdGhyb3VnaCBlYWNoIGNvbHVtblxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsdGVyYWJsZUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJvdy5jb2x1bW5GaWx0ZXJzW2ZpbHRlcmFibGVJZHNbaV0hXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaWx0ZXIgZmluYWwgcm93cyB1c2luZyBhbGwgb2YgdGhlIGFjdGl2ZSBmaWx0ZXJzXG4gICAgICAgIHJldHVybiBmaWx0ZXJSb3dzKHJvd01vZGVsLnJvd3MsIGZpbHRlclJvd3NJbXBsLCB0YWJsZSlcbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdUYWJsZScsICdnZXRGaWx0ZXJlZFJvd01vZGVsJywgKCkgPT5cbiAgICAgICAgdGFibGUuX2F1dG9SZXNldFBhZ2VJbmRleCgpXG4gICAgICApXG4gICAgKVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlUm93IH0gZnJvbSAnLi4vY29yZS9yb3cnXG5pbXBvcnQgeyBSb3csIFJvd0RhdGEsIFJvd01vZGVsLCBUYWJsZSB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgZmxhdHRlbkJ5LCBnZXRNZW1vT3B0aW9ucywgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgR3JvdXBpbmdTdGF0ZSB9IGZyb20gJy4uL2ZlYXR1cmVzL0NvbHVtbkdyb3VwaW5nJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JvdXBlZFJvd01vZGVsPFREYXRhIGV4dGVuZHMgUm93RGF0YT4oKTogKFxuICB0YWJsZTogVGFibGU8VERhdGE+XG4pID0+ICgpID0+IFJvd01vZGVsPFREYXRhPiB7XG4gIHJldHVybiB0YWJsZSA9PlxuICAgIG1lbW8oXG4gICAgICAoKSA9PiBbdGFibGUuZ2V0U3RhdGUoKS5ncm91cGluZywgdGFibGUuZ2V0UHJlR3JvdXBlZFJvd01vZGVsKCldLFxuICAgICAgKGdyb3VwaW5nLCByb3dNb2RlbCkgPT4ge1xuICAgICAgICBpZiAoIXJvd01vZGVsLnJvd3MubGVuZ3RoIHx8ICFncm91cGluZy5sZW5ndGgpIHtcbiAgICAgICAgICByb3dNb2RlbC5yb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIHJvdy5kZXB0aCA9IDBcbiAgICAgICAgICAgIHJvdy5wYXJlbnRJZCA9IHVuZGVmaW5lZFxuICAgICAgICAgIH0pXG4gICAgICAgICAgcmV0dXJuIHJvd01vZGVsXG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaWx0ZXIgdGhlIGdyb3VwaW5nIGxpc3QgZG93biB0byBjb2x1bW5zIHRoYXQgZXhpc3RcbiAgICAgICAgY29uc3QgZXhpc3RpbmdHcm91cGluZyA9IGdyb3VwaW5nLmZpbHRlcihjb2x1bW5JZCA9PlxuICAgICAgICAgIHRhYmxlLmdldENvbHVtbihjb2x1bW5JZClcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IGdyb3VwZWRGbGF0Um93czogUm93PFREYXRhPltdID0gW11cbiAgICAgICAgY29uc3QgZ3JvdXBlZFJvd3NCeUlkOiBSZWNvcmQ8c3RyaW5nLCBSb3c8VERhdGE+PiA9IHt9XG4gICAgICAgIC8vIGNvbnN0IG9ubHlHcm91cGVkRmxhdFJvd3M6IFJvd1tdID0gW107XG4gICAgICAgIC8vIGNvbnN0IG9ubHlHcm91cGVkUm93c0J5SWQ6IFJlY29yZDxSb3dJZCwgUm93PiA9IHt9O1xuICAgICAgICAvLyBjb25zdCBub25Hcm91cGVkRmxhdFJvd3M6IFJvd1tdID0gW107XG4gICAgICAgIC8vIGNvbnN0IG5vbkdyb3VwZWRSb3dzQnlJZDogUmVjb3JkPFJvd0lkLCBSb3c+ID0ge307XG5cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgZ3JvdXAgdGhlIGRhdGFcbiAgICAgICAgY29uc3QgZ3JvdXBVcFJlY3Vyc2l2ZWx5ID0gKFxuICAgICAgICAgIHJvd3M6IFJvdzxURGF0YT5bXSxcbiAgICAgICAgICBkZXB0aCA9IDAsXG4gICAgICAgICAgcGFyZW50SWQ/OiBzdHJpbmdcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgLy8gR3JvdXBpbmcgZGVwdGggaGFzIGJlZW4gYmVlbiBtZXRcbiAgICAgICAgICAvLyBTdG9wIGdyb3VwaW5nIGFuZCBzaW1wbHkgcmV3cml0ZSB0aGQgZGVwdGggYW5kIHJvdyByZWxhdGlvbnNoaXBzXG4gICAgICAgICAgaWYgKGRlcHRoID49IGV4aXN0aW5nR3JvdXBpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcm93cy5tYXAocm93ID0+IHtcbiAgICAgICAgICAgICAgcm93LmRlcHRoID0gZGVwdGhcblxuICAgICAgICAgICAgICBncm91cGVkRmxhdFJvd3MucHVzaChyb3cpXG4gICAgICAgICAgICAgIGdyb3VwZWRSb3dzQnlJZFtyb3cuaWRdID0gcm93XG5cbiAgICAgICAgICAgICAgaWYgKHJvdy5zdWJSb3dzKSB7XG4gICAgICAgICAgICAgICAgcm93LnN1YlJvd3MgPSBncm91cFVwUmVjdXJzaXZlbHkocm93LnN1YlJvd3MsIGRlcHRoICsgMSwgcm93LmlkKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHJvd1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjb2x1bW5JZDogc3RyaW5nID0gZXhpc3RpbmdHcm91cGluZ1tkZXB0aF0hXG5cbiAgICAgICAgICAvLyBHcm91cCB0aGUgcm93cyB0b2dldGhlciBmb3IgdGhpcyBsZXZlbFxuICAgICAgICAgIGNvbnN0IHJvd0dyb3Vwc01hcCA9IGdyb3VwQnkocm93cywgY29sdW1uSWQpXG5cbiAgICAgICAgICAvLyBQZXJmb3JtIGFnZ3JlZ2F0aW9ucyBmb3IgZWFjaCBncm91cFxuICAgICAgICAgIGNvbnN0IGFnZ3JlZ2F0ZWRHcm91cGVkUm93cyA9IEFycmF5LmZyb20ocm93R3JvdXBzTWFwLmVudHJpZXMoKSkubWFwKFxuICAgICAgICAgICAgKFtncm91cGluZ1ZhbHVlLCBncm91cGVkUm93c10sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGxldCBpZCA9IGAke2NvbHVtbklkfToke2dyb3VwaW5nVmFsdWV9YFxuICAgICAgICAgICAgICBpZCA9IHBhcmVudElkID8gYCR7cGFyZW50SWR9PiR7aWR9YCA6IGlkXG5cbiAgICAgICAgICAgICAgLy8gRmlyc3QsIFJlY3Vyc2UgdG8gZ3JvdXAgc3ViIHJvd3MgYmVmb3JlIGFnZ3JlZ2F0aW9uXG4gICAgICAgICAgICAgIGNvbnN0IHN1YlJvd3MgPSBncm91cFVwUmVjdXJzaXZlbHkoZ3JvdXBlZFJvd3MsIGRlcHRoICsgMSwgaWQpXG5cbiAgICAgICAgICAgICAgc3ViUm93cy5mb3JFYWNoKHN1YlJvdyA9PiB7XG4gICAgICAgICAgICAgICAgc3ViUm93LnBhcmVudElkID0gaWRcbiAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAvLyBGbGF0dGVuIHRoZSBsZWFmIHJvd3Mgb2YgdGhlIHJvd3MgaW4gdGhpcyBncm91cFxuICAgICAgICAgICAgICBjb25zdCBsZWFmUm93cyA9IGRlcHRoXG4gICAgICAgICAgICAgICAgPyBmbGF0dGVuQnkoZ3JvdXBlZFJvd3MsIHJvdyA9PiByb3cuc3ViUm93cylcbiAgICAgICAgICAgICAgICA6IGdyb3VwZWRSb3dzXG5cbiAgICAgICAgICAgICAgY29uc3Qgcm93ID0gY3JlYXRlUm93KFxuICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGxlYWZSb3dzWzBdIS5vcmlnaW5hbCxcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcGFyZW50SWRcbiAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocm93LCB7XG4gICAgICAgICAgICAgICAgZ3JvdXBpbmdDb2x1bW5JZDogY29sdW1uSWQsXG4gICAgICAgICAgICAgICAgZ3JvdXBpbmdWYWx1ZSxcbiAgICAgICAgICAgICAgICBzdWJSb3dzLFxuICAgICAgICAgICAgICAgIGxlYWZSb3dzLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlOiAoY29sdW1uSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYWdncmVnYXRlIGNvbHVtbnMgdGhhdCBhcmUgaW4gdGhlIGdyb3VwaW5nXG4gICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdHcm91cGluZy5pbmNsdWRlcyhjb2x1bW5JZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5fdmFsdWVzQ2FjaGUuaGFzT3duUHJvcGVydHkoY29sdW1uSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdy5fdmFsdWVzQ2FjaGVbY29sdW1uSWRdXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXBlZFJvd3NbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICByb3cuX3ZhbHVlc0NhY2hlW2NvbHVtbklkXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cGVkUm93c1swXS5nZXRWYWx1ZShjb2x1bW5JZCkgPz8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93Ll92YWx1ZXNDYWNoZVtjb2x1bW5JZF1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKHJvdy5fZ3JvdXBpbmdWYWx1ZXNDYWNoZS5oYXNPd25Qcm9wZXJ0eShjb2x1bW5JZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdy5fZ3JvdXBpbmdWYWx1ZXNDYWNoZVtjb2x1bW5JZF1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gQWdncmVnYXRlIHRoZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IHRhYmxlLmdldENvbHVtbihjb2x1bW5JZClcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFnZ3JlZ2F0ZUZuID0gY29sdW1uPy5nZXRBZ2dyZWdhdGlvbkZuKClcblxuICAgICAgICAgICAgICAgICAgaWYgKGFnZ3JlZ2F0ZUZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5fZ3JvdXBpbmdWYWx1ZXNDYWNoZVtjb2x1bW5JZF0gPSBhZ2dyZWdhdGVGbihcbiAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5JZCxcbiAgICAgICAgICAgICAgICAgICAgICBsZWFmUm93cyxcbiAgICAgICAgICAgICAgICAgICAgICBncm91cGVkUm93c1xuICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdy5fZ3JvdXBpbmdWYWx1ZXNDYWNoZVtjb2x1bW5JZF1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgIHN1YlJvd3MuZm9yRWFjaChzdWJSb3cgPT4ge1xuICAgICAgICAgICAgICAgIGdyb3VwZWRGbGF0Um93cy5wdXNoKHN1YlJvdylcbiAgICAgICAgICAgICAgICBncm91cGVkUm93c0J5SWRbc3ViUm93LmlkXSA9IHN1YlJvd1xuICAgICAgICAgICAgICAgIC8vIGlmIChzdWJSb3cuZ2V0SXNHcm91cGVkPy4oKSkge1xuICAgICAgICAgICAgICAgIC8vICAgb25seUdyb3VwZWRGbGF0Um93cy5wdXNoKHN1YlJvdyk7XG4gICAgICAgICAgICAgICAgLy8gICBvbmx5R3JvdXBlZFJvd3NCeUlkW3N1YlJvdy5pZF0gPSBzdWJSb3c7XG4gICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAgIG5vbkdyb3VwZWRGbGF0Um93cy5wdXNoKHN1YlJvdyk7XG4gICAgICAgICAgICAgICAgLy8gICBub25Hcm91cGVkUm93c0J5SWRbc3ViUm93LmlkXSA9IHN1YlJvdztcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgcmV0dXJuIHJvd1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcblxuICAgICAgICAgIHJldHVybiBhZ2dyZWdhdGVkR3JvdXBlZFJvd3NcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdyb3VwZWRSb3dzID0gZ3JvdXBVcFJlY3Vyc2l2ZWx5KHJvd01vZGVsLnJvd3MsIDApXG5cbiAgICAgICAgZ3JvdXBlZFJvd3MuZm9yRWFjaChzdWJSb3cgPT4ge1xuICAgICAgICAgIGdyb3VwZWRGbGF0Um93cy5wdXNoKHN1YlJvdylcbiAgICAgICAgICBncm91cGVkUm93c0J5SWRbc3ViUm93LmlkXSA9IHN1YlJvd1xuICAgICAgICAgIC8vIGlmIChzdWJSb3cuZ2V0SXNHcm91cGVkPy4oKSkge1xuICAgICAgICAgIC8vICAgb25seUdyb3VwZWRGbGF0Um93cy5wdXNoKHN1YlJvdyk7XG4gICAgICAgICAgLy8gICBvbmx5R3JvdXBlZFJvd3NCeUlkW3N1YlJvdy5pZF0gPSBzdWJSb3c7XG4gICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAvLyAgIG5vbkdyb3VwZWRGbGF0Um93cy5wdXNoKHN1YlJvdyk7XG4gICAgICAgICAgLy8gICBub25Hcm91cGVkUm93c0J5SWRbc3ViUm93LmlkXSA9IHN1YlJvdztcbiAgICAgICAgICAvLyB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByb3dzOiBncm91cGVkUm93cyxcbiAgICAgICAgICBmbGF0Um93czogZ3JvdXBlZEZsYXRSb3dzLFxuICAgICAgICAgIHJvd3NCeUlkOiBncm91cGVkUm93c0J5SWQsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdUYWJsZScsICdnZXRHcm91cGVkUm93TW9kZWwnLCAoKSA9PiB7XG4gICAgICAgIHRhYmxlLl9xdWV1ZSgoKSA9PiB7XG4gICAgICAgICAgdGFibGUuX2F1dG9SZXNldEV4cGFuZGVkKClcbiAgICAgICAgICB0YWJsZS5fYXV0b1Jlc2V0UGFnZUluZGV4KClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgKVxufVxuXG5mdW5jdGlvbiBncm91cEJ5PFREYXRhIGV4dGVuZHMgUm93RGF0YT4ocm93czogUm93PFREYXRhPltdLCBjb2x1bW5JZDogc3RyaW5nKSB7XG4gIGNvbnN0IGdyb3VwTWFwID0gbmV3IE1hcDxhbnksIFJvdzxURGF0YT5bXT4oKVxuXG4gIHJldHVybiByb3dzLnJlZHVjZSgobWFwLCByb3cpID0+IHtcbiAgICBjb25zdCByZXNLZXkgPSBgJHtyb3cuZ2V0R3JvdXBpbmdWYWx1ZShjb2x1bW5JZCl9YFxuICAgIGNvbnN0IHByZXZpb3VzID0gbWFwLmdldChyZXNLZXkpXG4gICAgaWYgKCFwcmV2aW91cykge1xuICAgICAgbWFwLnNldChyZXNLZXksIFtyb3ddKVxuICAgIH0gZWxzZSB7XG4gICAgICBwcmV2aW91cy5wdXNoKHJvdylcbiAgICB9XG4gICAgcmV0dXJuIG1hcFxuICB9LCBncm91cE1hcClcbn1cbiIsImltcG9ydCB7IFRhYmxlLCBSb3dNb2RlbCwgUm93LCBSb3dEYXRhIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBnZXRNZW1vT3B0aW9ucywgbWVtbyB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgZXhwYW5kUm93cyB9IGZyb20gJy4vZ2V0RXhwYW5kZWRSb3dNb2RlbCdcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2luYXRpb25Sb3dNb2RlbDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KG9wdHM/OiB7XG4gIGluaXRpYWxTeW5jOiBib29sZWFuXG59KTogKHRhYmxlOiBUYWJsZTxURGF0YT4pID0+ICgpID0+IFJvd01vZGVsPFREYXRhPiB7XG4gIHJldHVybiB0YWJsZSA9PlxuICAgIG1lbW8oXG4gICAgICAoKSA9PiBbXG4gICAgICAgIHRhYmxlLmdldFN0YXRlKCkucGFnaW5hdGlvbixcbiAgICAgICAgdGFibGUuZ2V0UHJlUGFnaW5hdGlvblJvd01vZGVsKCksXG4gICAgICAgIHRhYmxlLm9wdGlvbnMucGFnaW5hdGVFeHBhbmRlZFJvd3NcbiAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgIDogdGFibGUuZ2V0U3RhdGUoKS5leHBhbmRlZCxcbiAgICAgIF0sXG4gICAgICAocGFnaW5hdGlvbiwgcm93TW9kZWwpID0+IHtcbiAgICAgICAgaWYgKCFyb3dNb2RlbC5yb3dzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiByb3dNb2RlbFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBwYWdlU2l6ZSwgcGFnZUluZGV4IH0gPSBwYWdpbmF0aW9uXG4gICAgICAgIGxldCB7IHJvd3MsIGZsYXRSb3dzLCByb3dzQnlJZCB9ID0gcm93TW9kZWxcbiAgICAgICAgY29uc3QgcGFnZVN0YXJ0ID0gcGFnZVNpemUgKiBwYWdlSW5kZXhcbiAgICAgICAgY29uc3QgcGFnZUVuZCA9IHBhZ2VTdGFydCArIHBhZ2VTaXplXG5cbiAgICAgICAgcm93cyA9IHJvd3Muc2xpY2UocGFnZVN0YXJ0LCBwYWdlRW5kKVxuXG4gICAgICAgIGxldCBwYWdpbmF0ZWRSb3dNb2RlbDogUm93TW9kZWw8VERhdGE+XG5cbiAgICAgICAgaWYgKCF0YWJsZS5vcHRpb25zLnBhZ2luYXRlRXhwYW5kZWRSb3dzKSB7XG4gICAgICAgICAgcGFnaW5hdGVkUm93TW9kZWwgPSBleHBhbmRSb3dzKHtcbiAgICAgICAgICAgIHJvd3MsXG4gICAgICAgICAgICBmbGF0Um93cyxcbiAgICAgICAgICAgIHJvd3NCeUlkLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFnaW5hdGVkUm93TW9kZWwgPSB7XG4gICAgICAgICAgICByb3dzLFxuICAgICAgICAgICAgZmxhdFJvd3MsXG4gICAgICAgICAgICByb3dzQnlJZCxcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwYWdpbmF0ZWRSb3dNb2RlbC5mbGF0Um93cyA9IFtdXG5cbiAgICAgICAgY29uc3QgaGFuZGxlUm93ID0gKHJvdzogUm93PFREYXRhPikgPT4ge1xuICAgICAgICAgIHBhZ2luYXRlZFJvd01vZGVsLmZsYXRSb3dzLnB1c2gocm93KVxuICAgICAgICAgIGlmIChyb3cuc3ViUm93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJvdy5zdWJSb3dzLmZvckVhY2goaGFuZGxlUm93KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2luYXRlZFJvd01vZGVsLnJvd3MuZm9yRWFjaChoYW5kbGVSb3cpXG5cbiAgICAgICAgcmV0dXJuIHBhZ2luYXRlZFJvd01vZGVsXG4gICAgICB9LFxuICAgICAgZ2V0TWVtb09wdGlvbnModGFibGUub3B0aW9ucywgJ2RlYnVnVGFibGUnLCAnZ2V0UGFnaW5hdGlvblJvd01vZGVsJylcbiAgICApXG59XG4iLCJpbXBvcnQgeyBUYWJsZSwgUm93LCBSb3dNb2RlbCwgUm93RGF0YSB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgU29ydGluZ0ZuIH0gZnJvbSAnLi4vZmVhdHVyZXMvUm93U29ydGluZydcbmltcG9ydCB7IGdldE1lbW9PcHRpb25zLCBtZW1vIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTb3J0ZWRSb3dNb2RlbDxURGF0YSBleHRlbmRzIFJvd0RhdGE+KCk6IChcbiAgdGFibGU6IFRhYmxlPFREYXRhPlxuKSA9PiAoKSA9PiBSb3dNb2RlbDxURGF0YT4ge1xuICByZXR1cm4gdGFibGUgPT5cbiAgICBtZW1vKFxuICAgICAgKCkgPT4gW3RhYmxlLmdldFN0YXRlKCkuc29ydGluZywgdGFibGUuZ2V0UHJlU29ydGVkUm93TW9kZWwoKV0sXG4gICAgICAoc29ydGluZywgcm93TW9kZWwpID0+IHtcbiAgICAgICAgaWYgKCFyb3dNb2RlbC5yb3dzLmxlbmd0aCB8fCAhc29ydGluZz8ubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHJvd01vZGVsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3J0aW5nU3RhdGUgPSB0YWJsZS5nZXRTdGF0ZSgpLnNvcnRpbmdcblxuICAgICAgICBjb25zdCBzb3J0ZWRGbGF0Um93czogUm93PFREYXRhPltdID0gW11cblxuICAgICAgICAvLyBGaWx0ZXIgb3V0IHNvcnRpbmdzIHRoYXQgY29ycmVzcG9uZCB0byBub24gZXhpc3RpbmcgY29sdW1uc1xuICAgICAgICBjb25zdCBhdmFpbGFibGVTb3J0aW5nID0gc29ydGluZ1N0YXRlLmZpbHRlcihzb3J0ID0+XG4gICAgICAgICAgdGFibGUuZ2V0Q29sdW1uKHNvcnQuaWQpPy5nZXRDYW5Tb3J0KClcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IGNvbHVtbkluZm9CeUlkOiBSZWNvcmQ8XG4gICAgICAgICAgc3RyaW5nLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNvcnRVbmRlZmluZWQ/OiBmYWxzZSB8IC0xIHwgMSB8ICdmaXJzdCcgfCAnbGFzdCdcbiAgICAgICAgICAgIGludmVydFNvcnRpbmc/OiBib29sZWFuXG4gICAgICAgICAgICBzb3J0aW5nRm46IFNvcnRpbmdGbjxURGF0YT5cbiAgICAgICAgICB9XG4gICAgICAgID4gPSB7fVxuXG4gICAgICAgIGF2YWlsYWJsZVNvcnRpbmcuZm9yRWFjaChzb3J0RW50cnkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IHRhYmxlLmdldENvbHVtbihzb3J0RW50cnkuaWQpXG4gICAgICAgICAgaWYgKCFjb2x1bW4pIHJldHVyblxuXG4gICAgICAgICAgY29sdW1uSW5mb0J5SWRbc29ydEVudHJ5LmlkXSA9IHtcbiAgICAgICAgICAgIHNvcnRVbmRlZmluZWQ6IGNvbHVtbi5jb2x1bW5EZWYuc29ydFVuZGVmaW5lZCxcbiAgICAgICAgICAgIGludmVydFNvcnRpbmc6IGNvbHVtbi5jb2x1bW5EZWYuaW52ZXJ0U29ydGluZyxcbiAgICAgICAgICAgIHNvcnRpbmdGbjogY29sdW1uLmdldFNvcnRpbmdGbigpLFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBzb3J0RGF0YSA9IChyb3dzOiBSb3c8VERhdGE+W10pID0+IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgYWxzbyBwZXJmb3JtIGEgc3RhYmxlIHNvcnRpbmcgdXNpbmcgdGhlIHJvdyBpbmRleFxuICAgICAgICAgIC8vIGlmIG5lZWRlZC5cbiAgICAgICAgICBjb25zdCBzb3J0ZWREYXRhID0gcm93cy5tYXAocm93ID0+ICh7IC4uLnJvdyB9KSlcblxuICAgICAgICAgIHNvcnRlZERhdGEuc29ydCgocm93QSwgcm93QikgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdmFpbGFibGVTb3J0aW5nLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHNvcnRFbnRyeSA9IGF2YWlsYWJsZVNvcnRpbmdbaV0hXG4gICAgICAgICAgICAgIGNvbnN0IGNvbHVtbkluZm8gPSBjb2x1bW5JbmZvQnlJZFtzb3J0RW50cnkuaWRdIVxuICAgICAgICAgICAgICBjb25zdCBzb3J0VW5kZWZpbmVkID0gY29sdW1uSW5mby5zb3J0VW5kZWZpbmVkXG4gICAgICAgICAgICAgIGNvbnN0IGlzRGVzYyA9IHNvcnRFbnRyeT8uZGVzYyA/PyBmYWxzZVxuXG4gICAgICAgICAgICAgIGxldCBzb3J0SW50ID0gMFxuXG4gICAgICAgICAgICAgIC8vIEFsbCBzb3J0aW5nIGludHMgc2hvdWxkIGFsd2F5cyByZXR1cm4gaW4gYXNjZW5kaW5nIG9yZGVyXG4gICAgICAgICAgICAgIGlmIChzb3J0VW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYVZhbHVlID0gcm93QS5nZXRWYWx1ZShzb3J0RW50cnkuaWQpXG4gICAgICAgICAgICAgICAgY29uc3QgYlZhbHVlID0gcm93Qi5nZXRWYWx1ZShzb3J0RW50cnkuaWQpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBhVW5kZWZpbmVkID0gYVZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICBjb25zdCBiVW5kZWZpbmVkID0gYlZhbHVlID09PSB1bmRlZmluZWRcblxuICAgICAgICAgICAgICAgIGlmIChhVW5kZWZpbmVkIHx8IGJVbmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzb3J0VW5kZWZpbmVkID09PSAnZmlyc3QnKSByZXR1cm4gYVVuZGVmaW5lZCA/IC0xIDogMVxuICAgICAgICAgICAgICAgICAgaWYgKHNvcnRVbmRlZmluZWQgPT09ICdsYXN0JykgcmV0dXJuIGFVbmRlZmluZWQgPyAxIDogLTFcbiAgICAgICAgICAgICAgICAgIHNvcnRJbnQgPVxuICAgICAgICAgICAgICAgICAgICBhVW5kZWZpbmVkICYmIGJVbmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICAgICAgICA6IGFVbmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc29ydFVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAtc29ydFVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChzb3J0SW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc29ydEludCA9IGNvbHVtbkluZm8uc29ydGluZ0ZuKHJvd0EsIHJvd0IsIHNvcnRFbnRyeS5pZClcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElmIHNvcnRpbmcgaXMgbm9uLXplcm8sIHRha2UgY2FyZSBvZiBkZXNjIGFuZCBpbnZlcnNpb25cbiAgICAgICAgICAgICAgaWYgKHNvcnRJbnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEZXNjKSB7XG4gICAgICAgICAgICAgICAgICBzb3J0SW50ICo9IC0xXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbkluZm8uaW52ZXJ0U29ydGluZykge1xuICAgICAgICAgICAgICAgICAgc29ydEludCAqPSAtMVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzb3J0SW50XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJvd0EuaW5kZXggLSByb3dCLmluZGV4XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBzdWItcm93cywgc29ydCB0aGVtXG4gICAgICAgICAgc29ydGVkRGF0YS5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgICAgICBzb3J0ZWRGbGF0Um93cy5wdXNoKHJvdylcbiAgICAgICAgICAgIGlmIChyb3cuc3ViUm93cz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJvdy5zdWJSb3dzID0gc29ydERhdGEocm93LnN1YlJvd3MpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHJldHVybiBzb3J0ZWREYXRhXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvd3M6IHNvcnREYXRhKHJvd01vZGVsLnJvd3MpLFxuICAgICAgICAgIGZsYXRSb3dzOiBzb3J0ZWRGbGF0Um93cyxcbiAgICAgICAgICByb3dzQnlJZDogcm93TW9kZWwucm93c0J5SWQsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRNZW1vT3B0aW9ucyh0YWJsZS5vcHRpb25zLCAnZGVidWdUYWJsZScsICdnZXRTb3J0ZWRSb3dNb2RlbCcsICgpID0+XG4gICAgICAgIHRhYmxlLl9hdXRvUmVzZXRQYWdlSW5kZXgoKVxuICAgICAgKVxuICAgIClcbn1cbiJdLCJmaWxlIjoiRDovQmlsbDI0L2IyNG1hbmFnZW1lbnRwb3J0YWwvbm9kZV9tb2R1bGVzL0B0YW5zdGFjay90YWJsZS1jb3JlL2J1aWxkL2xpYi9pbmRleC5tanMiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNF19