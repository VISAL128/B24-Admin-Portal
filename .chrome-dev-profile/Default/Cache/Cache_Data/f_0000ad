import {add as $735220c2d4774dd3$export$e16d8520af44a096, addTime as $735220c2d4774dd3$export$7ed87b6bc2506470, addZoned as $735220c2d4774dd3$export$96b1d28349274637, constrain as $735220c2d4774dd3$export$c4e2ecac49351ef2, constrainTime as $735220c2d4774dd3$export$7555de1e070510cb, cycleDate as $735220c2d4774dd3$export$d52ced6badfb9a4c, cycleTime as $735220c2d4774dd3$export$dd02b3e0007dfe28, cycleZoned as $735220c2d4774dd3$export$9a297d111fc86b79, set as $735220c2d4774dd3$export$adaa4cf7ef1b65be, setTime as $735220c2d4774dd3$export$e5d5e1c1822b6e56, setZoned as $735220c2d4774dd3$export$31b5430eb18be4f8, subtract as $735220c2d4774dd3$export$4e2d2ead65e5f7e3, subtractTime as $735220c2d4774dd3$export$fe34d3a381cd7501, subtractZoned as $735220c2d4774dd3$export$6814caac34ca03c7} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@internationalized/date/dist/manipulation.mjs?v=1214a853";
import {compareDate as $14e0f24ef4ac5c92$export$68781ddf31c0090f, compareTime as $14e0f24ef4ac5c92$export$c19a80a9721b80f6} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@internationalized/date/dist/queries.mjs?v=1214a853";
import {dateTimeToString as $fae977aafc393c5c$export$4223de14708adc63, dateToString as $fae977aafc393c5c$export$60dfd74aa96791bd, timeToString as $fae977aafc393c5c$export$f59dee82248f5ad4, zonedDateTimeToString as $fae977aafc393c5c$export$bf79f1ebf4b18792} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@internationalized/date/dist/string.mjs?v=1214a853";
import {GregorianCalendar as $3b62074eb05584b2$export$80ee6245ec4f29ec} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@internationalized/date/dist/GregorianCalendar.mjs?v=1214a853";
import {toCalendarDateTime as $11d87f3f76e88657$export$b21e0b124e224484, toDate as $11d87f3f76e88657$export$e67a095c620b86fe, toZoned as $11d87f3f76e88657$export$84c95a83c799e074, zonedToDate as $11d87f3f76e88657$export$83aac07b4c37b25} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@internationalized/date/dist/conversion.mjs?v=1214a853";
import {_ as $aksy1$_} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@swc/helpers/esm/_class_private_field_init.js?v=1214a853";

/*
 * Copyright 2020 Adobe. All rights reserved.
 * This file is licensed to you under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License. You may obtain a copy
 * of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 * OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */ 





function $35ea8db9cb2ccb90$var$shiftArgs(args) {
    let calendar = typeof args[0] === 'object' ? args.shift() : new (0, $3b62074eb05584b2$export$80ee6245ec4f29ec)();
    let era;
    if (typeof args[0] === 'string') era = args.shift();
    else {
        let eras = calendar.getEras();
        era = eras[eras.length - 1];
    }
    let year = args.shift();
    let month = args.shift();
    let day = args.shift();
    return [
        calendar,
        era,
        year,
        month,
        day
    ];
}
var // This prevents TypeScript from allowing other types with the same fields to match.
// i.e. a ZonedDateTime should not be be passable to a parameter that expects CalendarDate.
// If that behavior is desired, use the AnyCalendarDate interface instead.
// @ts-ignore
$35ea8db9cb2ccb90$var$_type = /*#__PURE__*/ new WeakMap();
class $35ea8db9cb2ccb90$export$99faa760c7908e4f {
    /** Returns a copy of this date. */ copy() {
        if (this.era) return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this.calendar, this.era, this.year, this.month, this.day);
        else return new $35ea8db9cb2ccb90$export$99faa760c7908e4f(this.calendar, this.year, this.month, this.day);
    }
    /** Returns a new `CalendarDate` with the given duration added to it. */ add(duration) {
        return (0, $735220c2d4774dd3$export$e16d8520af44a096)(this, duration);
    }
    /** Returns a new `CalendarDate` with the given duration subtracted from it. */ subtract(duration) {
        return (0, $735220c2d4774dd3$export$4e2d2ead65e5f7e3)(this, duration);
    }
    /** Returns a new `CalendarDate` with the given fields set to the provided values. Other fields will be constrained accordingly. */ set(fields) {
        return (0, $735220c2d4774dd3$export$adaa4cf7ef1b65be)(this, fields);
    }
    /**
   * Returns a new `CalendarDate` with the given field adjusted by a specified amount.
   * When the resulting value reaches the limits of the field, it wraps around.
   */ cycle(field, amount, options) {
        return (0, $735220c2d4774dd3$export$d52ced6badfb9a4c)(this, field, amount, options);
    }
    /** Converts the date to a native JavaScript Date object, with the time set to midnight in the given time zone. */ toDate(timeZone) {
        return (0, $11d87f3f76e88657$export$e67a095c620b86fe)(this, timeZone);
    }
    /** Converts the date to an ISO 8601 formatted string. */ toString() {
        return (0, $fae977aafc393c5c$export$60dfd74aa96791bd)(this);
    }
    /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */ compare(b) {
        return (0, $14e0f24ef4ac5c92$export$68781ddf31c0090f)(this, b);
    }
    constructor(...args){
        (0, $aksy1$_)(this, $35ea8db9cb2ccb90$var$_type, {
            writable: true,
            value: void 0
        });
        let [calendar, era, year, month, day] = $35ea8db9cb2ccb90$var$shiftArgs(args);
        this.calendar = calendar;
        this.era = era;
        this.year = year;
        this.month = month;
        this.day = day;
        (0, $735220c2d4774dd3$export$c4e2ecac49351ef2)(this);
    }
}
var // This prevents TypeScript from allowing other types with the same fields to match.
// @ts-ignore
$35ea8db9cb2ccb90$var$_type1 = /*#__PURE__*/ new WeakMap();
class $35ea8db9cb2ccb90$export$680ea196effce5f {
    /** Returns a copy of this time. */ copy() {
        return new $35ea8db9cb2ccb90$export$680ea196effce5f(this.hour, this.minute, this.second, this.millisecond);
    }
    /** Returns a new `Time` with the given duration added to it. */ add(duration) {
        return (0, $735220c2d4774dd3$export$7ed87b6bc2506470)(this, duration);
    }
    /** Returns a new `Time` with the given duration subtracted from it. */ subtract(duration) {
        return (0, $735220c2d4774dd3$export$fe34d3a381cd7501)(this, duration);
    }
    /** Returns a new `Time` with the given fields set to the provided values. Other fields will be constrained accordingly. */ set(fields) {
        return (0, $735220c2d4774dd3$export$e5d5e1c1822b6e56)(this, fields);
    }
    /**
   * Returns a new `Time` with the given field adjusted by a specified amount.
   * When the resulting value reaches the limits of the field, it wraps around.
   */ cycle(field, amount, options) {
        return (0, $735220c2d4774dd3$export$dd02b3e0007dfe28)(this, field, amount, options);
    }
    /** Converts the time to an ISO 8601 formatted string. */ toString() {
        return (0, $fae977aafc393c5c$export$f59dee82248f5ad4)(this);
    }
    /** Compares this time with another. A negative result indicates that this time is before the given one, and a positive time indicates that it is after. */ compare(b) {
        return (0, $14e0f24ef4ac5c92$export$c19a80a9721b80f6)(this, b);
    }
    constructor(hour = 0, minute = 0, second = 0, millisecond = 0){
        (0, $aksy1$_)(this, $35ea8db9cb2ccb90$var$_type1, {
            writable: true,
            value: void 0
        });
        this.hour = hour;
        this.minute = minute;
        this.second = second;
        this.millisecond = millisecond;
        (0, $735220c2d4774dd3$export$7555de1e070510cb)(this);
    }
}
var // This prevents TypeScript from allowing other types with the same fields to match.
// @ts-ignore
$35ea8db9cb2ccb90$var$_type2 = /*#__PURE__*/ new WeakMap();
class $35ea8db9cb2ccb90$export$ca871e8dbb80966f {
    /** Returns a copy of this date. */ copy() {
        if (this.era) return new $35ea8db9cb2ccb90$export$ca871e8dbb80966f(this.calendar, this.era, this.year, this.month, this.day, this.hour, this.minute, this.second, this.millisecond);
        else return new $35ea8db9cb2ccb90$export$ca871e8dbb80966f(this.calendar, this.year, this.month, this.day, this.hour, this.minute, this.second, this.millisecond);
    }
    /** Returns a new `CalendarDateTime` with the given duration added to it. */ add(duration) {
        return (0, $735220c2d4774dd3$export$e16d8520af44a096)(this, duration);
    }
    /** Returns a new `CalendarDateTime` with the given duration subtracted from it. */ subtract(duration) {
        return (0, $735220c2d4774dd3$export$4e2d2ead65e5f7e3)(this, duration);
    }
    /** Returns a new `CalendarDateTime` with the given fields set to the provided values. Other fields will be constrained accordingly. */ set(fields) {
        return (0, $735220c2d4774dd3$export$adaa4cf7ef1b65be)((0, $735220c2d4774dd3$export$e5d5e1c1822b6e56)(this, fields), fields);
    }
    /**
   * Returns a new `CalendarDateTime` with the given field adjusted by a specified amount.
   * When the resulting value reaches the limits of the field, it wraps around.
   */ cycle(field, amount, options) {
        switch(field){
            case 'era':
            case 'year':
            case 'month':
            case 'day':
                return (0, $735220c2d4774dd3$export$d52ced6badfb9a4c)(this, field, amount, options);
            default:
                return (0, $735220c2d4774dd3$export$dd02b3e0007dfe28)(this, field, amount, options);
        }
    }
    /** Converts the date to a native JavaScript Date object in the given time zone. */ toDate(timeZone, disambiguation) {
        return (0, $11d87f3f76e88657$export$e67a095c620b86fe)(this, timeZone, disambiguation);
    }
    /** Converts the date to an ISO 8601 formatted string. */ toString() {
        return (0, $fae977aafc393c5c$export$4223de14708adc63)(this);
    }
    /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */ compare(b) {
        let res = (0, $14e0f24ef4ac5c92$export$68781ddf31c0090f)(this, b);
        if (res === 0) return (0, $14e0f24ef4ac5c92$export$c19a80a9721b80f6)(this, (0, $11d87f3f76e88657$export$b21e0b124e224484)(b));
        return res;
    }
    constructor(...args){
        (0, $aksy1$_)(this, $35ea8db9cb2ccb90$var$_type2, {
            writable: true,
            value: void 0
        });
        let [calendar, era, year, month, day] = $35ea8db9cb2ccb90$var$shiftArgs(args);
        this.calendar = calendar;
        this.era = era;
        this.year = year;
        this.month = month;
        this.day = day;
        this.hour = args.shift() || 0;
        this.minute = args.shift() || 0;
        this.second = args.shift() || 0;
        this.millisecond = args.shift() || 0;
        (0, $735220c2d4774dd3$export$c4e2ecac49351ef2)(this);
    }
}
var // This prevents TypeScript from allowing other types with the same fields to match.
// @ts-ignore
$35ea8db9cb2ccb90$var$_type3 = /*#__PURE__*/ new WeakMap();
class $35ea8db9cb2ccb90$export$d3b7288e7994edea {
    /** Returns a copy of this date. */ copy() {
        if (this.era) return new $35ea8db9cb2ccb90$export$d3b7288e7994edea(this.calendar, this.era, this.year, this.month, this.day, this.timeZone, this.offset, this.hour, this.minute, this.second, this.millisecond);
        else return new $35ea8db9cb2ccb90$export$d3b7288e7994edea(this.calendar, this.year, this.month, this.day, this.timeZone, this.offset, this.hour, this.minute, this.second, this.millisecond);
    }
    /** Returns a new `ZonedDateTime` with the given duration added to it. */ add(duration) {
        return (0, $735220c2d4774dd3$export$96b1d28349274637)(this, duration);
    }
    /** Returns a new `ZonedDateTime` with the given duration subtracted from it. */ subtract(duration) {
        return (0, $735220c2d4774dd3$export$6814caac34ca03c7)(this, duration);
    }
    /** Returns a new `ZonedDateTime` with the given fields set to the provided values. Other fields will be constrained accordingly. */ set(fields, disambiguation) {
        return (0, $735220c2d4774dd3$export$31b5430eb18be4f8)(this, fields, disambiguation);
    }
    /**
   * Returns a new `ZonedDateTime` with the given field adjusted by a specified amount.
   * When the resulting value reaches the limits of the field, it wraps around.
   */ cycle(field, amount, options) {
        return (0, $735220c2d4774dd3$export$9a297d111fc86b79)(this, field, amount, options);
    }
    /** Converts the date to a native JavaScript Date object. */ toDate() {
        return (0, $11d87f3f76e88657$export$83aac07b4c37b25)(this);
    }
    /** Converts the date to an ISO 8601 formatted string, including the UTC offset and time zone identifier. */ toString() {
        return (0, $fae977aafc393c5c$export$bf79f1ebf4b18792)(this);
    }
    /** Converts the date to an ISO 8601 formatted string in UTC. */ toAbsoluteString() {
        return this.toDate().toISOString();
    }
    /** Compares this date with another. A negative result indicates that this date is before the given one, and a positive date indicates that it is after. */ compare(b) {
        // TODO: Is this a bad idea??
        return this.toDate().getTime() - (0, $11d87f3f76e88657$export$84c95a83c799e074)(b, this.timeZone).toDate().getTime();
    }
    constructor(...args){
        (0, $aksy1$_)(this, $35ea8db9cb2ccb90$var$_type3, {
            writable: true,
            value: void 0
        });
        let [calendar, era, year, month, day] = $35ea8db9cb2ccb90$var$shiftArgs(args);
        let timeZone = args.shift();
        let offset = args.shift();
        this.calendar = calendar;
        this.era = era;
        this.year = year;
        this.month = month;
        this.day = day;
        this.timeZone = timeZone;
        this.offset = offset;
        this.hour = args.shift() || 0;
        this.minute = args.shift() || 0;
        this.second = args.shift() || 0;
        this.millisecond = args.shift() || 0;
        (0, $735220c2d4774dd3$export$c4e2ecac49351ef2)(this);
    }
}


export {$35ea8db9cb2ccb90$export$99faa760c7908e4f as CalendarDate, $35ea8db9cb2ccb90$export$680ea196effce5f as Time, $35ea8db9cb2ccb90$export$ca871e8dbb80966f as CalendarDateTime, $35ea8db9cb2ccb90$export$d3b7288e7994edea as ZonedDateTime};
                                               

//# sourceMappingURL=data:application/json;base64,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RyxXQUFXO0lBQ2xDO0lBRUEseUpBQXlKLEdBQ3pKLFFBQVEsQ0FBa0QsRUFBVTtRQUNsRSw2QkFBNkI7UUFDN0IsT0FBTyxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sS0FBSyxDQUFBLEdBQUEseUNBQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsTUFBTSxHQUFHLE9BQU87SUFDN0U7SUF0RUEsWUFBWSxHQUFHLElBQVcsQ0FBRTtRQWhDNUIsb0JBQUE7O21CQUFBLEtBQUE7O1FBaUNFLElBQUksQ0FBQyxVQUFVLEtBQUssTUFBTSxPQUFPLElBQUksR0FBRyxnQ0FBVTtRQUNsRCxJQUFJLFdBQVcsS0FBSyxLQUFLO1FBQ3pCLElBQUksU0FBUyxLQUFLLEtBQUs7UUFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUMsR0FBRyxHQUFHO1FBQ1gsSUFBSSxDQUFDLElBQUksR0FBRztRQUNaLElBQUksQ0FBQyxLQUFLLEdBQUc7UUFDYixJQUFJLENBQUMsR0FBRyxHQUFHO1FBQ1gsSUFBSSxDQUFDLFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUMsTUFBTSxHQUFHO1FBQ2QsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLEtBQUssTUFBTTtRQUM1QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssS0FBSyxNQUFNO1FBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxLQUFLLE1BQU07UUFDOUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLEtBQUssTUFBTTtRQUVuQyxDQUFBLEdBQUEseUNBQVEsRUFBRSxJQUFJO0lBQ2hCO0FBc0RGIiwic291cmNlcyI6WyJwYWNrYWdlcy9AaW50ZXJuYXRpb25hbGl6ZWQvZGF0ZS9zcmMvQ2FsZW5kYXJEYXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBBZG9iZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgZmlsZSBpcyBsaWNlbnNlZCB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5XG4gKiBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyXG4gKiB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBSRVBSRVNFTlRBVElPTlNcbiAqIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZVxuICogZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2FkZCwgYWRkVGltZSwgYWRkWm9uZWQsIGNvbnN0cmFpbiwgY29uc3RyYWluVGltZSwgY3ljbGVEYXRlLCBjeWNsZVRpbWUsIGN5Y2xlWm9uZWQsIHNldCwgc2V0VGltZSwgc2V0Wm9uZWQsIHN1YnRyYWN0LCBzdWJ0cmFjdFRpbWUsIHN1YnRyYWN0Wm9uZWR9IGZyb20gJy4vbWFuaXB1bGF0aW9uJztcbmltcG9ydCB7QW55Q2FsZW5kYXJEYXRlLCBBbnlUaW1lLCBDYWxlbmRhciwgQ3ljbGVPcHRpb25zLCBDeWNsZVRpbWVPcHRpb25zLCBEYXRlRHVyYXRpb24sIERhdGVGaWVsZCwgRGF0ZUZpZWxkcywgRGF0ZVRpbWVEdXJhdGlvbiwgRGlzYW1iaWd1YXRpb24sIFRpbWVEdXJhdGlvbiwgVGltZUZpZWxkLCBUaW1lRmllbGRzfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7Y29tcGFyZURhdGUsIGNvbXBhcmVUaW1lfSBmcm9tICcuL3F1ZXJpZXMnO1xuaW1wb3J0IHtkYXRlVGltZVRvU3RyaW5nLCBkYXRlVG9TdHJpbmcsIHRpbWVUb1N0cmluZywgem9uZWREYXRlVGltZVRvU3RyaW5nfSBmcm9tICcuL3N0cmluZyc7XG5pbXBvcnQge0dyZWdvcmlhbkNhbGVuZGFyfSBmcm9tICcuL2NhbGVuZGFycy9HcmVnb3JpYW5DYWxlbmRhcic7XG5pbXBvcnQge3RvQ2FsZW5kYXJEYXRlVGltZSwgdG9EYXRlLCB0b1pvbmVkLCB6b25lZFRvRGF0ZX0gZnJvbSAnLi9jb252ZXJzaW9uJztcblxuZnVuY3Rpb24gc2hpZnRBcmdzKGFyZ3M6IGFueVtdKSB7XG4gIGxldCBjYWxlbmRhcjogQ2FsZW5kYXIgPSB0eXBlb2YgYXJnc1swXSA9PT0gJ29iamVjdCdcbiAgICA/IGFyZ3Muc2hpZnQoKVxuICAgIDogbmV3IEdyZWdvcmlhbkNhbGVuZGFyKCk7XG5cbiAgbGV0IGVyYTogc3RyaW5nO1xuICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgZXJhID0gYXJncy5zaGlmdCgpO1xuICB9IGVsc2Uge1xuICAgIGxldCBlcmFzID0gY2FsZW5kYXIuZ2V0RXJhcygpO1xuICAgIGVyYSA9IGVyYXNbZXJhcy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIGxldCB5ZWFyID0gYXJncy5zaGlmdCgpO1xuICBsZXQgbW9udGggPSBhcmdzLnNoaWZ0KCk7XG4gIGxldCBkYXkgPSBhcmdzLnNoaWZ0KCk7XG5cbiAgcmV0dXJuIFtjYWxlbmRhciwgZXJhLCB5ZWFyLCBtb250aCwgZGF5XTtcbn1cblxuLyoqIEEgQ2FsZW5kYXJEYXRlIHJlcHJlc2VudHMgYSBkYXRlIHdpdGhvdXQgYW55IHRpbWUgY29tcG9uZW50cyBpbiBhIHNwZWNpZmljIGNhbGVuZGFyIHN5c3RlbS4gKi9cbmV4cG9ydCBjbGFzcyBDYWxlbmRhckRhdGUge1xuICAvLyBUaGlzIHByZXZlbnRzIFR5cGVTY3JpcHQgZnJvbSBhbGxvd2luZyBvdGhlciB0eXBlcyB3aXRoIHRoZSBzYW1lIGZpZWxkcyB0byBtYXRjaC5cbiAgLy8gaS5lLiBhIFpvbmVkRGF0ZVRpbWUgc2hvdWxkIG5vdCBiZSBiZSBwYXNzYWJsZSB0byBhIHBhcmFtZXRlciB0aGF0IGV4cGVjdHMgQ2FsZW5kYXJEYXRlLlxuICAvLyBJZiB0aGF0IGJlaGF2aW9yIGlzIGRlc2lyZWQsIHVzZSB0aGUgQW55Q2FsZW5kYXJEYXRlIGludGVyZmFjZSBpbnN0ZWFkLlxuICAvLyBAdHMtaWdub3JlXG4gICN0eXBlO1xuICAvKiogVGhlIGNhbGVuZGFyIHN5c3RlbSBhc3NvY2lhdGVkIHdpdGggdGhpcyBkYXRlLCBlLmcuIEdyZWdvcmlhbi4gKi9cbiAgcHVibGljIHJlYWRvbmx5IGNhbGVuZGFyOiBDYWxlbmRhcjtcbiAgLyoqIFRoZSBjYWxlbmRhciBlcmEgZm9yIHRoaXMgZGF0ZSwgZS5nLiBcIkJDXCIgb3IgXCJBRFwiLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgZXJhOiBzdHJpbmc7XG4gIC8qKiBUaGUgeWVhciBvZiB0aGlzIGRhdGUgd2l0aGluIHRoZSBlcmEuICovXG4gIHB1YmxpYyByZWFkb25seSB5ZWFyOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbW9udGggbnVtYmVyIHdpdGhpbiB0aGUgeWVhci4gTm90ZSB0aGF0IHNvbWUgY2FsZW5kYXIgc3lzdGVtcyBzdWNoIGFzIEhlYnJld1xuICAgKiBtYXkgaGF2ZSBhIHZhcmlhYmxlIG51bWJlciBvZiBtb250aHMgcGVyIHllYXIuIFRoZXJlZm9yZSwgbW9udGggbnVtYmVycyBtYXkgbm90XG4gICAqIGFsd2F5cyBjb3JyZXNwb25kIHRvIHRoZSBzYW1lIG1vbnRoIG5hbWVzIGluIGRpZmZlcmVudCB5ZWFycy5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBtb250aDogbnVtYmVyO1xuICAvKiogVGhlIGRheSBudW1iZXIgd2l0aGluIHRoZSBtb250aC4gKi9cbiAgcHVibGljIHJlYWRvbmx5IGRheTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIpO1xuICBjb25zdHJ1Y3RvcihlcmE6IHN0cmluZywgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlcik7XG4gIGNvbnN0cnVjdG9yKGNhbGVuZGFyOiBDYWxlbmRhciwgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlcik7XG4gIGNvbnN0cnVjdG9yKGNhbGVuZGFyOiBDYWxlbmRhciwgZXJhOiBzdHJpbmcsIHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIpO1xuICBjb25zdHJ1Y3RvciguLi5hcmdzOiBhbnlbXSkge1xuICAgIGxldCBbY2FsZW5kYXIsIGVyYSwgeWVhciwgbW9udGgsIGRheV0gPSBzaGlmdEFyZ3MoYXJncyk7XG4gICAgdGhpcy5jYWxlbmRhciA9IGNhbGVuZGFyO1xuICAgIHRoaXMuZXJhID0gZXJhO1xuICAgIHRoaXMueWVhciA9IHllYXI7XG4gICAgdGhpcy5tb250aCA9IG1vbnRoO1xuICAgIHRoaXMuZGF5ID0gZGF5O1xuXG4gICAgY29uc3RyYWluKHRoaXMpO1xuICB9XG5cbiAgLyoqIFJldHVybnMgYSBjb3B5IG9mIHRoaXMgZGF0ZS4gKi9cbiAgY29weSgpOiBDYWxlbmRhckRhdGUge1xuICAgIGlmICh0aGlzLmVyYSkge1xuICAgICAgcmV0dXJuIG5ldyBDYWxlbmRhckRhdGUodGhpcy5jYWxlbmRhciwgdGhpcy5lcmEsIHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5kYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IENhbGVuZGFyRGF0ZSh0aGlzLmNhbGVuZGFyLCB0aGlzLnllYXIsIHRoaXMubW9udGgsIHRoaXMuZGF5KTtcbiAgICB9XG4gIH1cblxuICAvKiogUmV0dXJucyBhIG5ldyBgQ2FsZW5kYXJEYXRlYCB3aXRoIHRoZSBnaXZlbiBkdXJhdGlvbiBhZGRlZCB0byBpdC4gKi9cbiAgYWRkKGR1cmF0aW9uOiBEYXRlRHVyYXRpb24pOiBDYWxlbmRhckRhdGUge1xuICAgIHJldHVybiBhZGQodGhpcywgZHVyYXRpb24pO1xuICB9XG5cbiAgLyoqIFJldHVybnMgYSBuZXcgYENhbGVuZGFyRGF0ZWAgd2l0aCB0aGUgZ2l2ZW4gZHVyYXRpb24gc3VidHJhY3RlZCBmcm9tIGl0LiAqL1xuICBzdWJ0cmFjdChkdXJhdGlvbjogRGF0ZUR1cmF0aW9uKTogQ2FsZW5kYXJEYXRlIHtcbiAgICByZXR1cm4gc3VidHJhY3QodGhpcywgZHVyYXRpb24pO1xuICB9XG5cbiAgLyoqIFJldHVybnMgYSBuZXcgYENhbGVuZGFyRGF0ZWAgd2l0aCB0aGUgZ2l2ZW4gZmllbGRzIHNldCB0byB0aGUgcHJvdmlkZWQgdmFsdWVzLiBPdGhlciBmaWVsZHMgd2lsbCBiZSBjb25zdHJhaW5lZCBhY2NvcmRpbmdseS4gKi9cbiAgc2V0KGZpZWxkczogRGF0ZUZpZWxkcyk6IENhbGVuZGFyRGF0ZSB7XG4gICAgcmV0dXJuIHNldCh0aGlzLCBmaWVsZHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgYENhbGVuZGFyRGF0ZWAgd2l0aCB0aGUgZ2l2ZW4gZmllbGQgYWRqdXN0ZWQgYnkgYSBzcGVjaWZpZWQgYW1vdW50LlxuICAgKiBXaGVuIHRoZSByZXN1bHRpbmcgdmFsdWUgcmVhY2hlcyB0aGUgbGltaXRzIG9mIHRoZSBmaWVsZCwgaXQgd3JhcHMgYXJvdW5kLlxuICAgKi9cbiAgY3ljbGUoZmllbGQ6IERhdGVGaWVsZCwgYW1vdW50OiBudW1iZXIsIG9wdGlvbnM/OiBDeWNsZU9wdGlvbnMpOiBDYWxlbmRhckRhdGUge1xuICAgIHJldHVybiBjeWNsZURhdGUodGhpcywgZmllbGQsIGFtb3VudCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKiogQ29udmVydHMgdGhlIGRhdGUgdG8gYSBuYXRpdmUgSmF2YVNjcmlwdCBEYXRlIG9iamVjdCwgd2l0aCB0aGUgdGltZSBzZXQgdG8gbWlkbmlnaHQgaW4gdGhlIGdpdmVuIHRpbWUgem9uZS4gKi9cbiAgdG9EYXRlKHRpbWVab25lOiBzdHJpbmcpOiBEYXRlIHtcbiAgICByZXR1cm4gdG9EYXRlKHRoaXMsIHRpbWVab25lKTtcbiAgfVxuXG4gIC8qKiBDb252ZXJ0cyB0aGUgZGF0ZSB0byBhbiBJU08gODYwMSBmb3JtYXR0ZWQgc3RyaW5nLiAqL1xuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBkYXRlVG9TdHJpbmcodGhpcyk7XG4gIH1cblxuICAvKiogQ29tcGFyZXMgdGhpcyBkYXRlIHdpdGggYW5vdGhlci4gQSBuZWdhdGl2ZSByZXN1bHQgaW5kaWNhdGVzIHRoYXQgdGhpcyBkYXRlIGlzIGJlZm9yZSB0aGUgZ2l2ZW4gb25lLCBhbmQgYSBwb3NpdGl2ZSBkYXRlIGluZGljYXRlcyB0aGF0IGl0IGlzIGFmdGVyLiAqL1xuICBjb21wYXJlKGI6IEFueUNhbGVuZGFyRGF0ZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIGNvbXBhcmVEYXRlKHRoaXMsIGIpO1xuICB9XG59XG5cbi8qKiBBIFRpbWUgcmVwcmVzZW50cyBhIGNsb2NrIHRpbWUgd2l0aG91dCBhbnkgZGF0ZSBjb21wb25lbnRzLiAqL1xuZXhwb3J0IGNsYXNzIFRpbWUge1xuICAvLyBUaGlzIHByZXZlbnRzIFR5cGVTY3JpcHQgZnJvbSBhbGxvd2luZyBvdGhlciB0eXBlcyB3aXRoIHRoZSBzYW1lIGZpZWxkcyB0byBtYXRjaC5cbiAgLy8gQHRzLWlnbm9yZVxuICAjdHlwZTtcbiAgLyoqIFRoZSBob3VyLCBudW1iZXJlZCBmcm9tIDAgdG8gMjMuICovXG4gIHB1YmxpYyByZWFkb25seSBob3VyOiBudW1iZXI7XG4gIC8qKiBUaGUgbWludXRlIGluIHRoZSBob3VyLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgbWludXRlOiBudW1iZXI7XG4gIC8qKiBUaGUgc2Vjb25kIGluIHRoZSBtaW51dGUuICovXG4gIHB1YmxpYyByZWFkb25seSBzZWNvbmQ6IG51bWJlcjtcbiAgLyoqIFRoZSBtaWxsaXNlY29uZCBpbiB0aGUgc2Vjb25kLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgbWlsbGlzZWNvbmQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBob3VyOiBudW1iZXIgPSAwLFxuICAgIG1pbnV0ZTogbnVtYmVyID0gMCxcbiAgICBzZWNvbmQ6IG51bWJlciA9IDAsXG4gICAgbWlsbGlzZWNvbmQ6IG51bWJlciA9IDBcbiAgKSB7XG4gICAgdGhpcy5ob3VyID0gaG91cjtcbiAgICB0aGlzLm1pbnV0ZSA9IG1pbnV0ZTtcbiAgICB0aGlzLnNlY29uZCA9IHNlY29uZDtcbiAgICB0aGlzLm1pbGxpc2Vjb25kID0gbWlsbGlzZWNvbmQ7XG4gICAgY29uc3RyYWluVGltZSh0aGlzKTtcbiAgfVxuXG4gIC8qKiBSZXR1cm5zIGEgY29weSBvZiB0aGlzIHRpbWUuICovXG4gIGNvcHkoKTogVGltZSB7XG4gICAgcmV0dXJuIG5ldyBUaW1lKHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kLCB0aGlzLm1pbGxpc2Vjb25kKTtcbiAgfVxuXG4gIC8qKiBSZXR1cm5zIGEgbmV3IGBUaW1lYCB3aXRoIHRoZSBnaXZlbiBkdXJhdGlvbiBhZGRlZCB0byBpdC4gKi9cbiAgYWRkKGR1cmF0aW9uOiBUaW1lRHVyYXRpb24pOiBUaW1lIHtcbiAgICByZXR1cm4gYWRkVGltZSh0aGlzLCBkdXJhdGlvbik7XG4gIH1cblxuICAvKiogUmV0dXJucyBhIG5ldyBgVGltZWAgd2l0aCB0aGUgZ2l2ZW4gZHVyYXRpb24gc3VidHJhY3RlZCBmcm9tIGl0LiAqL1xuICBzdWJ0cmFjdChkdXJhdGlvbjogVGltZUR1cmF0aW9uKTogVGltZSB7XG4gICAgcmV0dXJuIHN1YnRyYWN0VGltZSh0aGlzLCBkdXJhdGlvbik7XG4gIH1cblxuICAvKiogUmV0dXJucyBhIG5ldyBgVGltZWAgd2l0aCB0aGUgZ2l2ZW4gZmllbGRzIHNldCB0byB0aGUgcHJvdmlkZWQgdmFsdWVzLiBPdGhlciBmaWVsZHMgd2lsbCBiZSBjb25zdHJhaW5lZCBhY2NvcmRpbmdseS4gKi9cbiAgc2V0KGZpZWxkczogVGltZUZpZWxkcyk6IFRpbWUge1xuICAgIHJldHVybiBzZXRUaW1lKHRoaXMsIGZpZWxkcyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBgVGltZWAgd2l0aCB0aGUgZ2l2ZW4gZmllbGQgYWRqdXN0ZWQgYnkgYSBzcGVjaWZpZWQgYW1vdW50LlxuICAgKiBXaGVuIHRoZSByZXN1bHRpbmcgdmFsdWUgcmVhY2hlcyB0aGUgbGltaXRzIG9mIHRoZSBmaWVsZCwgaXQgd3JhcHMgYXJvdW5kLlxuICAgKi9cbiAgY3ljbGUoZmllbGQ6IFRpbWVGaWVsZCwgYW1vdW50OiBudW1iZXIsIG9wdGlvbnM/OiBDeWNsZVRpbWVPcHRpb25zKTogVGltZSB7XG4gICAgcmV0dXJuIGN5Y2xlVGltZSh0aGlzLCBmaWVsZCwgYW1vdW50LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBDb252ZXJ0cyB0aGUgdGltZSB0byBhbiBJU08gODYwMSBmb3JtYXR0ZWQgc3RyaW5nLiAqL1xuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aW1lVG9TdHJpbmcodGhpcyk7XG4gIH1cblxuICAvKiogQ29tcGFyZXMgdGhpcyB0aW1lIHdpdGggYW5vdGhlci4gQSBuZWdhdGl2ZSByZXN1bHQgaW5kaWNhdGVzIHRoYXQgdGhpcyB0aW1lIGlzIGJlZm9yZSB0aGUgZ2l2ZW4gb25lLCBhbmQgYSBwb3NpdGl2ZSB0aW1lIGluZGljYXRlcyB0aGF0IGl0IGlzIGFmdGVyLiAqL1xuICBjb21wYXJlKGI6IEFueVRpbWUpOiBudW1iZXIge1xuICAgIHJldHVybiBjb21wYXJlVGltZSh0aGlzLCBiKTtcbiAgfVxufVxuXG4vKiogQSBDYWxlbmRhckRhdGVUaW1lIHJlcHJlc2VudHMgYSBkYXRlIGFuZCB0aW1lIHdpdGhvdXQgYSB0aW1lIHpvbmUsIGluIGEgc3BlY2lmaWMgY2FsZW5kYXIgc3lzdGVtLiAqL1xuZXhwb3J0IGNsYXNzIENhbGVuZGFyRGF0ZVRpbWUge1xuICAvLyBUaGlzIHByZXZlbnRzIFR5cGVTY3JpcHQgZnJvbSBhbGxvd2luZyBvdGhlciB0eXBlcyB3aXRoIHRoZSBzYW1lIGZpZWxkcyB0byBtYXRjaC5cbiAgLy8gQHRzLWlnbm9yZVxuICAjdHlwZTtcbiAgLyoqIFRoZSBjYWxlbmRhciBzeXN0ZW0gYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGF0ZSwgZS5nLiBHcmVnb3JpYW4uICovXG4gIHB1YmxpYyByZWFkb25seSBjYWxlbmRhcjogQ2FsZW5kYXI7XG4gIC8qKiBUaGUgY2FsZW5kYXIgZXJhIGZvciB0aGlzIGRhdGUsIGUuZy4gXCJCQ1wiIG9yIFwiQURcIi4gKi9cbiAgcHVibGljIHJlYWRvbmx5IGVyYTogc3RyaW5nO1xuICAvKiogVGhlIHllYXIgb2YgdGhpcyBkYXRlIHdpdGhpbiB0aGUgZXJhLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgeWVhcjogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG1vbnRoIG51bWJlciB3aXRoaW4gdGhlIHllYXIuIE5vdGUgdGhhdCBzb21lIGNhbGVuZGFyIHN5c3RlbXMgc3VjaCBhcyBIZWJyZXdcbiAgICogbWF5IGhhdmUgYSB2YXJpYWJsZSBudW1iZXIgb2YgbW9udGhzIHBlciB5ZWFyLiBUaGVyZWZvcmUsIG1vbnRoIG51bWJlcnMgbWF5IG5vdFxuICAgKiBhbHdheXMgY29ycmVzcG9uZCB0byB0aGUgc2FtZSBtb250aCBuYW1lcyBpbiBkaWZmZXJlbnQgeWVhcnMuXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgbW9udGg6IG51bWJlcjtcbiAgLyoqIFRoZSBkYXkgbnVtYmVyIHdpdGhpbiB0aGUgbW9udGguICovXG4gIHB1YmxpYyByZWFkb25seSBkYXk6IG51bWJlcjtcbiAgLyoqIFRoZSBob3VyIGluIHRoZSBkYXksIG51bWJlcmVkIGZyb20gMCB0byAyMy4gKi9cbiAgcHVibGljIHJlYWRvbmx5IGhvdXI6IG51bWJlcjtcbiAgLyoqIFRoZSBtaW51dGUgaW4gdGhlIGhvdXIuICovXG4gIHB1YmxpYyByZWFkb25seSBtaW51dGU6IG51bWJlcjtcbiAgLyoqIFRoZSBzZWNvbmQgaW4gdGhlIG1pbnV0ZS4gKi9cbiAgcHVibGljIHJlYWRvbmx5IHNlY29uZDogbnVtYmVyO1xuICAvKiogVGhlIG1pbGxpc2Vjb25kIGluIHRoZSBzZWNvbmQuICovXG4gIHB1YmxpYyByZWFkb25seSBtaWxsaXNlY29uZDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIsIGhvdXI/OiBudW1iZXIsIG1pbnV0ZT86IG51bWJlciwgc2Vjb25kPzogbnVtYmVyLCBtaWxsaXNlY29uZD86IG51bWJlcik7XG4gIGNvbnN0cnVjdG9yKGVyYTogc3RyaW5nLCB5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIsIGRheTogbnVtYmVyLCBob3VyPzogbnVtYmVyLCBtaW51dGU/OiBudW1iZXIsIHNlY29uZD86IG51bWJlciwgbWlsbGlzZWNvbmQ/OiBudW1iZXIpO1xuICBjb25zdHJ1Y3RvcihjYWxlbmRhcjogQ2FsZW5kYXIsIHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIsIGhvdXI/OiBudW1iZXIsIG1pbnV0ZT86IG51bWJlciwgc2Vjb25kPzogbnVtYmVyLCBtaWxsaXNlY29uZD86IG51bWJlcik7XG4gIGNvbnN0cnVjdG9yKGNhbGVuZGFyOiBDYWxlbmRhciwgZXJhOiBzdHJpbmcsIHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIsIGhvdXI/OiBudW1iZXIsIG1pbnV0ZT86IG51bWJlciwgc2Vjb25kPzogbnVtYmVyLCBtaWxsaXNlY29uZD86IG51bWJlcik7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgbGV0IFtjYWxlbmRhciwgZXJhLCB5ZWFyLCBtb250aCwgZGF5XSA9IHNoaWZ0QXJncyhhcmdzKTtcbiAgICB0aGlzLmNhbGVuZGFyID0gY2FsZW5kYXI7XG4gICAgdGhpcy5lcmEgPSBlcmE7XG4gICAgdGhpcy55ZWFyID0geWVhcjtcbiAgICB0aGlzLm1vbnRoID0gbW9udGg7XG4gICAgdGhpcy5kYXkgPSBkYXk7XG4gICAgdGhpcy5ob3VyID0gYXJncy5zaGlmdCgpIHx8IDA7XG4gICAgdGhpcy5taW51dGUgPSBhcmdzLnNoaWZ0KCkgfHwgMDtcbiAgICB0aGlzLnNlY29uZCA9IGFyZ3Muc2hpZnQoKSB8fCAwO1xuICAgIHRoaXMubWlsbGlzZWNvbmQgPSBhcmdzLnNoaWZ0KCkgfHwgMDtcblxuICAgIGNvbnN0cmFpbih0aGlzKTtcbiAgfVxuXG4gIC8qKiBSZXR1cm5zIGEgY29weSBvZiB0aGlzIGRhdGUuICovXG4gIGNvcHkoKTogQ2FsZW5kYXJEYXRlVGltZSB7XG4gICAgaWYgKHRoaXMuZXJhKSB7XG4gICAgICByZXR1cm4gbmV3IENhbGVuZGFyRGF0ZVRpbWUodGhpcy5jYWxlbmRhciwgdGhpcy5lcmEsIHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5kYXksIHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kLCB0aGlzLm1pbGxpc2Vjb25kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBDYWxlbmRhckRhdGVUaW1lKHRoaXMuY2FsZW5kYXIsIHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5kYXksIHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kLCB0aGlzLm1pbGxpc2Vjb25kKTtcbiAgICB9XG4gIH1cblxuICAvKiogUmV0dXJucyBhIG5ldyBgQ2FsZW5kYXJEYXRlVGltZWAgd2l0aCB0aGUgZ2l2ZW4gZHVyYXRpb24gYWRkZWQgdG8gaXQuICovXG4gIGFkZChkdXJhdGlvbjogRGF0ZVRpbWVEdXJhdGlvbik6IENhbGVuZGFyRGF0ZVRpbWUge1xuICAgIHJldHVybiBhZGQodGhpcywgZHVyYXRpb24pO1xuICB9XG5cbiAgLyoqIFJldHVybnMgYSBuZXcgYENhbGVuZGFyRGF0ZVRpbWVgIHdpdGggdGhlIGdpdmVuIGR1cmF0aW9uIHN1YnRyYWN0ZWQgZnJvbSBpdC4gKi9cbiAgc3VidHJhY3QoZHVyYXRpb246IERhdGVUaW1lRHVyYXRpb24pOiBDYWxlbmRhckRhdGVUaW1lIHtcbiAgICByZXR1cm4gc3VidHJhY3QodGhpcywgZHVyYXRpb24pO1xuICB9XG5cbiAgLyoqIFJldHVybnMgYSBuZXcgYENhbGVuZGFyRGF0ZVRpbWVgIHdpdGggdGhlIGdpdmVuIGZpZWxkcyBzZXQgdG8gdGhlIHByb3ZpZGVkIHZhbHVlcy4gT3RoZXIgZmllbGRzIHdpbGwgYmUgY29uc3RyYWluZWQgYWNjb3JkaW5nbHkuICovXG4gIHNldChmaWVsZHM6IERhdGVGaWVsZHMgJiBUaW1lRmllbGRzKTogQ2FsZW5kYXJEYXRlVGltZSB7XG4gICAgcmV0dXJuIHNldChzZXRUaW1lKHRoaXMsIGZpZWxkcyksIGZpZWxkcyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBgQ2FsZW5kYXJEYXRlVGltZWAgd2l0aCB0aGUgZ2l2ZW4gZmllbGQgYWRqdXN0ZWQgYnkgYSBzcGVjaWZpZWQgYW1vdW50LlxuICAgKiBXaGVuIHRoZSByZXN1bHRpbmcgdmFsdWUgcmVhY2hlcyB0aGUgbGltaXRzIG9mIHRoZSBmaWVsZCwgaXQgd3JhcHMgYXJvdW5kLlxuICAgKi9cbiAgY3ljbGUoZmllbGQ6IERhdGVGaWVsZCB8IFRpbWVGaWVsZCwgYW1vdW50OiBudW1iZXIsIG9wdGlvbnM/OiBDeWNsZVRpbWVPcHRpb25zKTogQ2FsZW5kYXJEYXRlVGltZSB7XG4gICAgc3dpdGNoIChmaWVsZCkge1xuICAgICAgY2FzZSAnZXJhJzpcbiAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgcmV0dXJuIGN5Y2xlRGF0ZSh0aGlzLCBmaWVsZCwgYW1vdW50LCBvcHRpb25zKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBjeWNsZVRpbWUodGhpcywgZmllbGQsIGFtb3VudCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgLyoqIENvbnZlcnRzIHRoZSBkYXRlIHRvIGEgbmF0aXZlIEphdmFTY3JpcHQgRGF0ZSBvYmplY3QgaW4gdGhlIGdpdmVuIHRpbWUgem9uZS4gKi9cbiAgdG9EYXRlKHRpbWVab25lOiBzdHJpbmcsIGRpc2FtYmlndWF0aW9uPzogRGlzYW1iaWd1YXRpb24pOiBEYXRlIHtcbiAgICByZXR1cm4gdG9EYXRlKHRoaXMsIHRpbWVab25lLCBkaXNhbWJpZ3VhdGlvbik7XG4gIH1cblxuICAvKiogQ29udmVydHMgdGhlIGRhdGUgdG8gYW4gSVNPIDg2MDEgZm9ybWF0dGVkIHN0cmluZy4gKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZGF0ZVRpbWVUb1N0cmluZyh0aGlzKTtcbiAgfVxuXG4gIC8qKiBDb21wYXJlcyB0aGlzIGRhdGUgd2l0aCBhbm90aGVyLiBBIG5lZ2F0aXZlIHJlc3VsdCBpbmRpY2F0ZXMgdGhhdCB0aGlzIGRhdGUgaXMgYmVmb3JlIHRoZSBnaXZlbiBvbmUsIGFuZCBhIHBvc2l0aXZlIGRhdGUgaW5kaWNhdGVzIHRoYXQgaXQgaXMgYWZ0ZXIuICovXG4gIGNvbXBhcmUoYjogQ2FsZW5kYXJEYXRlIHwgQ2FsZW5kYXJEYXRlVGltZSB8IFpvbmVkRGF0ZVRpbWUpOiBudW1iZXIge1xuICAgIGxldCByZXMgPSBjb21wYXJlRGF0ZSh0aGlzLCBiKTtcbiAgICBpZiAocmVzID09PSAwKSB7XG4gICAgICByZXR1cm4gY29tcGFyZVRpbWUodGhpcywgdG9DYWxlbmRhckRhdGVUaW1lKGIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG59XG5cbi8qKiBBIFpvbmVkRGF0ZVRpbWUgcmVwcmVzZW50cyBhIGRhdGUgYW5kIHRpbWUgaW4gYSBzcGVjaWZpYyB0aW1lIHpvbmUgYW5kIGNhbGVuZGFyIHN5c3RlbS4gKi9cbmV4cG9ydCBjbGFzcyBab25lZERhdGVUaW1lIHtcbiAgLy8gVGhpcyBwcmV2ZW50cyBUeXBlU2NyaXB0IGZyb20gYWxsb3dpbmcgb3RoZXIgdHlwZXMgd2l0aCB0aGUgc2FtZSBmaWVsZHMgdG8gbWF0Y2guXG4gIC8vIEB0cy1pZ25vcmVcbiAgI3R5cGU7XG4gIC8qKiBUaGUgY2FsZW5kYXIgc3lzdGVtIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRhdGUsIGUuZy4gR3JlZ29yaWFuLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgY2FsZW5kYXI6IENhbGVuZGFyO1xuICAvKiogVGhlIGNhbGVuZGFyIGVyYSBmb3IgdGhpcyBkYXRlLCBlLmcuIFwiQkNcIiBvciBcIkFEXCIuICovXG4gIHB1YmxpYyByZWFkb25seSBlcmE6IHN0cmluZztcbiAgLyoqIFRoZSB5ZWFyIG9mIHRoaXMgZGF0ZSB3aXRoaW4gdGhlIGVyYS4gKi9cbiAgcHVibGljIHJlYWRvbmx5IHllYXI6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBtb250aCBudW1iZXIgd2l0aGluIHRoZSB5ZWFyLiBOb3RlIHRoYXQgc29tZSBjYWxlbmRhciBzeXN0ZW1zIHN1Y2ggYXMgSGVicmV3XG4gICAqIG1heSBoYXZlIGEgdmFyaWFibGUgbnVtYmVyIG9mIG1vbnRocyBwZXIgeWVhci4gVGhlcmVmb3JlLCBtb250aCBudW1iZXJzIG1heSBub3RcbiAgICogYWx3YXlzIGNvcnJlc3BvbmQgdG8gdGhlIHNhbWUgbW9udGggbmFtZXMgaW4gZGlmZmVyZW50IHllYXJzLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IG1vbnRoOiBudW1iZXI7XG4gIC8qKiBUaGUgZGF5IG51bWJlciB3aXRoaW4gdGhlIG1vbnRoLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgZGF5OiBudW1iZXI7XG4gIC8qKiBUaGUgaG91ciBpbiB0aGUgZGF5LCBudW1iZXJlZCBmcm9tIDAgdG8gMjMuICovXG4gIHB1YmxpYyByZWFkb25seSBob3VyOiBudW1iZXI7XG4gIC8qKiBUaGUgbWludXRlIGluIHRoZSBob3VyLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgbWludXRlOiBudW1iZXI7XG4gIC8qKiBUaGUgc2Vjb25kIGluIHRoZSBtaW51dGUuICovXG4gIHB1YmxpYyByZWFkb25seSBzZWNvbmQ6IG51bWJlcjtcbiAgLyoqIFRoZSBtaWxsaXNlY29uZCBpbiB0aGUgc2Vjb25kLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgbWlsbGlzZWNvbmQ6IG51bWJlcjtcbiAgLyoqIFRoZSBJQU5BIHRpbWUgem9uZSBpZGVudGlmaWVyIHRoYXQgdGhpcyBkYXRlIGFuZCB0aW1lIGlzIHJlcHJlc2VudGVkIGluLiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgdGltZVpvbmU6IHN0cmluZztcbiAgLyoqIFRoZSBVVEMgb2Zmc2V0IGZvciB0aGlzIHRpbWUsIGluIG1pbGxpc2Vjb25kcy4gKi9cbiAgcHVibGljIHJlYWRvbmx5IG9mZnNldDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIsIHRpbWVab25lOiBzdHJpbmcsIG9mZnNldDogbnVtYmVyLCBob3VyPzogbnVtYmVyLCBtaW51dGU/OiBudW1iZXIsIHNlY29uZD86IG51bWJlciwgbWlsbGlzZWNvbmQ/OiBudW1iZXIpO1xuICBjb25zdHJ1Y3RvcihlcmE6IHN0cmluZywgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlciwgdGltZVpvbmU6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIsIGhvdXI/OiBudW1iZXIsIG1pbnV0ZT86IG51bWJlciwgc2Vjb25kPzogbnVtYmVyLCBtaWxsaXNlY29uZD86IG51bWJlcik7XG4gIGNvbnN0cnVjdG9yKGNhbGVuZGFyOiBDYWxlbmRhciwgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlciwgdGltZVpvbmU6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIsIGhvdXI/OiBudW1iZXIsIG1pbnV0ZT86IG51bWJlciwgc2Vjb25kPzogbnVtYmVyLCBtaWxsaXNlY29uZD86IG51bWJlcik7XG4gIGNvbnN0cnVjdG9yKGNhbGVuZGFyOiBDYWxlbmRhciwgZXJhOiBzdHJpbmcsIHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIsIHRpbWVab25lOiBzdHJpbmcsIG9mZnNldDogbnVtYmVyLCBob3VyPzogbnVtYmVyLCBtaW51dGU/OiBudW1iZXIsIHNlY29uZD86IG51bWJlciwgbWlsbGlzZWNvbmQ/OiBudW1iZXIpO1xuICBjb25zdHJ1Y3RvciguLi5hcmdzOiBhbnlbXSkge1xuICAgIGxldCBbY2FsZW5kYXIsIGVyYSwgeWVhciwgbW9udGgsIGRheV0gPSBzaGlmdEFyZ3MoYXJncyk7XG4gICAgbGV0IHRpbWVab25lID0gYXJncy5zaGlmdCgpO1xuICAgIGxldCBvZmZzZXQgPSBhcmdzLnNoaWZ0KCk7XG4gICAgdGhpcy5jYWxlbmRhciA9IGNhbGVuZGFyO1xuICAgIHRoaXMuZXJhID0gZXJhO1xuICAgIHRoaXMueWVhciA9IHllYXI7XG4gICAgdGhpcy5tb250aCA9IG1vbnRoO1xuICAgIHRoaXMuZGF5ID0gZGF5O1xuICAgIHRoaXMudGltZVpvbmUgPSB0aW1lWm9uZTtcbiAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICB0aGlzLmhvdXIgPSBhcmdzLnNoaWZ0KCkgfHwgMDtcbiAgICB0aGlzLm1pbnV0ZSA9IGFyZ3Muc2hpZnQoKSB8fCAwO1xuICAgIHRoaXMuc2Vjb25kID0gYXJncy5zaGlmdCgpIHx8IDA7XG4gICAgdGhpcy5taWxsaXNlY29uZCA9IGFyZ3Muc2hpZnQoKSB8fCAwO1xuXG4gICAgY29uc3RyYWluKHRoaXMpO1xuICB9XG5cbiAgLyoqIFJldHVybnMgYSBjb3B5IG9mIHRoaXMgZGF0ZS4gKi9cbiAgY29weSgpOiBab25lZERhdGVUaW1lIHtcbiAgICBpZiAodGhpcy5lcmEpIHtcbiAgICAgIHJldHVybiBuZXcgWm9uZWREYXRlVGltZSh0aGlzLmNhbGVuZGFyLCB0aGlzLmVyYSwgdGhpcy55ZWFyLCB0aGlzLm1vbnRoLCB0aGlzLmRheSwgdGhpcy50aW1lWm9uZSwgdGhpcy5vZmZzZXQsIHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kLCB0aGlzLm1pbGxpc2Vjb25kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBab25lZERhdGVUaW1lKHRoaXMuY2FsZW5kYXIsIHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5kYXksIHRoaXMudGltZVpvbmUsIHRoaXMub2Zmc2V0LCB0aGlzLmhvdXIsIHRoaXMubWludXRlLCB0aGlzLnNlY29uZCwgdGhpcy5taWxsaXNlY29uZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIFJldHVybnMgYSBuZXcgYFpvbmVkRGF0ZVRpbWVgIHdpdGggdGhlIGdpdmVuIGR1cmF0aW9uIGFkZGVkIHRvIGl0LiAqL1xuICBhZGQoZHVyYXRpb246IERhdGVUaW1lRHVyYXRpb24pOiBab25lZERhdGVUaW1lIHtcbiAgICByZXR1cm4gYWRkWm9uZWQodGhpcywgZHVyYXRpb24pO1xuICB9XG5cbiAgLyoqIFJldHVybnMgYSBuZXcgYFpvbmVkRGF0ZVRpbWVgIHdpdGggdGhlIGdpdmVuIGR1cmF0aW9uIHN1YnRyYWN0ZWQgZnJvbSBpdC4gKi9cbiAgc3VidHJhY3QoZHVyYXRpb246IERhdGVUaW1lRHVyYXRpb24pOiBab25lZERhdGVUaW1lIHtcbiAgICByZXR1cm4gc3VidHJhY3Rab25lZCh0aGlzLCBkdXJhdGlvbik7XG4gIH1cblxuICAvKiogUmV0dXJucyBhIG5ldyBgWm9uZWREYXRlVGltZWAgd2l0aCB0aGUgZ2l2ZW4gZmllbGRzIHNldCB0byB0aGUgcHJvdmlkZWQgdmFsdWVzLiBPdGhlciBmaWVsZHMgd2lsbCBiZSBjb25zdHJhaW5lZCBhY2NvcmRpbmdseS4gKi9cbiAgc2V0KGZpZWxkczogRGF0ZUZpZWxkcyAmIFRpbWVGaWVsZHMsIGRpc2FtYmlndWF0aW9uPzogRGlzYW1iaWd1YXRpb24pOiBab25lZERhdGVUaW1lIHtcbiAgICByZXR1cm4gc2V0Wm9uZWQodGhpcywgZmllbGRzLCBkaXNhbWJpZ3VhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBgWm9uZWREYXRlVGltZWAgd2l0aCB0aGUgZ2l2ZW4gZmllbGQgYWRqdXN0ZWQgYnkgYSBzcGVjaWZpZWQgYW1vdW50LlxuICAgKiBXaGVuIHRoZSByZXN1bHRpbmcgdmFsdWUgcmVhY2hlcyB0aGUgbGltaXRzIG9mIHRoZSBmaWVsZCwgaXQgd3JhcHMgYXJvdW5kLlxuICAgKi9cbiAgY3ljbGUoZmllbGQ6IERhdGVGaWVsZCB8IFRpbWVGaWVsZCwgYW1vdW50OiBudW1iZXIsIG9wdGlvbnM/OiBDeWNsZVRpbWVPcHRpb25zKTogWm9uZWREYXRlVGltZSB7XG4gICAgcmV0dXJuIGN5Y2xlWm9uZWQodGhpcywgZmllbGQsIGFtb3VudCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKiogQ29udmVydHMgdGhlIGRhdGUgdG8gYSBuYXRpdmUgSmF2YVNjcmlwdCBEYXRlIG9iamVjdC4gKi9cbiAgdG9EYXRlKCk6IERhdGUge1xuICAgIHJldHVybiB6b25lZFRvRGF0ZSh0aGlzKTtcbiAgfVxuXG4gICAvKiogQ29udmVydHMgdGhlIGRhdGUgdG8gYW4gSVNPIDg2MDEgZm9ybWF0dGVkIHN0cmluZywgaW5jbHVkaW5nIHRoZSBVVEMgb2Zmc2V0IGFuZCB0aW1lIHpvbmUgaWRlbnRpZmllci4gKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gem9uZWREYXRlVGltZVRvU3RyaW5nKHRoaXMpO1xuICB9XG5cbiAgIC8qKiBDb252ZXJ0cyB0aGUgZGF0ZSB0byBhbiBJU08gODYwMSBmb3JtYXR0ZWQgc3RyaW5nIGluIFVUQy4gKi9cbiAgdG9BYnNvbHV0ZVN0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gIH1cblxuICAvKiogQ29tcGFyZXMgdGhpcyBkYXRlIHdpdGggYW5vdGhlci4gQSBuZWdhdGl2ZSByZXN1bHQgaW5kaWNhdGVzIHRoYXQgdGhpcyBkYXRlIGlzIGJlZm9yZSB0aGUgZ2l2ZW4gb25lLCBhbmQgYSBwb3NpdGl2ZSBkYXRlIGluZGljYXRlcyB0aGF0IGl0IGlzIGFmdGVyLiAqL1xuICBjb21wYXJlKGI6IENhbGVuZGFyRGF0ZSB8IENhbGVuZGFyRGF0ZVRpbWUgfCBab25lZERhdGVUaW1lKTogbnVtYmVyIHtcbiAgICAvLyBUT0RPOiBJcyB0aGlzIGEgYmFkIGlkZWE/P1xuICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLmdldFRpbWUoKSAtIHRvWm9uZWQoYiwgdGhpcy50aW1lWm9uZSkudG9EYXRlKCkuZ2V0VGltZSgpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FsZW5kYXJEYXRlLm1vZHVsZS5qcy5tYXAiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19