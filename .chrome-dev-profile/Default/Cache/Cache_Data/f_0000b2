import {CalendarDate as $35ea8db9cb2ccb90$export$99faa760c7908e4f} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@internationalized/date/dist/CalendarDate.mjs?v=1214a853";

/*
 * Copyright 2020 Adobe. All rights reserved.
 * This file is licensed to you under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License. You may obtain a copy
 * of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 * OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */ // Portions of the code in this file are based on code from ICU.
// Original licensing can be found in the NOTICE file in the root directory of this source tree.

const $b956b2d7a6cf451f$var$ETHIOPIC_EPOCH = 1723856;
const $b956b2d7a6cf451f$var$COPTIC_EPOCH = 1824665;
// The delta between Amete Alem 1 and Amete Mihret 1
// AA 5501 = AM 1
const $b956b2d7a6cf451f$var$AMETE_MIHRET_DELTA = 5500;
function $b956b2d7a6cf451f$var$ceToJulianDay(epoch, year, month, day) {
    return epoch // difference from Julian epoch to 1,1,1
     + 365 * year // number of days from years
     + Math.floor(year / 4) // extra day of leap year
     + 30 * (month - 1 // number of days from months (1 based)
    ) + day - 1 // number of days for present month (1 based)
    ;
}
function $b956b2d7a6cf451f$var$julianDayToCE(epoch, jd) {
    let year = Math.floor(4 * (jd - epoch) / 1461);
    let month = 1 + Math.floor((jd - $b956b2d7a6cf451f$var$ceToJulianDay(epoch, year, 1, 1)) / 30);
    let day = jd + 1 - $b956b2d7a6cf451f$var$ceToJulianDay(epoch, year, month, 1);
    return [
        year,
        month,
        day
    ];
}
function $b956b2d7a6cf451f$var$getLeapDay(year) {
    return Math.floor(year % 4 / 3);
}
function $b956b2d7a6cf451f$var$getDaysInMonth(year, month) {
    // The Ethiopian and Coptic calendars have 13 months, 12 of 30 days each and
    // an intercalary month at the end of the year of 5 or 6 days, depending whether
    // the year is a leap year or not. The Leap Year follows the same rules as the
    // Julian Calendar so that the extra month always has six days in the year before
    // a Julian Leap Year.
    if (month % 13 !== 0) // not intercalary month
    return 30;
    else // intercalary month 5 days + possible leap day
    return $b956b2d7a6cf451f$var$getLeapDay(year) + 5;
}
class $b956b2d7a6cf451f$export$26ba6eab5e20cd7d {
    fromJulianDay(jd) {
        let [year, month, day] = $b956b2d7a6cf451f$var$julianDayToCE($b956b2d7a6cf451f$var$ETHIOPIC_EPOCH, jd);
        let era = 'AM';
        if (year <= 0) {
            era = 'AA';
            year += $b956b2d7a6cf451f$var$AMETE_MIHRET_DELTA;
        }
        return new (0, $35ea8db9cb2ccb90$export$99faa760c7908e4f)(this, era, year, month, day);
    }
    toJulianDay(date) {
        let year = date.year;
        if (date.era === 'AA') year -= $b956b2d7a6cf451f$var$AMETE_MIHRET_DELTA;
        return $b956b2d7a6cf451f$var$ceToJulianDay($b956b2d7a6cf451f$var$ETHIOPIC_EPOCH, year, date.month, date.day);
    }
    getDaysInMonth(date) {
        return $b956b2d7a6cf451f$var$getDaysInMonth(date.year, date.month);
    }
    getMonthsInYear() {
        return 13;
    }
    getDaysInYear(date) {
        return 365 + $b956b2d7a6cf451f$var$getLeapDay(date.year);
    }
    getYearsInEra(date) {
        // 9999-12-31 gregorian is 9992-20-02 ethiopic.
        // Round down to 9991 for the last full year.
        // AA 9999-01-01 ethiopic is 4506-09-30 gregorian.
        return date.era === 'AA' ? 9999 : 9991;
    }
    getEras() {
        return [
            'AA',
            'AM'
        ];
    }
    constructor(){
        this.identifier = 'ethiopic';
    }
}
class $b956b2d7a6cf451f$export$d72e0c37005a4914 extends $b956b2d7a6cf451f$export$26ba6eab5e20cd7d {
    fromJulianDay(jd) {
        let [year, month, day] = $b956b2d7a6cf451f$var$julianDayToCE($b956b2d7a6cf451f$var$ETHIOPIC_EPOCH, jd);
        year += $b956b2d7a6cf451f$var$AMETE_MIHRET_DELTA;
        return new (0, $35ea8db9cb2ccb90$export$99faa760c7908e4f)(this, 'AA', year, month, day);
    }
    getEras() {
        return [
            'AA'
        ];
    }
    getYearsInEra() {
        // 9999-13-04 ethioaa is the maximum date, which is equivalent to 4506-09-29 gregorian.
        return 9999;
    }
    constructor(...args){
        super(...args), this.identifier = 'ethioaa' // also known as 'ethiopic-amete-alem' in ICU
        ;
    }
}
class $b956b2d7a6cf451f$export$fe6243cbe1a4b7c1 extends $b956b2d7a6cf451f$export$26ba6eab5e20cd7d {
    fromJulianDay(jd) {
        let [year, month, day] = $b956b2d7a6cf451f$var$julianDayToCE($b956b2d7a6cf451f$var$COPTIC_EPOCH, jd);
        let era = 'CE';
        if (year <= 0) {
            era = 'BCE';
            year = 1 - year;
        }
        return new (0, $35ea8db9cb2ccb90$export$99faa760c7908e4f)(this, era, year, month, day);
    }
    toJulianDay(date) {
        let year = date.year;
        if (date.era === 'BCE') year = 1 - year;
        return $b956b2d7a6cf451f$var$ceToJulianDay($b956b2d7a6cf451f$var$COPTIC_EPOCH, year, date.month, date.day);
    }
    getDaysInMonth(date) {
        let year = date.year;
        if (date.era === 'BCE') year = 1 - year;
        return $b956b2d7a6cf451f$var$getDaysInMonth(year, date.month);
    }
    isInverseEra(date) {
        return date.era === 'BCE';
    }
    balanceDate(date) {
        if (date.year <= 0) {
            date.era = date.era === 'BCE' ? 'CE' : 'BCE';
            date.year = 1 - date.year;
        }
    }
    getEras() {
        return [
            'BCE',
            'CE'
        ];
    }
    getYearsInEra(date) {
        // 9999-12-30 gregorian is 9716-02-20 coptic.
        // Round down to 9715 for the last full year.
        // BCE 9999-01-01 coptic is BC 9716-06-15 gregorian.
        return date.era === 'BCE' ? 9999 : 9715;
    }
    constructor(...args){
        super(...args), this.identifier = 'coptic';
    }
}


export {$b956b2d7a6cf451f$export$26ba6eab5e20cd7d as EthiopicCalendar, $b956b2d7a6cf451f$export$d72e0c37005a4914 as EthiopicAmeteAlemCalendar, $b956b2d7a6cf451f$export$fe6243cbe1a4b7c1 as CopticCalendar};
                                                   

//# sourceMappingURL=data:application/json;base64,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dGlvbmFsaXplZC9kYXRlL3NyYy9jYWxlbmRhcnMvRXRoaW9waWNDYWxlbmRhci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMjAgQWRvYmUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGZpbGUgaXMgbGljZW5zZWQgdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weVxuICogb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlclxuICogdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgUkVQUkVTRU5UQVRJT05TXG4gKiBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2VcbiAqIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gUG9ydGlvbnMgb2YgdGhlIGNvZGUgaW4gdGhpcyBmaWxlIGFyZSBiYXNlZCBvbiBjb2RlIGZyb20gSUNVLlxuLy8gT3JpZ2luYWwgbGljZW5zaW5nIGNhbiBiZSBmb3VuZCBpbiB0aGUgTk9USUNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cbmltcG9ydCB7QW55Q2FsZW5kYXJEYXRlLCBDYWxlbmRhciwgQ2FsZW5kYXJJZGVudGlmaWVyfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge0NhbGVuZGFyRGF0ZX0gZnJvbSAnLi4vQ2FsZW5kYXJEYXRlJztcbmltcG9ydCB7TXV0YWJsZX0gZnJvbSAnLi4vdXRpbHMnO1xuXG5jb25zdCBFVEhJT1BJQ19FUE9DSCA9IDE3MjM4NTY7XG5jb25zdCBDT1BUSUNfRVBPQ0ggPSAxODI0NjY1O1xuXG4vLyBUaGUgZGVsdGEgYmV0d2VlbiBBbWV0ZSBBbGVtIDEgYW5kIEFtZXRlIE1paHJldCAxXG4vLyBBQSA1NTAxID0gQU0gMVxuY29uc3QgQU1FVEVfTUlIUkVUX0RFTFRBID0gNTUwMDtcblxuZnVuY3Rpb24gY2VUb0p1bGlhbkRheShlcG9jaDogbnVtYmVyLCB5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIsIGRheTogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIChcbiAgICBlcG9jaCAgICAgICAgICAgICAgICAgICAvLyBkaWZmZXJlbmNlIGZyb20gSnVsaWFuIGVwb2NoIHRvIDEsMSwxXG4gICAgKyAzNjUgKiB5ZWFyICAgICAgICAgICAgLy8gbnVtYmVyIG9mIGRheXMgZnJvbSB5ZWFyc1xuICAgICsgTWF0aC5mbG9vcih5ZWFyIC8gNCkgIC8vIGV4dHJhIGRheSBvZiBsZWFwIHllYXJcbiAgICArIDMwICogKG1vbnRoIC0gMSkgICAgICAvLyBudW1iZXIgb2YgZGF5cyBmcm9tIG1vbnRocyAoMSBiYXNlZClcbiAgICArIGRheSAtIDEgICAgICAgICAgICAgICAvLyBudW1iZXIgb2YgZGF5cyBmb3IgcHJlc2VudCBtb250aCAoMSBiYXNlZClcbiAgKTtcbn1cblxuZnVuY3Rpb24ganVsaWFuRGF5VG9DRShlcG9jaDogbnVtYmVyLCBqZDogbnVtYmVyKSB7XG4gIGxldCB5ZWFyID0gTWF0aC5mbG9vcigoNCAqIChqZCAtIGVwb2NoKSkgLyAxNDYxKTtcbiAgbGV0IG1vbnRoID0gMSArIE1hdGguZmxvb3IoKGpkIC0gY2VUb0p1bGlhbkRheShlcG9jaCwgeWVhciwgMSwgMSkpIC8gMzApO1xuICBsZXQgZGF5ID0gamQgKyAxIC0gY2VUb0p1bGlhbkRheShlcG9jaCwgeWVhciwgbW9udGgsIDEpO1xuICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldO1xufVxuXG5mdW5jdGlvbiBnZXRMZWFwRGF5KHllYXI6IG51bWJlcikge1xuICByZXR1cm4gTWF0aC5mbG9vcigoeWVhciAlIDQpIC8gMyk7XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcikge1xuICAvLyBUaGUgRXRoaW9waWFuIGFuZCBDb3B0aWMgY2FsZW5kYXJzIGhhdmUgMTMgbW9udGhzLCAxMiBvZiAzMCBkYXlzIGVhY2ggYW5kXG4gIC8vIGFuIGludGVyY2FsYXJ5IG1vbnRoIGF0IHRoZSBlbmQgb2YgdGhlIHllYXIgb2YgNSBvciA2IGRheXMsIGRlcGVuZGluZyB3aGV0aGVyXG4gIC8vIHRoZSB5ZWFyIGlzIGEgbGVhcCB5ZWFyIG9yIG5vdC4gVGhlIExlYXAgWWVhciBmb2xsb3dzIHRoZSBzYW1lIHJ1bGVzIGFzIHRoZVxuICAvLyBKdWxpYW4gQ2FsZW5kYXIgc28gdGhhdCB0aGUgZXh0cmEgbW9udGggYWx3YXlzIGhhcyBzaXggZGF5cyBpbiB0aGUgeWVhciBiZWZvcmVcbiAgLy8gYSBKdWxpYW4gTGVhcCBZZWFyLlxuICBpZiAobW9udGggJSAxMyAhPT0gMCkge1xuICAgIC8vIG5vdCBpbnRlcmNhbGFyeSBtb250aFxuICAgIHJldHVybiAzMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBpbnRlcmNhbGFyeSBtb250aCA1IGRheXMgKyBwb3NzaWJsZSBsZWFwIGRheVxuICAgIHJldHVybiBnZXRMZWFwRGF5KHllYXIpICsgNTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBFdGhpb3BpYyBjYWxlbmRhciBzeXN0ZW0gaXMgdGhlIG9mZmljaWFsIGNhbGVuZGFyIHVzZWQgaW4gRXRoaW9waWEuXG4gKiBJdCBpbmNsdWRlcyAxMiBtb250aHMgb2YgMzAgZGF5cyBlYWNoLCBwbHVzIDUgb3IgNiBpbnRlcmNhbGFyeSBkYXlzIGRlcGVuZGluZ1xuICogb24gd2hldGhlciBpdCBpcyBhIGxlYXAgeWVhci4gVHdvIGVyYXMgYXJlIHN1cHBvcnRlZDogJ0FBJyBhbmQgJ0FNJy5cbiAqL1xuZXhwb3J0IGNsYXNzIEV0aGlvcGljQ2FsZW5kYXIgaW1wbGVtZW50cyBDYWxlbmRhciB7XG4gIGlkZW50aWZpZXI6IENhbGVuZGFySWRlbnRpZmllciA9ICdldGhpb3BpYyc7XG5cbiAgZnJvbUp1bGlhbkRheShqZDogbnVtYmVyKTogQ2FsZW5kYXJEYXRlIHtcbiAgICBsZXQgW3llYXIsIG1vbnRoLCBkYXldID0ganVsaWFuRGF5VG9DRShFVEhJT1BJQ19FUE9DSCwgamQpO1xuICAgIGxldCBlcmEgPSAnQU0nO1xuICAgIGlmICh5ZWFyIDw9IDApIHtcbiAgICAgIGVyYSA9ICdBQSc7XG4gICAgICB5ZWFyICs9IEFNRVRFX01JSFJFVF9ERUxUQTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IENhbGVuZGFyRGF0ZSh0aGlzLCBlcmEsIHllYXIsIG1vbnRoLCBkYXkpO1xuICB9XG5cbiAgdG9KdWxpYW5EYXkoZGF0ZTogQW55Q2FsZW5kYXJEYXRlKTogbnVtYmVyIHtcbiAgICBsZXQgeWVhciA9IGRhdGUueWVhcjtcbiAgICBpZiAoZGF0ZS5lcmEgPT09ICdBQScpIHtcbiAgICAgIHllYXIgLT0gQU1FVEVfTUlIUkVUX0RFTFRBO1xuICAgIH1cblxuICAgIHJldHVybiBjZVRvSnVsaWFuRGF5KEVUSElPUElDX0VQT0NILCB5ZWFyLCBkYXRlLm1vbnRoLCBkYXRlLmRheSk7XG4gIH1cblxuICBnZXREYXlzSW5Nb250aChkYXRlOiBBbnlDYWxlbmRhckRhdGUpOiBudW1iZXIge1xuICAgIHJldHVybiBnZXREYXlzSW5Nb250aChkYXRlLnllYXIsIGRhdGUubW9udGgpO1xuICB9XG5cbiAgZ2V0TW9udGhzSW5ZZWFyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDEzO1xuICB9XG5cbiAgZ2V0RGF5c0luWWVhcihkYXRlOiBBbnlDYWxlbmRhckRhdGUpOiBudW1iZXIge1xuICAgIHJldHVybiAzNjUgKyBnZXRMZWFwRGF5KGRhdGUueWVhcik7XG4gIH1cblxuICBnZXRZZWFyc0luRXJhKGRhdGU6IEFueUNhbGVuZGFyRGF0ZSk6IG51bWJlciB7XG4gICAgLy8gOTk5OS0xMi0zMSBncmVnb3JpYW4gaXMgOTk5Mi0yMC0wMiBldGhpb3BpYy5cbiAgICAvLyBSb3VuZCBkb3duIHRvIDk5OTEgZm9yIHRoZSBsYXN0IGZ1bGwgeWVhci5cbiAgICAvLyBBQSA5OTk5LTAxLTAxIGV0aGlvcGljIGlzIDQ1MDYtMDktMzAgZ3JlZ29yaWFuLlxuICAgIHJldHVybiBkYXRlLmVyYSA9PT0gJ0FBJyA/IDk5OTkgOiA5OTkxO1xuICB9XG5cbiAgZ2V0RXJhcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFsnQUEnLCAnQU0nXTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBFdGhpb3BpYyAoQW1ldGUgQWxlbSkgY2FsZW5kYXIgaXMgdGhlIHNhbWUgYXMgdGhlIG1vZGVybiBFdGhpb3BpYyBjYWxlbmRhcixcbiAqIGV4Y2VwdCB5ZWFycyB3ZXJlIG1lYXN1cmVkIGZyb20gYSBkaWZmZXJlbnQgZXBvY2guIE9ubHkgb25lIGVyYSBpcyBzdXBwb3J0ZWQ6ICdBQScuXG4gKi9cbmV4cG9ydCBjbGFzcyBFdGhpb3BpY0FtZXRlQWxlbUNhbGVuZGFyIGV4dGVuZHMgRXRoaW9waWNDYWxlbmRhciB7XG4gIGlkZW50aWZpZXI6IENhbGVuZGFySWRlbnRpZmllciA9ICdldGhpb2FhJzsgLy8gYWxzbyBrbm93biBhcyAnZXRoaW9waWMtYW1ldGUtYWxlbScgaW4gSUNVXG5cbiAgZnJvbUp1bGlhbkRheShqZDogbnVtYmVyKTogQ2FsZW5kYXJEYXRlIHtcbiAgICBsZXQgW3llYXIsIG1vbnRoLCBkYXldID0ganVsaWFuRGF5VG9DRShFVEhJT1BJQ19FUE9DSCwgamQpO1xuICAgIHllYXIgKz0gQU1FVEVfTUlIUkVUX0RFTFRBO1xuICAgIHJldHVybiBuZXcgQ2FsZW5kYXJEYXRlKHRoaXMsICdBQScsIHllYXIsIG1vbnRoLCBkYXkpO1xuICB9XG5cbiAgZ2V0RXJhcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFsnQUEnXTtcbiAgfVxuXG4gIGdldFllYXJzSW5FcmEoKTogbnVtYmVyIHtcbiAgICAvLyA5OTk5LTEzLTA0IGV0aGlvYWEgaXMgdGhlIG1heGltdW0gZGF0ZSwgd2hpY2ggaXMgZXF1aXZhbGVudCB0byA0NTA2LTA5LTI5IGdyZWdvcmlhbi5cbiAgICByZXR1cm4gOTk5OTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBDb3B0aWMgY2FsZW5kYXIgaXMgc2ltaWxhciB0byB0aGUgRXRoaW9waWMgY2FsZW5kYXIuXG4gKiBJdCBpbmNsdWRlcyAxMiBtb250aHMgb2YgMzAgZGF5cyBlYWNoLCBwbHVzIDUgb3IgNiBpbnRlcmNhbGFyeSBkYXlzIGRlcGVuZGluZ1xuICogb24gd2hldGhlciBpdCBpcyBhIGxlYXAgeWVhci4gVHdvIGVyYXMgYXJlIHN1cHBvcnRlZDogJ0JDRScgYW5kICdDRScuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb3B0aWNDYWxlbmRhciBleHRlbmRzIEV0aGlvcGljQ2FsZW5kYXIge1xuICBpZGVudGlmaWVyOiBDYWxlbmRhcklkZW50aWZpZXIgPSAnY29wdGljJztcblxuICBmcm9tSnVsaWFuRGF5KGpkOiBudW1iZXIpOiBDYWxlbmRhckRhdGUge1xuICAgIGxldCBbeWVhciwgbW9udGgsIGRheV0gPSBqdWxpYW5EYXlUb0NFKENPUFRJQ19FUE9DSCwgamQpO1xuICAgIGxldCBlcmEgPSAnQ0UnO1xuICAgIGlmICh5ZWFyIDw9IDApIHtcbiAgICAgIGVyYSA9ICdCQ0UnO1xuICAgICAgeWVhciA9IDEgLSB5ZWFyO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQ2FsZW5kYXJEYXRlKHRoaXMsIGVyYSwgeWVhciwgbW9udGgsIGRheSk7XG4gIH1cblxuICB0b0p1bGlhbkRheShkYXRlOiBBbnlDYWxlbmRhckRhdGUpOiBudW1iZXIge1xuICAgIGxldCB5ZWFyID0gZGF0ZS55ZWFyO1xuICAgIGlmIChkYXRlLmVyYSA9PT0gJ0JDRScpIHtcbiAgICAgIHllYXIgPSAxIC0geWVhcjtcbiAgICB9XG5cbiAgICByZXR1cm4gY2VUb0p1bGlhbkRheShDT1BUSUNfRVBPQ0gsIHllYXIsIGRhdGUubW9udGgsIGRhdGUuZGF5KTtcbiAgfVxuXG4gIGdldERheXNJbk1vbnRoKGRhdGU6IEFueUNhbGVuZGFyRGF0ZSk6IG51bWJlciB7XG4gICAgbGV0IHllYXIgPSBkYXRlLnllYXI7XG4gICAgaWYgKGRhdGUuZXJhID09PSAnQkNFJykge1xuICAgICAgeWVhciA9IDEgLSB5ZWFyO1xuICAgIH1cblxuICAgIHJldHVybiBnZXREYXlzSW5Nb250aCh5ZWFyLCBkYXRlLm1vbnRoKTtcbiAgfVxuXG4gIGlzSW52ZXJzZUVyYShkYXRlOiBBbnlDYWxlbmRhckRhdGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZGF0ZS5lcmEgPT09ICdCQ0UnO1xuICB9XG5cbiAgYmFsYW5jZURhdGUoZGF0ZTogTXV0YWJsZTxBbnlDYWxlbmRhckRhdGU+KTogdm9pZCB7XG4gICAgaWYgKGRhdGUueWVhciA8PSAwKSB7XG4gICAgICBkYXRlLmVyYSA9IGRhdGUuZXJhID09PSAnQkNFJyA/ICdDRScgOiAnQkNFJztcbiAgICAgIGRhdGUueWVhciA9IDEgLSBkYXRlLnllYXI7XG4gICAgfVxuICB9XG5cbiAgZ2V0RXJhcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFsnQkNFJywgJ0NFJ107XG4gIH1cblxuICBnZXRZZWFyc0luRXJhKGRhdGU6IEFueUNhbGVuZGFyRGF0ZSk6IG51bWJlciB7XG4gICAgLy8gOTk5OS0xMi0zMCBncmVnb3JpYW4gaXMgOTcxNi0wMi0yMCBjb3B0aWMuXG4gICAgLy8gUm91bmQgZG93biB0byA5NzE1IGZvciB0aGUgbGFzdCBmdWxsIHllYXIuXG4gICAgLy8gQkNFIDk5OTktMDEtMDEgY29wdGljIGlzIEJDIDk3MTYtMDYtMTUgZ3JlZ29yaWFuLlxuICAgIHJldHVybiBkYXRlLmVyYSA9PT0gJ0JDRScgPyA5OTk5IDogOTcxNTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwidmVyc2lvbiI6MywiZmlsZSI6IkV0aGlvcGljQ2FsZW5kYXIubW9kdWxlLmpzLm1hcCIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=