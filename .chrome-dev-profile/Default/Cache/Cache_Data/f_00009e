import { t as toDate, a as isZonedDateTime } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/date/comparators.js?v=1214a853";
import { E as EDITABLE_SEGMENT_PARTS, D as DATE_SEGMENT_PARTS, T as TIME_SEGMENT_PARTS, i as isSegmentPart, a as isDateSegmentPart } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/date/parts.js?v=1214a853";
import { g as getPlaceholder } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/date/placeholders.js?v=1214a853";
import { g as getOptsByGranularity, n as normalizeHourCycle } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/date/utils.js?v=1214a853";

const calendarDateTimeGranularities = ["hour", "minute", "second"];
function syncTimeSegmentValues(props) {
  return Object.fromEntries(TIME_SEGMENT_PARTS.map((part) => {
    if (part === "dayPeriod")
      return [part, props.formatter.dayPeriod(toDate(props.value))];
    return [part, props.value[part]];
  }));
}
function syncSegmentValues(props) {
  const { formatter } = props;
  const dateValues = DATE_SEGMENT_PARTS.map((part) => {
    return [part, props.value[part]];
  });
  if ("hour" in props.value) {
    const timeValues = syncTimeSegmentValues({ value: props.value, formatter });
    return { ...Object.fromEntries(dateValues), ...timeValues };
  }
  return Object.fromEntries(dateValues);
}
function initializeTimeSegmentValues(granularity) {
  return Object.fromEntries(
    TIME_SEGMENT_PARTS.map((part) => {
      if (part === "dayPeriod")
        return [part, "AM"];
      return [part, null];
    }).filter(([key]) => {
      if (key === "literal" || key === null)
        return false;
      if (granularity === "minute" && key === "second")
        return false;
      if (granularity === "hour" && (key === "second" || key === "minute"))
        return false;
      else return true;
    })
  );
}
function initializeSegmentValues(granularity) {
  const initialParts = EDITABLE_SEGMENT_PARTS.map((part) => {
    if (part === "dayPeriod")
      return [part, "AM"];
    return [part, null];
  }).filter(([key]) => {
    if (key === "literal" || key === null)
      return false;
    if (granularity === "minute" && key === "second")
      return false;
    if (granularity === "hour" && (key === "second" || key === "minute"))
      return false;
    if (granularity === "day")
      return !calendarDateTimeGranularities.includes(key) && key !== "dayPeriod";
    else return true;
  });
  return Object.fromEntries(initialParts);
}
function createContentObj(props) {
  const { segmentValues, formatter, locale } = props;
  function getPartContent(part) {
    if ("hour" in segmentValues) {
      const value = segmentValues[part];
      if (value !== null) {
        if (part === "day") {
          return formatter.part(props.dateRef.set({
            [part]: value,
            /**
             * Edge case for the day field:
             *
             * 1. If the month is filled,
             *   we need to ensure that the day snaps to the maximum value of that month.
             * 2. If the month is not filled,
             *   we default to the month with the maximum number of days (here just using January, 31 days),
             *   so that user can input any possible day.
             */
            month: segmentValues.month ?? 1
          }), part, { hourCycle: normalizeHourCycle(props.hourCycle) });
        }
        return formatter.part(props.dateRef.set({ [part]: value }), part, {
          hourCycle: normalizeHourCycle(props.hourCycle)
        });
      } else {
        return getPlaceholder(part, "", locale.value);
      }
    } else {
      if (isDateSegmentPart(part)) {
        const value = segmentValues[part];
        if (value !== null) {
          if (part === "day") {
            return formatter.part(props.dateRef.set({
              [part]: value,
              // Same logic as above for the day field
              month: segmentValues.month ?? 1
            }), part);
          }
          return formatter.part(props.dateRef.set({ [part]: value }), part);
        } else {
          return getPlaceholder(part, "", locale.value);
        }
      }
      return "";
    }
  }
  const content = Object.keys(segmentValues).reduce((obj, part) => {
    if (!isSegmentPart(part))
      return obj;
    if ("hour" in segmentValues && part === "dayPeriod") {
      const value = segmentValues[part];
      if (value !== null)
        obj[part] = value;
      else
        obj[part] = getPlaceholder(part, "AM", locale.value);
    } else {
      obj[part] = getPartContent(part);
    }
    return obj;
  }, {});
  return content;
}
function createContentArr(props) {
  const { granularity, formatter, contentObj, hideTimeZone, hourCycle, isTimeValue } = props;
  const parts = formatter.toParts(props.dateRef, getOptsByGranularity(granularity, hourCycle, isTimeValue));
  const segmentContentArr = parts.map((part) => {
    const defaultParts = ["literal", "timeZoneName", null];
    if (defaultParts.includes(part.type) || !isSegmentPart(part.type)) {
      return {
        part: part.type,
        value: part.value
      };
    }
    return {
      part: part.type,
      value: contentObj[part.type]
    };
  }).filter((segment) => {
    if (segment.part === null || segment.value === null)
      return false;
    if (segment.part === "timeZoneName" && (!isZonedDateTime(props.dateRef) || hideTimeZone))
      return false;
    return true;
  });
  return segmentContentArr;
}
function createContent(props) {
  const contentObj = createContentObj(props);
  const contentArr = createContentArr({
    contentObj,
    ...props
  });
  return {
    obj: contentObj,
    arr: contentArr
  };
}

export { initializeTimeSegmentValues as a, syncTimeSegmentValues as b, createContent as c, initializeSegmentValues as i, syncSegmentValues as s };
                                  

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2hhcmVkL2RhdGUvcGFyc2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRGF0ZUZpZWxkcywgRGF0ZVZhbHVlIH0gZnJvbSAnQGludGVybmF0aW9uYWxpemVkL2RhdGUnXG5pbXBvcnQgdHlwZSB7IFJlZiB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB0eXBlIHsgRm9ybWF0dGVyIH0gZnJvbSAnQC9zaGFyZWQnXG5pbXBvcnQgdHlwZSB7IERhdGVTZWdtZW50UGFydCwgR3JhbnVsYXJpdHksIEhvdXJDeWNsZSwgU2VnbWVudENvbnRlbnRPYmosIFNlZ21lbnRQYXJ0LCBTZWdtZW50VmFsdWVPYmosIFRpbWVTZWdtZW50UGFydCB9IGZyb20gJ0Avc2hhcmVkL2RhdGUnXG5pbXBvcnQgeyBpc1pvbmVkRGF0ZVRpbWUsIHRvRGF0ZSB9IGZyb20gJ0AvZGF0ZSdcbmltcG9ydCB7IERBVEVfU0VHTUVOVF9QQVJUUywgRURJVEFCTEVfU0VHTUVOVF9QQVJUUywgZ2V0T3B0c0J5R3JhbnVsYXJpdHksIGdldFBsYWNlaG9sZGVyLCBpc0RhdGVTZWdtZW50UGFydCwgaXNTZWdtZW50UGFydCwgbm9ybWFsaXplSG91ckN5Y2xlLCBUSU1FX1NFR01FTlRfUEFSVFMgfSBmcm9tICdAL3NoYXJlZC9kYXRlJ1xuXG5jb25zdCBjYWxlbmRhckRhdGVUaW1lR3JhbnVsYXJpdGllcyA9IFsnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJ11cblxudHlwZSBTeW5jRGF0ZVNlZ21lbnRWYWx1ZXNQcm9wcyA9IHtcbiAgdmFsdWU6IERhdGVWYWx1ZVxuICBmb3JtYXR0ZXI6IEZvcm1hdHRlclxufVxuXG50eXBlIFN5bmNUaW1lU2VnbWVudFZhbHVlc1Byb3BzID0ge1xuICB2YWx1ZTogRGF0ZVZhbHVlXG4gIGZvcm1hdHRlcjogRm9ybWF0dGVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzeW5jVGltZVNlZ21lbnRWYWx1ZXMocHJvcHM6IFN5bmNUaW1lU2VnbWVudFZhbHVlc1Byb3BzKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoVElNRV9TRUdNRU5UX1BBUlRTLm1hcCgocGFydCkgPT4ge1xuICAgIGlmIChwYXJ0ID09PSAnZGF5UGVyaW9kJylcbiAgICAgIHJldHVybiBbcGFydCwgcHJvcHMuZm9ybWF0dGVyLmRheVBlcmlvZCh0b0RhdGUocHJvcHMudmFsdWUpKV1cbiAgICByZXR1cm4gW3BhcnQsIHByb3BzLnZhbHVlW3BhcnQgYXMga2V5b2YgRGF0ZVZhbHVlXV1cbiAgfSkpIGFzIFNlZ21lbnRWYWx1ZU9ialxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3luY1NlZ21lbnRWYWx1ZXMocHJvcHM6IFN5bmNEYXRlU2VnbWVudFZhbHVlc1Byb3BzKSB7XG4gIGNvbnN0IHsgZm9ybWF0dGVyIH0gPSBwcm9wc1xuXG4gIGNvbnN0IGRhdGVWYWx1ZXMgPSBEQVRFX1NFR01FTlRfUEFSVFMubWFwKChwYXJ0KSA9PiB7XG4gICAgcmV0dXJuIFtwYXJ0LCBwcm9wcy52YWx1ZVtwYXJ0XV1cbiAgfSlcbiAgaWYgKCdob3VyJyBpbiBwcm9wcy52YWx1ZSkge1xuICAgIGNvbnN0IHRpbWVWYWx1ZXMgPSBzeW5jVGltZVNlZ21lbnRWYWx1ZXMoeyB2YWx1ZTogcHJvcHMudmFsdWUsIGZvcm1hdHRlciB9KVxuXG4gICAgcmV0dXJuIHsgLi4uT2JqZWN0LmZyb21FbnRyaWVzKGRhdGVWYWx1ZXMpLCAuLi50aW1lVmFsdWVzIH0gYXMgU2VnbWVudFZhbHVlT2JqXG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGRhdGVWYWx1ZXMpIGFzIFNlZ21lbnRWYWx1ZU9ialxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVRpbWVTZWdtZW50VmFsdWVzKGdyYW51bGFyaXR5OiAnaG91cicgfCAnbWludXRlJyB8ICdzZWNvbmQnKTogU2VnbWVudFZhbHVlT2JqIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBUSU1FX1NFR01FTlRfUEFSVFMubWFwKChwYXJ0KSA9PiB7XG4gICAgICBpZiAocGFydCA9PT0gJ2RheVBlcmlvZCcpXG4gICAgICAgIHJldHVybiBbcGFydCwgJ0FNJ11cbiAgICAgIHJldHVybiBbcGFydCwgbnVsbF1cbiAgICB9KS5maWx0ZXIoKFtrZXldKSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSAnbGl0ZXJhbCcgfHwga2V5ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIGlmIChncmFudWxhcml0eSA9PT0gJ21pbnV0ZScgJiYga2V5ID09PSAnc2Vjb25kJylcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICBpZiAoZ3JhbnVsYXJpdHkgPT09ICdob3VyJyAmJiAoa2V5ID09PSAnc2Vjb25kJyB8fCBrZXkgPT09ICdtaW51dGUnKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICBlbHNlIHJldHVybiB0cnVlXG4gICAgfSksXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVTZWdtZW50VmFsdWVzKGdyYW51bGFyaXR5OiBHcmFudWxhcml0eSk6IFNlZ21lbnRWYWx1ZU9iaiB7XG4gIGNvbnN0IGluaXRpYWxQYXJ0cyA9IEVESVRBQkxFX1NFR01FTlRfUEFSVFMubWFwKChwYXJ0KSA9PiB7XG4gICAgaWYgKHBhcnQgPT09ICdkYXlQZXJpb2QnKVxuICAgICAgcmV0dXJuIFtwYXJ0LCAnQU0nXVxuXG4gICAgcmV0dXJuIFtwYXJ0LCBudWxsXVxuICB9KS5maWx0ZXIoKFtrZXldKSA9PiB7XG4gICAgaWYgKGtleSA9PT0gJ2xpdGVyYWwnIHx8IGtleSA9PT0gbnVsbClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIGlmIChncmFudWxhcml0eSA9PT0gJ21pbnV0ZScgJiYga2V5ID09PSAnc2Vjb25kJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIGlmIChncmFudWxhcml0eSA9PT0gJ2hvdXInICYmIChrZXkgPT09ICdzZWNvbmQnIHx8IGtleSA9PT0gJ21pbnV0ZScpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGdyYW51bGFyaXR5ID09PSAnZGF5JylcbiAgICAgIHJldHVybiAhY2FsZW5kYXJEYXRlVGltZUdyYW51bGFyaXRpZXMuaW5jbHVkZXMoa2V5KSAmJiBrZXkgIT09ICdkYXlQZXJpb2QnXG4gICAgZWxzZSByZXR1cm4gdHJ1ZVxuICB9KVxuXG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoaW5pdGlhbFBhcnRzKVxufVxuXG50eXBlIFNoYXJlZENvbnRlbnRQcm9wcyA9IHtcbiAgZ3JhbnVsYXJpdHk6IEdyYW51bGFyaXR5XG4gIGRhdGVSZWY6IERhdGVWYWx1ZVxuICBmb3JtYXR0ZXI6IEZvcm1hdHRlclxuICBoaWRlVGltZVpvbmU6IGJvb2xlYW5cbiAgaG91ckN5Y2xlOiBIb3VyQ3ljbGVcbiAgaXNUaW1lVmFsdWU/OiBib29sZWFuXG59XG5cbnR5cGUgQ3JlYXRlQ29udGVudE9ialByb3BzID0gU2hhcmVkQ29udGVudFByb3BzICYge1xuICBzZWdtZW50VmFsdWVzOiBTZWdtZW50VmFsdWVPYmpcbiAgbG9jYWxlOiBSZWY8c3RyaW5nPlxufVxuXG50eXBlIENyZWF0ZUNvbnRlbnRBcnJQcm9wcyA9IFNoYXJlZENvbnRlbnRQcm9wcyAmIHtcbiAgY29udGVudE9iajogU2VnbWVudENvbnRlbnRPYmpcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29udGVudE9iaihwcm9wczogQ3JlYXRlQ29udGVudE9ialByb3BzKSB7XG4gIGNvbnN0IHsgc2VnbWVudFZhbHVlcywgZm9ybWF0dGVyLCBsb2NhbGUgfSA9IHByb3BzXG4gIGZ1bmN0aW9uIGdldFBhcnRDb250ZW50KHBhcnQ6IERhdGVTZWdtZW50UGFydCB8IFRpbWVTZWdtZW50UGFydCkge1xuICAgIGlmICgnaG91cicgaW4gc2VnbWVudFZhbHVlcykge1xuICAgICAgY29uc3QgdmFsdWUgPSBzZWdtZW50VmFsdWVzW3BhcnRdXG4gICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHBhcnQgPT09ICdkYXknKSB7XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdHRlci5wYXJ0KHByb3BzLmRhdGVSZWYuc2V0KHtcbiAgICAgICAgICAgIFtwYXJ0IGFzIGtleW9mIERhdGVGaWVsZHNdOiB2YWx1ZSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRWRnZSBjYXNlIGZvciB0aGUgZGF5IGZpZWxkOlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIDEuIElmIHRoZSBtb250aCBpcyBmaWxsZWQsXG4gICAgICAgICAgICAgKiAgIHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGRheSBzbmFwcyB0byB0aGUgbWF4aW11bSB2YWx1ZSBvZiB0aGF0IG1vbnRoLlxuICAgICAgICAgICAgICogMi4gSWYgdGhlIG1vbnRoIGlzIG5vdCBmaWxsZWQsXG4gICAgICAgICAgICAgKiAgIHdlIGRlZmF1bHQgdG8gdGhlIG1vbnRoIHdpdGggdGhlIG1heGltdW0gbnVtYmVyIG9mIGRheXMgKGhlcmUganVzdCB1c2luZyBKYW51YXJ5LCAzMSBkYXlzKSxcbiAgICAgICAgICAgICAqICAgc28gdGhhdCB1c2VyIGNhbiBpbnB1dCBhbnkgcG9zc2libGUgZGF5LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtb250aDogc2VnbWVudFZhbHVlcy5tb250aCA/PyAxLFxuICAgICAgICAgIH0pLCBwYXJ0LCB7IGhvdXJDeWNsZTogbm9ybWFsaXplSG91ckN5Y2xlKHByb3BzLmhvdXJDeWNsZSkgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0dGVyLnBhcnQocHJvcHMuZGF0ZVJlZi5zZXQoeyBbcGFydF06IHZhbHVlIH0pLCBwYXJ0LCB7XG4gICAgICAgICAgaG91ckN5Y2xlOiBub3JtYWxpemVIb3VyQ3ljbGUocHJvcHMuaG91ckN5Y2xlKSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0UGxhY2Vob2xkZXIocGFydCwgJycsIGxvY2FsZS52YWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoaXNEYXRlU2VnbWVudFBhcnQocGFydCkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzZWdtZW50VmFsdWVzW3BhcnRdXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChwYXJ0ID09PSAnZGF5Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlci5wYXJ0KHByb3BzLmRhdGVSZWYuc2V0KHtcbiAgICAgICAgICAgICAgW3BhcnRdOiB2YWx1ZSxcbiAgICAgICAgICAgICAgLy8gU2FtZSBsb2dpYyBhcyBhYm92ZSBmb3IgdGhlIGRheSBmaWVsZFxuICAgICAgICAgICAgICBtb250aDogc2VnbWVudFZhbHVlcy5tb250aCA/PyAxLFxuICAgICAgICAgICAgfSksIHBhcnQpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZvcm1hdHRlci5wYXJ0KHByb3BzLmRhdGVSZWYuc2V0KHsgW3BhcnRdOiB2YWx1ZSB9KSwgcGFydClcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBnZXRQbGFjZWhvbGRlcihwYXJ0LCAnJywgbG9jYWxlLnZhbHVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gIH1cblxuICBjb25zdCBjb250ZW50ID0gT2JqZWN0LmtleXMoc2VnbWVudFZhbHVlcykucmVkdWNlKChvYmosIHBhcnQpID0+IHtcbiAgICBpZiAoIWlzU2VnbWVudFBhcnQocGFydCkpXG4gICAgICByZXR1cm4gb2JqXG4gICAgaWYgKCdob3VyJyBpbiBzZWdtZW50VmFsdWVzICYmIHBhcnQgPT09ICdkYXlQZXJpb2QnKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHNlZ21lbnRWYWx1ZXNbcGFydF1cblxuICAgICAgaWYgKHZhbHVlICE9PSBudWxsKVxuICAgICAgICBvYmpbcGFydF0gPSB2YWx1ZVxuXG4gICAgICBlbHNlXG4gICAgICAgIG9ialtwYXJ0XSA9IGdldFBsYWNlaG9sZGVyKHBhcnQsICdBTScsIGxvY2FsZS52YWx1ZSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBvYmpbcGFydF0gPSBnZXRQYXJ0Q29udGVudChwYXJ0KVxuICAgIH1cblxuICAgIHJldHVybiBvYmpcbiAgfSwge30gYXMgU2VnbWVudENvbnRlbnRPYmopXG5cbiAgcmV0dXJuIGNvbnRlbnRcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29udGVudEFycihwcm9wczogQ3JlYXRlQ29udGVudEFyclByb3BzKSB7XG4gIGNvbnN0IHsgZ3JhbnVsYXJpdHksIGZvcm1hdHRlciwgY29udGVudE9iaiwgaGlkZVRpbWVab25lLCBob3VyQ3ljbGUsIGlzVGltZVZhbHVlIH0gPSBwcm9wc1xuICBjb25zdCBwYXJ0cyA9IGZvcm1hdHRlci50b1BhcnRzKHByb3BzLmRhdGVSZWYsIGdldE9wdHNCeUdyYW51bGFyaXR5KGdyYW51bGFyaXR5LCBob3VyQ3ljbGUsIGlzVGltZVZhbHVlKSlcblxuICBjb25zdCBzZWdtZW50Q29udGVudEFyciA9IHBhcnRzXG4gICAgLm1hcCgocGFydCkgPT4ge1xuICAgICAgY29uc3QgZGVmYXVsdFBhcnRzID0gWydsaXRlcmFsJywgJ3RpbWVab25lTmFtZScsIG51bGxdXG5cbiAgICAgIGlmIChkZWZhdWx0UGFydHMuaW5jbHVkZXMocGFydC50eXBlKSB8fCAhaXNTZWdtZW50UGFydChwYXJ0LnR5cGUpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGFydDogcGFydC50eXBlLFxuICAgICAgICAgIHZhbHVlOiBwYXJ0LnZhbHVlLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcnQ6IHBhcnQudHlwZSxcbiAgICAgICAgdmFsdWU6IGNvbnRlbnRPYmpbcGFydC50eXBlXSxcbiAgICAgIH1cbiAgICB9KVxuICAgIC5maWx0ZXIoKHNlZ21lbnQpOiBzZWdtZW50IGlzIHsgcGFydDogU2VnbWVudFBhcnQsIHZhbHVlOiBzdHJpbmcgfSA9PiB7XG4gICAgICBpZiAoc2VnbWVudC5wYXJ0ID09PSBudWxsIHx8IHNlZ21lbnQudmFsdWUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgaWYgKHNlZ21lbnQucGFydCA9PT0gJ3RpbWVab25lTmFtZScgJiYgKCFpc1pvbmVkRGF0ZVRpbWUocHJvcHMuZGF0ZVJlZikgfHwgaGlkZVRpbWVab25lKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcblxuICByZXR1cm4gc2VnbWVudENvbnRlbnRBcnJcbn1cblxudHlwZSBDcmVhdGVDb250ZW50UHJvcHMgPSBDcmVhdGVDb250ZW50T2JqUHJvcHNcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQocHJvcHM6IENyZWF0ZUNvbnRlbnRQcm9wcykge1xuICBjb25zdCBjb250ZW50T2JqID0gY3JlYXRlQ29udGVudE9iaihwcm9wcylcblxuICBjb25zdCBjb250ZW50QXJyID0gY3JlYXRlQ29udGVudEFycih7XG4gICAgY29udGVudE9iaixcbiAgICAuLi5wcm9wcyxcbiAgfSlcblxuICByZXR1cm4ge1xuICAgIG9iajogY29udGVudE9iaixcbiAgICBhcnI6IGNvbnRlbnRBcnIsXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQU9BLE1BQU0sNkJBQWdDLEdBQUEsQ0FBQyxNQUFRLEVBQUEsUUFBQSxFQUFVLFFBQVEsQ0FBQTtBQVkxRCxTQUFTLHNCQUFzQixLQUFtQyxFQUFBO0FBQ3ZFLEVBQUEsT0FBTyxNQUFPLENBQUEsV0FBQSxDQUFZLGtCQUFtQixDQUFBLEdBQUEsQ0FBSSxDQUFDLElBQVMsS0FBQTtBQUN6RCxJQUFBLElBQUksSUFBUyxLQUFBLFdBQUE7QUFDWCxNQUFPLE9BQUEsQ0FB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LGNBQUEsQ0FBZSxJQUFJLENBQUE7QUFBQTtBQUdqQyxJQUFPLE9BQUEsR0FBQTtBQUFBLEdBQ1QsRUFBRyxFQUF1QixDQUFBO0FBRTFCLEVBQU8sT0FBQSxPQUFBO0FBQ1Q7QUFFQSxTQUFTLGlCQUFpQixLQUE4QixFQUFBO0FBQ3RELEVBQUEsTUFBTSxFQUFFLFdBQWEsRUFBQSxTQUFBLEVBQVcsWUFBWSxZQUFjLEVBQUEsU0FBQSxFQUFXLGFBQWdCLEdBQUEsS0FBQTtBQUNyRixFQUFNLE1BQUEsS0FBQSxHQUFRLFVBQVUsT0FBUSxDQUFBLEtBQUEsQ0FBTSxTQUFTLG9CQUFxQixDQUFBLFdBQUEsRUFBYSxTQUFXLEVBQUEsV0FBVyxDQUFDLENBQUE7QUFFeEcsRUFBQSxNQUFNLGlCQUFvQixHQUFBLEtBQUEsQ0FDdkIsR0FBSSxDQUFBLENBQUMsSUFBUyxLQUFBO0FBQ2IsSUFBQSxNQUFNLFlBQWUsR0FBQSxDQUFDLFNBQVcsRUFBQSxjQUFBLEVBQWdCLElBQUksQ0FBQTtBQUVyRCxJQUFJLElBQUEsWUFBQSxDQUFhLFNBQVMsSUFBSyxDQUFBLElBQUksS0FBSyxDQUFDLGFBQUEsQ0FBYyxJQUFLLENBQUEsSUFBSSxDQUFHLEVBQUE7QUFDakUsTUFBTyxPQUFBO0FBQUEsUUFDTCxNQUFNLElBQUssQ0FBQSxJQUFBO0FBQUEsUUFDWCxPQUFPLElBQUssQ0FBQTtBQUFBLE9BQ2Q7QUFBQTtBQUdGLElBQU8sT0FBQTtBQUFBLE1BQ0wsTUFBTSxJQUFLLENBQUEsSUFBQTtBQUFBLE1BQ1gsS0FBQSxFQUFPLFVBQVcsQ0FBQSxJQUFBLENBQUssSUFBSTtBQUFBLEtBQzdCO0FBQUEsR0FDRCxDQUFBLENBQ0EsTUFBTyxDQUFBLENBQUMsT0FBNkQsS0FBQTtBQUNwRSxJQUFBLElBQUksT0FBUSxDQUFBLElBQUEsS0FBUyxJQUFRLElBQUEsT0FBQSxDQUFRLEtBQVUsS0FBQSxJQUFBO0FBQzdDLE1BQU8sT0FBQSxLQUFBO0FBQ1QsSUFBQSxJQUFJLFFBQVEsSUFBUyxLQUFBLGNBQUEsS0FBbUIsQ0FBQyxlQUFnQixDQUFBLEtBQUEsQ0FBTSxPQUFPLENBQUssSUFBQSxZQUFBLENBQUE7QUFDekUsTUFBTyxPQUFBLEtBQUE7QUFFVCxJQUFPLE9BQUEsSUFBQTtBQUFBLEdBQ1IsQ0FBQTtBQUVILEVBQU8sT0FBQSxpQkFBQTtBQUNUO0FBSU8sU0FBUyxjQUFjLEtBQTJCLEVBQUE7QUFDdkQsRUFBTSxNQUFBLFVBQUEsR0FBYSxpQkFBaUIsS0FBSyxDQUFBO0FBRXpDLEVBQUEsTUFBTSxhQUFhLGdCQUFpQixDQUFBO0FBQUEsSUFDbEMsVUFBQTtBQUFBLElBQ0EsR0FBRztBQUFBLEdBQ0osQ0FBQTtBQUVELEVBQU8sT0FBQTtBQUFBLElBQ0wsR0FBSyxFQUFBLFVBQUE7QUFBQSxJQUNMLEdBQUssRUFBQTtBQUFBLEdBQ1A7QUFDRjs7OzsiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19