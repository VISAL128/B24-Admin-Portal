import {fromAbsolute as $11d87f3f76e88657$export$1b96692a1ba042ac, toAbsolute as $11d87f3f76e88657$export$5107c82f94518f5c, toCalendar as $11d87f3f76e88657$export$b4a036af3fc0b032, toCalendarDate as $11d87f3f76e88657$export$93522d1a439f3617} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@internationalized/date/dist/conversion.mjs?v=1214a853";
import {weekStartData as $2fe286d2fb449abb$export$7a5acbd77d414bd9} from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@internationalized/date/dist/weekStartData.mjs?v=1214a853";

/*
 * Copyright 2020 Adobe. All rights reserved.
 * This file is licensed to you under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License. You may obtain a copy
 * of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 * OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */ 

function $14e0f24ef4ac5c92$export$ea39ec197993aef0(a, b) {
    b = (0, $11d87f3f76e88657$export$b4a036af3fc0b032)(b, a.calendar);
    return a.era === b.era && a.year === b.year && a.month === b.month && a.day === b.day;
}
function $14e0f24ef4ac5c92$export$a18c89cbd24170ff(a, b) {
    b = (0, $11d87f3f76e88657$export$b4a036af3fc0b032)(b, a.calendar);
    // In the Japanese calendar, months can span multiple eras/years, so only compare the first of the month.
    a = $14e0f24ef4ac5c92$export$a5a3b454ada2268e(a);
    b = $14e0f24ef4ac5c92$export$a5a3b454ada2268e(b);
    return a.era === b.era && a.year === b.year && a.month === b.month;
}
function $14e0f24ef4ac5c92$export$5841f9eb9773f25f(a, b) {
    b = (0, $11d87f3f76e88657$export$b4a036af3fc0b032)(b, a.calendar);
    a = $14e0f24ef4ac5c92$export$f91e89d3d0406102(a);
    b = $14e0f24ef4ac5c92$export$f91e89d3d0406102(b);
    return a.era === b.era && a.year === b.year;
}
function $14e0f24ef4ac5c92$export$91b62ebf2ba703ee(a, b) {
    return $14e0f24ef4ac5c92$export$dbc69fd56b53d5e(a.calendar, b.calendar) && $14e0f24ef4ac5c92$export$ea39ec197993aef0(a, b);
}
function $14e0f24ef4ac5c92$export$5a8da0c44a3afdf2(a, b) {
    return $14e0f24ef4ac5c92$export$dbc69fd56b53d5e(a.calendar, b.calendar) && $14e0f24ef4ac5c92$export$a18c89cbd24170ff(a, b);
}
function $14e0f24ef4ac5c92$export$ea840f5a6dda8147(a, b) {
    return $14e0f24ef4ac5c92$export$dbc69fd56b53d5e(a.calendar, b.calendar) && $14e0f24ef4ac5c92$export$5841f9eb9773f25f(a, b);
}
function $14e0f24ef4ac5c92$export$dbc69fd56b53d5e(a, b) {
    var _a_isEqual, _b_isEqual;
    var _a_isEqual1, _ref;
    return (_ref = (_a_isEqual1 = (_a_isEqual = a.isEqual) === null || _a_isEqual === void 0 ? void 0 : _a_isEqual.call(a, b)) !== null && _a_isEqual1 !== void 0 ? _a_isEqual1 : (_b_isEqual = b.isEqual) === null || _b_isEqual === void 0 ? void 0 : _b_isEqual.call(b, a)) !== null && _ref !== void 0 ? _ref : a.identifier === b.identifier;
}
function $14e0f24ef4ac5c92$export$629b0a497aa65267(date, timeZone) {
    return $14e0f24ef4ac5c92$export$ea39ec197993aef0(date, $14e0f24ef4ac5c92$export$d0bdf45af03a6ea3(timeZone));
}
const $14e0f24ef4ac5c92$var$DAY_MAP = {
    sun: 0,
    mon: 1,
    tue: 2,
    wed: 3,
    thu: 4,
    fri: 5,
    sat: 6
};
function $14e0f24ef4ac5c92$export$2061056d06d7cdf7(date, locale, firstDayOfWeek) {
    let julian = date.calendar.toJulianDay(date);
    // If julian is negative, then julian % 7 will be negative, so we adjust
    // accordingly.  Julian day 0 is Monday.
    let weekStart = firstDayOfWeek ? $14e0f24ef4ac5c92$var$DAY_MAP[firstDayOfWeek] : $14e0f24ef4ac5c92$var$getWeekStart(locale);
    let dayOfWeek = Math.ceil(julian + 1 - weekStart) % 7;
    if (dayOfWeek < 0) dayOfWeek += 7;
    return dayOfWeek;
}
function $14e0f24ef4ac5c92$export$461939dd4422153(timeZone) {
    return (0, $11d87f3f76e88657$export$1b96692a1ba042ac)(Date.now(), timeZone);
}
function $14e0f24ef4ac5c92$export$d0bdf45af03a6ea3(timeZone) {
    return (0, $11d87f3f76e88657$export$93522d1a439f3617)($14e0f24ef4ac5c92$export$461939dd4422153(timeZone));
}
function $14e0f24ef4ac5c92$export$68781ddf31c0090f(a, b) {
    return a.calendar.toJulianDay(a) - b.calendar.toJulianDay(b);
}
function $14e0f24ef4ac5c92$export$c19a80a9721b80f6(a, b) {
    return $14e0f24ef4ac5c92$var$timeToMs(a) - $14e0f24ef4ac5c92$var$timeToMs(b);
}
function $14e0f24ef4ac5c92$var$timeToMs(a) {
    return a.hour * 3600000 + a.minute * 60000 + a.second * 1000 + a.millisecond;
}
function $14e0f24ef4ac5c92$export$126c91c941de7e(a, timeZone) {
    let ms = (0, $11d87f3f76e88657$export$5107c82f94518f5c)(a, timeZone);
    let tomorrow = a.add({
        days: 1
    });
    let tomorrowMs = (0, $11d87f3f76e88657$export$5107c82f94518f5c)(tomorrow, timeZone);
    return (tomorrowMs - ms) / 3600000;
}
let $14e0f24ef4ac5c92$var$localTimeZone = null;
function $14e0f24ef4ac5c92$export$aa8b41735afcabd2() {
    // TODO: invalidate this somehow?
    if ($14e0f24ef4ac5c92$var$localTimeZone == null) $14e0f24ef4ac5c92$var$localTimeZone = new Intl.DateTimeFormat().resolvedOptions().timeZone;
    return $14e0f24ef4ac5c92$var$localTimeZone;
}
function $14e0f24ef4ac5c92$export$a5a3b454ada2268e(date) {
    // Use `subtract` instead of `set` so we don't get constrained in an era.
    return date.subtract({
        days: date.day - 1
    });
}
function $14e0f24ef4ac5c92$export$a2258d9c4118825c(date) {
    return date.add({
        days: date.calendar.getDaysInMonth(date) - date.day
    });
}
function $14e0f24ef4ac5c92$export$f91e89d3d0406102(date) {
    return $14e0f24ef4ac5c92$export$a5a3b454ada2268e(date.subtract({
        months: date.month - 1
    }));
}
function $14e0f24ef4ac5c92$export$8b7aa55c66d5569e(date) {
    return $14e0f24ef4ac5c92$export$a2258d9c4118825c(date.add({
        months: date.calendar.getMonthsInYear(date) - date.month
    }));
}
function $14e0f24ef4ac5c92$export$5412ac11713b72ad(date) {
    if (date.calendar.getMinimumMonthInYear) return date.calendar.getMinimumMonthInYear(date);
    return 1;
}
function $14e0f24ef4ac5c92$export$b2f4953d301981d5(date) {
    if (date.calendar.getMinimumDayInMonth) return date.calendar.getMinimumDayInMonth(date);
    return 1;
}
function $14e0f24ef4ac5c92$export$42c81a444fbfb5d4(date, locale, firstDayOfWeek) {
    let dayOfWeek = $14e0f24ef4ac5c92$export$2061056d06d7cdf7(date, locale, firstDayOfWeek);
    return date.subtract({
        days: dayOfWeek
    });
}
function $14e0f24ef4ac5c92$export$ef8b6d9133084f4e(date, locale, firstDayOfWeek) {
    return $14e0f24ef4ac5c92$export$42c81a444fbfb5d4(date, locale, firstDayOfWeek).add({
        days: 6
    });
}
const $14e0f24ef4ac5c92$var$cachedRegions = new Map();
function $14e0f24ef4ac5c92$var$getRegion(locale) {
    // If the Intl.Locale API is available, use it to get the region for the locale.
    // @ts-ignore
    if (Intl.Locale) {
        // Constructing an Intl.Locale is expensive, so cache the result.
        let region = $14e0f24ef4ac5c92$var$cachedRegions.get(locale);
        if (!region) {
            // @ts-ignore
            region = new Intl.Locale(locale).maximize().region;
            if (region) $14e0f24ef4ac5c92$var$cachedRegions.set(locale, region);
        }
        return region;
    }
    // If not, just try splitting the string.
    // If the second part of the locale string is 'u',
    // then this is a unicode extension, so ignore it.
    // Otherwise, it should be the region.
    let part = locale.split('-')[1];
    return part === 'u' ? undefined : part;
}
function $14e0f24ef4ac5c92$var$getWeekStart(locale) {
    // TODO: use Intl.Locale for this once browsers support the weekInfo property
    // https://github.com/tc39/proposal-intl-locale-info
    let region = $14e0f24ef4ac5c92$var$getRegion(locale);
    return region ? (0, $2fe286d2fb449abb$export$7a5acbd77d414bd9)[region] || 0 : 0;
}
function $14e0f24ef4ac5c92$export$ccc1b2479e7dd654(date, locale, firstDayOfWeek) {
    let days = date.calendar.getDaysInMonth(date);
    return Math.ceil(($14e0f24ef4ac5c92$export$2061056d06d7cdf7($14e0f24ef4ac5c92$export$a5a3b454ada2268e(date), locale, firstDayOfWeek) + days) / 7);
}
function $14e0f24ef4ac5c92$export$5c333a116e949cdd(a, b) {
    if (a && b) return a.compare(b) <= 0 ? a : b;
    return a || b;
}
function $14e0f24ef4ac5c92$export$a75f2bff57811055(a, b) {
    if (a && b) return a.compare(b) >= 0 ? a : b;
    return a || b;
}
const $14e0f24ef4ac5c92$var$WEEKEND_DATA = {
    AF: [
        4,
        5
    ],
    AE: [
        5,
        6
    ],
    BH: [
        5,
        6
    ],
    DZ: [
        5,
        6
    ],
    EG: [
        5,
        6
    ],
    IL: [
        5,
        6
    ],
    IQ: [
        5,
        6
    ],
    IR: [
        5,
        5
    ],
    JO: [
        5,
        6
    ],
    KW: [
        5,
        6
    ],
    LY: [
        5,
        6
    ],
    OM: [
        5,
        6
    ],
    QA: [
        5,
        6
    ],
    SA: [
        5,
        6
    ],
    SD: [
        5,
        6
    ],
    SY: [
        5,
        6
    ],
    YE: [
        5,
        6
    ]
};
function $14e0f24ef4ac5c92$export$618d60ea299da42(date, locale) {
    let julian = date.calendar.toJulianDay(date);
    // If julian is negative, then julian % 7 will be negative, so we adjust
    // accordingly.  Julian day 0 is Monday.
    let dayOfWeek = Math.ceil(julian + 1) % 7;
    if (dayOfWeek < 0) dayOfWeek += 7;
    let region = $14e0f24ef4ac5c92$var$getRegion(locale);
    // Use Intl.Locale for this once weekInfo is supported.
    // https://github.com/tc39/proposal-intl-locale-info
    let [start, end] = $14e0f24ef4ac5c92$var$WEEKEND_DATA[region] || [
        6,
        0
    ];
    return dayOfWeek === start || dayOfWeek === end;
}
function $14e0f24ef4ac5c92$export$ee9d87258e1d19ed(date, locale) {
    return !$14e0f24ef4ac5c92$export$618d60ea299da42(date, locale);
}


export {$14e0f24ef4ac5c92$export$ea39ec197993aef0 as isSameDay, $14e0f24ef4ac5c92$export$a18c89cbd24170ff as isSameMonth, $14e0f24ef4ac5c92$export$a5a3b454ada2268e as startOfMonth, $14e0f24ef4ac5c92$export$5841f9eb9773f25f as isSameYear, $14e0f24ef4ac5c92$export$f91e89d3d0406102 as startOfYear, $14e0f24ef4ac5c92$export$91b62ebf2ba703ee as isEqualDay, $14e0f24ef4ac5c92$export$dbc69fd56b53d5e as isEqualCalendar, $14e0f24ef4ac5c92$export$5a8da0c44a3afdf2 as isEqualMonth, $14e0f24ef4ac5c92$export$ea840f5a6dda8147 as isEqualYear, $14e0f24ef4ac5c92$export$629b0a497aa65267 as isToday, $14e0f24ef4ac5c92$export$d0bdf45af03a6ea3 as today, $14e0f24ef4ac5c92$export$2061056d06d7cdf7 as getDayOfWeek, $14e0f24ef4ac5c92$export$461939dd4422153 as now, $14e0f24ef4ac5c92$export$68781ddf31c0090f as compareDate, $14e0f24ef4ac5c92$export$c19a80a9721b80f6 as compareTime, $14e0f24ef4ac5c92$export$126c91c941de7e as getHoursInDay, $14e0f24ef4ac5c92$export$aa8b41735afcabd2 as getLocalTimeZone, $14e0f24ef4ac5c92$export$a2258d9c4118825c as endOfMonth, $14e0f24ef4ac5c92$export$8b7aa55c66d5569e as endOfYear, $14e0f24ef4ac5c92$export$5412ac11713b72ad as getMinimumMonthInYear, $14e0f24ef4ac5c92$export$b2f4953d301981d5 as getMinimumDayInMonth, $14e0f24ef4ac5c92$export$42c81a444fbfb5d4 as startOfWeek, $14e0f24ef4ac5c92$export$ef8b6d9133084f4e as endOfWeek, $14e0f24ef4ac5c92$export$ccc1b2479e7dd654 as getWeeksInMonth, $14e0f24ef4ac5c92$export$5c333a116e949cdd as minDate, $14e0f24ef4ac5c92$export$a75f2bff57811055 as maxDate, $14e0f24ef4ac5c92$export$618d60ea299da42 as isWeekend, $14e0f24ef4ac5c92$export$ee9d87258e1d19ed as isWeekday};
                                          

//# sourceMappingURL=data:application/json;base64,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QUFDO1FBQUc7S0FBRTtJQUNWLElBQUk7UUFBQztRQUFHO0tBQUU7QUFDWjtBQUdPLFNBQVMseUNBQVUsSUFBZSxFQUFFLE1BQWM7SUFDdkQsSUFBSSxTQUFTLEtBQUssUUFBUSxDQUFDLFdBQVcsQ0FBQztJQUV2Qyx3RUFBd0U7SUFDeEUsd0NBQXdDO0lBQ3hDLElBQUksWUFBWSxLQUFLLElBQUksQ0FBQyxTQUFTLEtBQUs7SUFDeEMsSUFBSSxZQUFZLEdBQ2QsYUFBYTtJQUdmLElBQUksU0FBUyxnQ0FBVTtJQUN2Qix1REFBdUQ7SUFDdkQsb0RBQW9EO0lBQ3BELElBQUksQ0FBQyxPQUFPLElBQUksR0FBRyxrQ0FBWSxDQUFDLE9BQVEsSUFBSTtRQUFDO1FBQUc7S0FBRTtJQUNsRCxPQUFPLGNBQWMsU0FBUyxjQUFjO0FBQzlDO0FBR08sU0FBUywwQ0FBVSxJQUFlLEVBQUUsTUFBYztJQUN2RCxPQUFPLENBQUMseUNBQVUsTUFBTTtBQUMxQiIsInNvdXJjZXMiOlsicGFja2FnZXMvQGludGVybmF0aW9uYWxpemVkL2RhdGUvc3JjL3F1ZXJpZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAyMDIwIEFkb2JlLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBmaWxlIGlzIGxpY2Vuc2VkIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHlcbiAqIG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXJcbiAqIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIFJFUFJFU0VOVEFUSU9OU1xuICogT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlXG4gKiBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7QW55Q2FsZW5kYXJEYXRlLCBBbnlUaW1lLCBDYWxlbmRhcn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge0NhbGVuZGFyRGF0ZSwgQ2FsZW5kYXJEYXRlVGltZSwgWm9uZWREYXRlVGltZX0gZnJvbSAnLi9DYWxlbmRhckRhdGUnO1xuaW1wb3J0IHtmcm9tQWJzb2x1dGUsIHRvQWJzb2x1dGUsIHRvQ2FsZW5kYXIsIHRvQ2FsZW5kYXJEYXRlfSBmcm9tICcuL2NvbnZlcnNpb24nO1xuaW1wb3J0IHt3ZWVrU3RhcnREYXRhfSBmcm9tICcuL3dlZWtTdGFydERhdGEnO1xuXG50eXBlIERhdGVWYWx1ZSA9IENhbGVuZGFyRGF0ZSB8IENhbGVuZGFyRGF0ZVRpbWUgfCBab25lZERhdGVUaW1lO1xuXG4vKiogUmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBkYXRlcyBvY2N1ciBvbiB0aGUgc2FtZSBkYXksIHJlZ2FyZGxlc3Mgb2YgdGhlIHRpbWUgb3IgY2FsZW5kYXIgc3lzdGVtLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZURheShhOiBEYXRlVmFsdWUsIGI6IERhdGVWYWx1ZSk6IGJvb2xlYW4ge1xuICBiID0gdG9DYWxlbmRhcihiLCBhLmNhbGVuZGFyKTtcbiAgcmV0dXJuIGEuZXJhID09PSBiLmVyYSAmJiBhLnllYXIgPT09IGIueWVhciAmJiBhLm1vbnRoID09PSBiLm1vbnRoICYmIGEuZGF5ID09PSBiLmRheTtcbn1cblxuLyoqIFJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gZGF0ZXMgb2NjdXIgaW4gdGhlIHNhbWUgbW9udGgsIHVzaW5nIHRoZSBjYWxlbmRhciBzeXN0ZW0gb2YgdGhlIGZpcnN0IGRhdGUuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lTW9udGgoYTogRGF0ZVZhbHVlLCBiOiBEYXRlVmFsdWUpOiBib29sZWFuIHtcbiAgYiA9IHRvQ2FsZW5kYXIoYiwgYS5jYWxlbmRhcik7XG4gIC8vIEluIHRoZSBKYXBhbmVzZSBjYWxlbmRhciwgbW9udGhzIGNhbiBzcGFuIG11bHRpcGxlIGVyYXMveWVhcnMsIHNvIG9ubHkgY29tcGFyZSB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLlxuICBhID0gc3RhcnRPZk1vbnRoKGEpO1xuICBiID0gc3RhcnRPZk1vbnRoKGIpO1xuICByZXR1cm4gYS5lcmEgPT09IGIuZXJhICYmIGEueWVhciA9PT0gYi55ZWFyICYmIGEubW9udGggPT09IGIubW9udGg7XG59XG5cbi8qKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGdpdmVuIGRhdGVzIG9jY3VyIGluIHRoZSBzYW1lIHllYXIsIHVzaW5nIHRoZSBjYWxlbmRhciBzeXN0ZW0gb2YgdGhlIGZpcnN0IGRhdGUuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lWWVhcihhOiBEYXRlVmFsdWUsIGI6IERhdGVWYWx1ZSk6IGJvb2xlYW4ge1xuICBiID0gdG9DYWxlbmRhcihiLCBhLmNhbGVuZGFyKTtcbiAgYSA9IHN0YXJ0T2ZZZWFyKGEpO1xuICBiID0gc3RhcnRPZlllYXIoYik7XG4gIHJldHVybiBhLmVyYSA9PT0gYi5lcmEgJiYgYS55ZWFyID09PSBiLnllYXI7XG59XG5cbi8qKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGdpdmVuIGRhdGVzIG9jY3VyIG9uIHRoZSBzYW1lIGRheSwgYW5kIGFyZSBvZiB0aGUgc2FtZSBjYWxlbmRhciBzeXN0ZW0uICovXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbERheShhOiBEYXRlVmFsdWUsIGI6IERhdGVWYWx1ZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNFcXVhbENhbGVuZGFyKGEuY2FsZW5kYXIsIGIuY2FsZW5kYXIpICYmIGlzU2FtZURheShhLCBiKTtcbn1cblxuLyoqIFJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gZGF0ZXMgb2NjdXIgaW4gdGhlIHNhbWUgbW9udGgsIGFuZCBhcmUgb2YgdGhlIHNhbWUgY2FsZW5kYXIgc3lzdGVtLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxNb250aChhOiBEYXRlVmFsdWUsIGI6IERhdGVWYWx1ZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNFcXVhbENhbGVuZGFyKGEuY2FsZW5kYXIsIGIuY2FsZW5kYXIpICYmIGlzU2FtZU1vbnRoKGEsIGIpO1xufVxuXG4vKiogUmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBkYXRlcyBvY2N1ciBpbiB0aGUgc2FtZSB5ZWFyLCBhbmQgYXJlIG9mIHRoZSBzYW1lIGNhbGVuZGFyIHN5c3RlbS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsWWVhcihhOiBEYXRlVmFsdWUsIGI6IERhdGVWYWx1ZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNFcXVhbENhbGVuZGFyKGEuY2FsZW5kYXIsIGIuY2FsZW5kYXIpICYmIGlzU2FtZVllYXIoYSwgYik7XG59XG5cbi8qKiBSZXR1cm5zIHdoZXRoZXIgdHdvIGNhbGVuZGFycyBhcmUgdGhlIHNhbWUuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbENhbGVuZGFyKGE6IENhbGVuZGFyLCBiOiBDYWxlbmRhcik6IGJvb2xlYW4ge1xuICByZXR1cm4gYS5pc0VxdWFsPy4oYikgPz8gYi5pc0VxdWFsPy4oYSkgPz8gYS5pZGVudGlmaWVyID09PSBiLmlkZW50aWZpZXI7XG59XG5cbi8qKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGRhdGUgaXMgdG9kYXkgaW4gdGhlIGdpdmVuIHRpbWUgem9uZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RvZGF5KGRhdGU6IERhdGVWYWx1ZSwgdGltZVpvbmU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNTYW1lRGF5KGRhdGUsIHRvZGF5KHRpbWVab25lKSk7XG59XG5cbmNvbnN0IERBWV9NQVAgPSB7XG4gIHN1bjogMCxcbiAgbW9uOiAxLFxuICB0dWU6IDIsXG4gIHdlZDogMyxcbiAgdGh1OiA0LFxuICBmcmk6IDUsXG4gIHNhdDogNlxufTtcblxudHlwZSBEYXlPZldlZWsgPSAnc3VuJyB8ICdtb24nIHwgJ3R1ZScgfCAnd2VkJyB8ICd0aHUnIHwgJ2ZyaScgfCAnc2F0JztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkYXkgb2Ygd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUgYW5kIGxvY2FsZS4gRGF5cyBhcmUgbnVtYmVyZWQgZnJvbSB6ZXJvIHRvIHNpeCxcbiAqIHdoZXJlIHplcm8gaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayBpbiB0aGUgZ2l2ZW4gbG9jYWxlLiBGb3IgZXhhbXBsZSwgaW4gdGhlIFVuaXRlZCBTdGF0ZXMsXG4gKiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrIGlzIFN1bmRheSwgYnV0IGluIEZyYW5jZSBpdCBpcyBNb25kYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXlPZldlZWsoZGF0ZTogRGF0ZVZhbHVlLCBsb2NhbGU6IHN0cmluZywgZmlyc3REYXlPZldlZWs/OiBEYXlPZldlZWspOiBudW1iZXIge1xuICBsZXQganVsaWFuID0gZGF0ZS5jYWxlbmRhci50b0p1bGlhbkRheShkYXRlKTtcblxuICAvLyBJZiBqdWxpYW4gaXMgbmVnYXRpdmUsIHRoZW4ganVsaWFuICUgNyB3aWxsIGJlIG5lZ2F0aXZlLCBzbyB3ZSBhZGp1c3RcbiAgLy8gYWNjb3JkaW5nbHkuICBKdWxpYW4gZGF5IDAgaXMgTW9uZGF5LlxuICBsZXQgd2Vla1N0YXJ0ID0gZmlyc3REYXlPZldlZWsgPyBEQVlfTUFQW2ZpcnN0RGF5T2ZXZWVrXSA6IGdldFdlZWtTdGFydChsb2NhbGUpO1xuICBsZXQgZGF5T2ZXZWVrID0gTWF0aC5jZWlsKGp1bGlhbiArIDEgLSB3ZWVrU3RhcnQpICUgNztcbiAgaWYgKGRheU9mV2VlayA8IDApIHtcbiAgICBkYXlPZldlZWsgKz0gNztcbiAgfVxuXG4gIHJldHVybiBkYXlPZldlZWs7XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBjdXJyZW50IHRpbWUgaW4gdGhlIGdpdmVuIHRpbWUgem9uZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3codGltZVpvbmU6IHN0cmluZyk6IFpvbmVkRGF0ZVRpbWUge1xuICByZXR1cm4gZnJvbUFic29sdXRlKERhdGUubm93KCksIHRpbWVab25lKTtcbn1cblxuLyoqIFJldHVybnMgdG9kYXkncyBkYXRlIGluIHRoZSBnaXZlbiB0aW1lIHpvbmUuICovXG5leHBvcnQgZnVuY3Rpb24gdG9kYXkodGltZVpvbmU6IHN0cmluZyk6IENhbGVuZGFyRGF0ZSB7XG4gIHJldHVybiB0b0NhbGVuZGFyRGF0ZShub3codGltZVpvbmUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVEYXRlKGE6IEFueUNhbGVuZGFyRGF0ZSwgYjogQW55Q2FsZW5kYXJEYXRlKTogbnVtYmVyIHtcbiAgcmV0dXJuIGEuY2FsZW5kYXIudG9KdWxpYW5EYXkoYSkgLSBiLmNhbGVuZGFyLnRvSnVsaWFuRGF5KGIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVRpbWUoYTogQW55VGltZSwgYjogQW55VGltZSk6IG51bWJlciB7XG4gIHJldHVybiB0aW1lVG9NcyhhKSAtIHRpbWVUb01zKGIpO1xufVxuXG5mdW5jdGlvbiB0aW1lVG9NcyhhOiBBbnlUaW1lKTogbnVtYmVyIHtcbiAgcmV0dXJuIGEuaG91ciAqIDYwICogNjAgKiAxMDAwICsgYS5taW51dGUgKiA2MCAqIDEwMDAgKyBhLnNlY29uZCAqIDEwMDAgKyBhLm1pbGxpc2Vjb25kO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG51bWJlciBvZiBob3VycyBpbiB0aGUgZ2l2ZW4gZGF0ZSBhbmQgdGltZSB6b25lLlxuICogVXN1YWxseSB0aGlzIGlzIDI0LCBidXQgaXQgY291bGQgYmUgMjMgb3IgMjUgaWYgdGhlIGRhdGUgaXMgb24gYSBkYXlsaWdodCBzYXZpbmcgdHJhbnNpdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhvdXJzSW5EYXkoYTogQ2FsZW5kYXJEYXRlLCB0aW1lWm9uZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgbGV0IG1zID0gdG9BYnNvbHV0ZShhLCB0aW1lWm9uZSk7XG4gIGxldCB0b21vcnJvdyA9IGEuYWRkKHtkYXlzOiAxfSk7XG4gIGxldCB0b21vcnJvd01zID0gdG9BYnNvbHV0ZSh0b21vcnJvdywgdGltZVpvbmUpO1xuICByZXR1cm4gKHRvbW9ycm93TXMgLSBtcykgLyAzNjAwMDAwO1xufVxuXG5sZXQgbG9jYWxUaW1lWm9uZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbi8qKiBSZXR1cm5zIHRoZSB0aW1lIHpvbmUgaWRlbnRpZmllciBmb3IgdGhlIGN1cnJlbnQgdXNlci4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbFRpbWVab25lKCk6IHN0cmluZyB7XG4gIC8vIFRPRE86IGludmFsaWRhdGUgdGhpcyBzb21laG93P1xuICBpZiAobG9jYWxUaW1lWm9uZSA9PSBudWxsKSB7XG4gICAgbG9jYWxUaW1lWm9uZSA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7XG4gIH1cblxuICByZXR1cm4gbG9jYWxUaW1lWm9uZSE7XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBmaXJzdCBkYXRlIG9mIHRoZSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZk1vbnRoKGRhdGU6IFpvbmVkRGF0ZVRpbWUpOiBab25lZERhdGVUaW1lO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZNb250aChkYXRlOiBDYWxlbmRhckRhdGVUaW1lKTogQ2FsZW5kYXJEYXRlVGltZTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mTW9udGgoZGF0ZTogQ2FsZW5kYXJEYXRlKTogQ2FsZW5kYXJEYXRlO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZNb250aChkYXRlOiBEYXRlVmFsdWUpOiBEYXRlVmFsdWU7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZk1vbnRoKGRhdGU6IERhdGVWYWx1ZSk6IERhdGVWYWx1ZSB7XG4gIC8vIFVzZSBgc3VidHJhY3RgIGluc3RlYWQgb2YgYHNldGAgc28gd2UgZG9uJ3QgZ2V0IGNvbnN0cmFpbmVkIGluIGFuIGVyYS5cbiAgcmV0dXJuIGRhdGUuc3VidHJhY3Qoe2RheXM6IGRhdGUuZGF5IC0gMX0pO1xufVxuXG4vKiogUmV0dXJucyB0aGUgbGFzdCBkYXRlIG9mIHRoZSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kT2ZNb250aChkYXRlOiBab25lZERhdGVUaW1lKTogWm9uZWREYXRlVGltZTtcbmV4cG9ydCBmdW5jdGlvbiBlbmRPZk1vbnRoKGRhdGU6IENhbGVuZGFyRGF0ZVRpbWUpOiBDYWxlbmRhckRhdGVUaW1lO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mTW9udGgoZGF0ZTogQ2FsZW5kYXJEYXRlKTogQ2FsZW5kYXJEYXRlO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mTW9udGgoZGF0ZTogRGF0ZVZhbHVlKTogRGF0ZVZhbHVlO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mTW9udGgoZGF0ZTogRGF0ZVZhbHVlKTogRGF0ZVZhbHVlIHtcbiAgcmV0dXJuIGRhdGUuYWRkKHtkYXlzOiBkYXRlLmNhbGVuZGFyLmdldERheXNJbk1vbnRoKGRhdGUpIC0gZGF0ZS5kYXl9KTtcbn1cblxuLyoqIFJldHVybnMgdGhlIGZpcnN0IGRheSBvZiB0aGUgeWVhciBmb3IgdGhlIGdpdmVuIGRhdGUuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZlllYXIoZGF0ZTogWm9uZWREYXRlVGltZSk6IFpvbmVkRGF0ZVRpbWU7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZlllYXIoZGF0ZTogQ2FsZW5kYXJEYXRlVGltZSk6IENhbGVuZGFyRGF0ZVRpbWU7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZlllYXIoZGF0ZTogQ2FsZW5kYXJEYXRlKTogQ2FsZW5kYXJEYXRlO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZZZWFyKGRhdGU6IERhdGVWYWx1ZSk6IERhdGVWYWx1ZTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mWWVhcihkYXRlOiBEYXRlVmFsdWUpOiBEYXRlVmFsdWUge1xuICByZXR1cm4gc3RhcnRPZk1vbnRoKGRhdGUuc3VidHJhY3Qoe21vbnRoczogZGF0ZS5tb250aCAtIDF9KSk7XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBsYXN0IGRheSBvZiB0aGUgeWVhciBmb3IgdGhlIGdpdmVuIGRhdGUuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kT2ZZZWFyKGRhdGU6IFpvbmVkRGF0ZVRpbWUpOiBab25lZERhdGVUaW1lO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mWWVhcihkYXRlOiBDYWxlbmRhckRhdGVUaW1lKTogQ2FsZW5kYXJEYXRlVGltZTtcbmV4cG9ydCBmdW5jdGlvbiBlbmRPZlllYXIoZGF0ZTogQ2FsZW5kYXJEYXRlKTogQ2FsZW5kYXJEYXRlO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mWWVhcihkYXRlOiBEYXRlVmFsdWUpOiBEYXRlVmFsdWU7XG5leHBvcnQgZnVuY3Rpb24gZW5kT2ZZZWFyKGRhdGU6IERhdGVWYWx1ZSk6IERhdGVWYWx1ZSB7XG4gIHJldHVybiBlbmRPZk1vbnRoKGRhdGUuYWRkKHttb250aHM6IGRhdGUuY2FsZW5kYXIuZ2V0TW9udGhzSW5ZZWFyKGRhdGUpIC0gZGF0ZS5tb250aH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbmltdW1Nb250aEluWWVhcihkYXRlOiBBbnlDYWxlbmRhckRhdGUpOiBudW1iZXIge1xuICBpZiAoZGF0ZS5jYWxlbmRhci5nZXRNaW5pbXVtTW9udGhJblllYXIpIHtcbiAgICByZXR1cm4gZGF0ZS5jYWxlbmRhci5nZXRNaW5pbXVtTW9udGhJblllYXIoZGF0ZSk7XG4gIH1cblxuICByZXR1cm4gMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbmltdW1EYXlJbk1vbnRoKGRhdGU6IEFueUNhbGVuZGFyRGF0ZSk6IG51bWJlciB7XG4gIGlmIChkYXRlLmNhbGVuZGFyLmdldE1pbmltdW1EYXlJbk1vbnRoKSB7XG4gICAgcmV0dXJuIGRhdGUuY2FsZW5kYXIuZ2V0TWluaW11bURheUluTW9udGgoZGF0ZSk7XG4gIH1cblxuICByZXR1cm4gMTtcbn1cblxuLyoqIFJldHVybnMgdGhlIGZpcnN0IGRhdGUgb2YgdGhlIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlIGFuZCBsb2NhbGUuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZldlZWsoZGF0ZTogWm9uZWREYXRlVGltZSwgbG9jYWxlOiBzdHJpbmcsIGZpcnN0RGF5T2ZXZWVrPzogRGF5T2ZXZWVrKTogWm9uZWREYXRlVGltZTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mV2VlayhkYXRlOiBDYWxlbmRhckRhdGVUaW1lLCBsb2NhbGU6IHN0cmluZywgZmlyc3REYXlPZldlZWs/OiBEYXlPZldlZWspOiBDYWxlbmRhckRhdGVUaW1lO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrKGRhdGU6IENhbGVuZGFyRGF0ZSwgbG9jYWxlOiBzdHJpbmcsIGZpcnN0RGF5T2ZXZWVrPzogRGF5T2ZXZWVrKTogQ2FsZW5kYXJEYXRlO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrKGRhdGU6IERhdGVWYWx1ZSwgbG9jYWxlOiBzdHJpbmcsIGZpcnN0RGF5T2ZXZWVrPzogRGF5T2ZXZWVrKTogRGF0ZVZhbHVlO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrKGRhdGU6IERhdGVWYWx1ZSwgbG9jYWxlOiBzdHJpbmcsIGZpcnN0RGF5T2ZXZWVrPzogRGF5T2ZXZWVrKTogRGF0ZVZhbHVlIHtcbiAgbGV0IGRheU9mV2VlayA9IGdldERheU9mV2VlayhkYXRlLCBsb2NhbGUsIGZpcnN0RGF5T2ZXZWVrKTtcbiAgcmV0dXJuIGRhdGUuc3VidHJhY3Qoe2RheXM6IGRheU9mV2Vla30pO1xufVxuXG4vKiogUmV0dXJucyB0aGUgbGFzdCBkYXRlIG9mIHRoZSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZSBhbmQgbG9jYWxlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mV2VlayhkYXRlOiBab25lZERhdGVUaW1lLCBsb2NhbGU6IHN0cmluZywgZmlyc3REYXlPZldlZWs/OiBEYXlPZldlZWspOiBab25lZERhdGVUaW1lO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mV2VlayhkYXRlOiBDYWxlbmRhckRhdGVUaW1lLCBsb2NhbGU6IHN0cmluZywgZmlyc3REYXlPZldlZWs/OiBEYXlPZldlZWspOiBDYWxlbmRhckRhdGVUaW1lO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mV2VlayhkYXRlOiBDYWxlbmRhckRhdGUsIGxvY2FsZTogc3RyaW5nLCBmaXJzdERheU9mV2Vlaz86IERheU9mV2Vlayk6IENhbGVuZGFyRGF0ZTtcbmV4cG9ydCBmdW5jdGlvbiBlbmRPZldlZWsoZGF0ZTogRGF0ZVZhbHVlLCBsb2NhbGU6IHN0cmluZywgZmlyc3REYXlPZldlZWs/OiBEYXlPZldlZWspOiBEYXRlVmFsdWU7XG5leHBvcnQgZnVuY3Rpb24gZW5kT2ZXZWVrKGRhdGU6IERhdGVWYWx1ZSwgbG9jYWxlOiBzdHJpbmcsIGZpcnN0RGF5T2ZXZWVrPzogRGF5T2ZXZWVrKTogRGF0ZVZhbHVlIHtcbiAgcmV0dXJuIHN0YXJ0T2ZXZWVrKGRhdGUsIGxvY2FsZSwgZmlyc3REYXlPZldlZWspLmFkZCh7ZGF5czogNn0pO1xufVxuXG5jb25zdCBjYWNoZWRSZWdpb25zID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcblxuZnVuY3Rpb24gZ2V0UmVnaW9uKGxvY2FsZTogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgLy8gSWYgdGhlIEludGwuTG9jYWxlIEFQSSBpcyBhdmFpbGFibGUsIHVzZSBpdCB0byBnZXQgdGhlIHJlZ2lvbiBmb3IgdGhlIGxvY2FsZS5cbiAgLy8gQHRzLWlnbm9yZVxuICBpZiAoSW50bC5Mb2NhbGUpIHtcbiAgICAvLyBDb25zdHJ1Y3RpbmcgYW4gSW50bC5Mb2NhbGUgaXMgZXhwZW5zaXZlLCBzbyBjYWNoZSB0aGUgcmVzdWx0LlxuICAgIGxldCByZWdpb24gPSBjYWNoZWRSZWdpb25zLmdldChsb2NhbGUpO1xuICAgIGlmICghcmVnaW9uKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZWdpb24gPSBuZXcgSW50bC5Mb2NhbGUobG9jYWxlKS5tYXhpbWl6ZSgpLnJlZ2lvbjtcbiAgICAgIGlmIChyZWdpb24pIHtcbiAgICAgICAgY2FjaGVkUmVnaW9ucy5zZXQobG9jYWxlLCByZWdpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVnaW9uO1xuICB9XG5cbiAgLy8gSWYgbm90LCBqdXN0IHRyeSBzcGxpdHRpbmcgdGhlIHN0cmluZy5cbiAgLy8gSWYgdGhlIHNlY29uZCBwYXJ0IG9mIHRoZSBsb2NhbGUgc3RyaW5nIGlzICd1JyxcbiAgLy8gdGhlbiB0aGlzIGlzIGEgdW5pY29kZSBleHRlbnNpb24sIHNvIGlnbm9yZSBpdC5cbiAgLy8gT3RoZXJ3aXNlLCBpdCBzaG91bGQgYmUgdGhlIHJlZ2lvbi5cbiAgbGV0IHBhcnQgPSBsb2NhbGUuc3BsaXQoJy0nKVsxXTtcbiAgcmV0dXJuIHBhcnQgPT09ICd1JyA/IHVuZGVmaW5lZCA6IHBhcnQ7XG59XG5cbmZ1bmN0aW9uIGdldFdlZWtTdGFydChsb2NhbGU6IHN0cmluZyk6IG51bWJlciB7XG4gIC8vIFRPRE86IHVzZSBJbnRsLkxvY2FsZSBmb3IgdGhpcyBvbmNlIGJyb3dzZXJzIHN1cHBvcnQgdGhlIHdlZWtJbmZvIHByb3BlcnR5XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWludGwtbG9jYWxlLWluZm9cbiAgbGV0IHJlZ2lvbiA9IGdldFJlZ2lvbihsb2NhbGUpO1xuICByZXR1cm4gcmVnaW9uID8gd2Vla1N0YXJ0RGF0YVtyZWdpb25dIHx8IDAgOiAwO1xufVxuXG4vKiogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHdlZWtzIGluIHRoZSBnaXZlbiBtb250aCBhbmQgbG9jYWxlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWtzSW5Nb250aChkYXRlOiBEYXRlVmFsdWUsIGxvY2FsZTogc3RyaW5nLCBmaXJzdERheU9mV2Vlaz86IERheU9mV2Vlayk6IG51bWJlciB7XG4gIGxldCBkYXlzID0gZGF0ZS5jYWxlbmRhci5nZXREYXlzSW5Nb250aChkYXRlKTtcbiAgcmV0dXJuIE1hdGguY2VpbCgoZ2V0RGF5T2ZXZWVrKHN0YXJ0T2ZNb250aChkYXRlKSwgbG9jYWxlLCBmaXJzdERheU9mV2VlaykgKyBkYXlzKSAvIDcpO1xufVxuXG4vKiogUmV0dXJucyB0aGUgbGVzc2VyIG9mIHRoZSB0d28gcHJvdmlkZXIgZGF0ZXMuICovXG5leHBvcnQgZnVuY3Rpb24gbWluRGF0ZTxBIGV4dGVuZHMgRGF0ZVZhbHVlLCBCIGV4dGVuZHMgRGF0ZVZhbHVlPihhPzogQSB8IG51bGwsIGI/OiBCIHwgbnVsbCk6IEEgfCBCIHwgbnVsbCB8IHVuZGVmaW5lZCB7XG4gIGlmIChhICYmIGIpIHtcbiAgICByZXR1cm4gYS5jb21wYXJlKGIpIDw9IDAgPyBhIDogYjtcbiAgfVxuXG4gIHJldHVybiBhIHx8IGI7XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBncmVhdGVyIG9mIHRoZSB0d28gcHJvdmlkZXIgZGF0ZXMuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4RGF0ZTxBIGV4dGVuZHMgRGF0ZVZhbHVlLCBCIGV4dGVuZHMgRGF0ZVZhbHVlPihhPzogQSB8IG51bGwsIGI/OiBCIHwgbnVsbCk6IEEgfCBCIHwgbnVsbCB8IHVuZGVmaW5lZCB7XG4gIGlmIChhICYmIGIpIHtcbiAgICByZXR1cm4gYS5jb21wYXJlKGIpID49IDAgPyBhIDogYjtcbiAgfVxuXG4gIHJldHVybiBhIHx8IGI7XG59XG5cbmNvbnN0IFdFRUtFTkRfREFUQSA9IHtcbiAgQUY6IFs0LCA1XSxcbiAgQUU6IFs1LCA2XSxcbiAgQkg6IFs1LCA2XSxcbiAgRFo6IFs1LCA2XSxcbiAgRUc6IFs1LCA2XSxcbiAgSUw6IFs1LCA2XSxcbiAgSVE6IFs1LCA2XSxcbiAgSVI6IFs1LCA1XSxcbiAgSk86IFs1LCA2XSxcbiAgS1c6IFs1LCA2XSxcbiAgTFk6IFs1LCA2XSxcbiAgT006IFs1LCA2XSxcbiAgUUE6IFs1LCA2XSxcbiAgU0E6IFs1LCA2XSxcbiAgU0Q6IFs1LCA2XSxcbiAgU1k6IFs1LCA2XSxcbiAgWUU6IFs1LCA2XVxufTtcblxuLyoqIFJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gZGF0ZSBpcyBvbiBhIHdlZWtlbmQgaW4gdGhlIGdpdmVuIGxvY2FsZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlZWtlbmQoZGF0ZTogRGF0ZVZhbHVlLCBsb2NhbGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBsZXQganVsaWFuID0gZGF0ZS5jYWxlbmRhci50b0p1bGlhbkRheShkYXRlKTtcblxuICAvLyBJZiBqdWxpYW4gaXMgbmVnYXRpdmUsIHRoZW4ganVsaWFuICUgNyB3aWxsIGJlIG5lZ2F0aXZlLCBzbyB3ZSBhZGp1c3RcbiAgLy8gYWNjb3JkaW5nbHkuICBKdWxpYW4gZGF5IDAgaXMgTW9uZGF5LlxuICBsZXQgZGF5T2ZXZWVrID0gTWF0aC5jZWlsKGp1bGlhbiArIDEpICUgNztcbiAgaWYgKGRheU9mV2VlayA8IDApIHtcbiAgICBkYXlPZldlZWsgKz0gNztcbiAgfVxuXG4gIGxldCByZWdpb24gPSBnZXRSZWdpb24obG9jYWxlKTtcbiAgLy8gVXNlIEludGwuTG9jYWxlIGZvciB0aGlzIG9uY2Ugd2Vla0luZm8gaXMgc3VwcG9ydGVkLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1pbnRsLWxvY2FsZS1pbmZvXG4gIGxldCBbc3RhcnQsIGVuZF0gPSBXRUVLRU5EX0RBVEFbcmVnaW9uIV0gfHwgWzYsIDBdO1xuICByZXR1cm4gZGF5T2ZXZWVrID09PSBzdGFydCB8fCBkYXlPZldlZWsgPT09IGVuZDtcbn1cblxuLyoqIFJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gZGF0ZSBpcyBvbiBhIHdlZWtkYXkgaW4gdGhlIGdpdmVuIGxvY2FsZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlZWtkYXkoZGF0ZTogRGF0ZVZhbHVlLCBsb2NhbGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gIWlzV2Vla2VuZChkYXRlLCBsb2NhbGUpO1xufVxuIl0sIm5hbWVzIjpbXSwidmVyc2lvbiI6MywiZmlsZSI6InF1ZXJpZXMubW9kdWxlLmpzLm1hcCIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=