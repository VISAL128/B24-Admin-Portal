import { defineComponent, ref, computed, watchEffect, createBlock, openBlock, unref, mergeProps, withCtx, renderSlot } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/vue/dist/vue.runtime.esm-bundler.js?v=b7258a77";
import { m as makeTriggerId, a as makeContentId, E as EVENT_ROOT_CONTENT_DISMISS, g as getOpenState, b as getTabbableCandidates, f as focusFirst } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/NavigationMenu/utils.js?v=b7258a77";
import { u as useCollection } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/Collection/Collection.js?v=b7258a77";
import { u as useForwardExpose } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/shared/useForwardExpose.js?v=b7258a77";
import { i as injectNavigationMenuItemContext } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/NavigationMenu/NavigationMenuItem.js?v=b7258a77";
import { _ as _sfc_main$1 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/DismissableLayer/DismissableLayer.js?v=b7258a77";
import { g as getActiveElement } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/shared/getActiveElement.js?v=b7258a77";
import { u as useArrowNavigation } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/shared/useArrowNavigation.js?v=b7258a77";
import { i as injectNavigationMenuContext } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/NavigationMenu/NavigationMenuRoot.js?v=b7258a77";

const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "NavigationMenuContentImpl",
  props: {
    disableOutsidePointerEvents: { type: Boolean },
    asChild: { type: Boolean },
    as: {}
  },
  emits: ["escapeKeyDown", "pointerDownOutside", "focusOutside", "interactOutside"],
  setup(__props, { emit: __emit }) {
    const props = __props;
    const emits = __emit;
    const { getItems } = useCollection({ key: "NavigationMenu" });
    const { forwardRef, currentElement } = useForwardExpose();
    const menuContext = injectNavigationMenuContext();
    const itemContext = injectNavigationMenuItemContext();
    const triggerId = makeTriggerId(menuContext.baseId, itemContext.value);
    const contentId = makeContentId(menuContext.baseId, itemContext.value);
    const prevMotionAttributeRef = ref(null);
    const motionAttribute = computed(() => {
      const values = getItems().map((i) => i.ref.id.split("trigger-")[1]);
      if (menuContext.dir.value === "rtl")
        values.reverse();
      const index = values.indexOf(menuContext.modelValue.value);
      const prevIndex = values.indexOf(menuContext.previousValue.value);
      const isSelected = itemContext.value === menuContext.modelValue.value;
      const wasSelected = prevIndex === values.indexOf(itemContext.value);
      if (!isSelected && !wasSelected)
        return prevMotionAttributeRef.value;
      const attribute = (() => {
        if (index !== prevIndex) {
          if (isSelected && prevIndex !== -1)
            return index > prevIndex ? "from-end" : "from-start";
          if (wasSelected && index !== -1)
            return index > prevIndex ? "to-start" : "to-end";
        }
        return null;
      })();
      prevMotionAttributeRef.value = attribute;
      return attribute;
    });
    function handleFocusOutside(ev) {
      emits("focusOutside", ev);
      emits("interactOutside", ev);
      const target = ev.detail.originalEvent.target;
      if (target.hasAttribute("data-navigation-menu-trigger"))
        ev.preventDefault();
      if (!ev.defaultPrevented) {
        itemContext.onContentFocusOutside();
        const target2 = ev.target;
        if (menuContext.rootNavigationMenu?.value?.contains(target2))
          ev.preventDefault();
      }
    }
    function handlePointerDownOutside(ev) {
      emits("pointerDownOutside", ev);
      if (!ev.defaultPrevented) {
        const target = ev.target;
        const isTrigger = getItems().some(
          (i) => i.ref.contains(target)
        );
        const isRootViewport = menuContext.isRootMenu && menuContext.viewport.value?.contains(target);
        if (isTrigger || isRootViewport || !menuContext.isRootMenu)
          ev.preventDefault();
      }
    }
    watchEffect((cleanupFn) => {
      const content = currentElement.value;
      if (menuContext.isRootMenu && content) {
        const handleClose = () => {
          menuContext.onItemDismiss();
          itemContext.onRootContentClose();
          if (content.contains(getActiveElement()))
            itemContext.triggerRef.value?.focus();
        };
        content.addEventListener(EVENT_ROOT_CONTENT_DISMISS, handleClose);
        cleanupFn(
          () => content.removeEventListener(EVENT_ROOT_CONTENT_DISMISS, handleClose)
        );
      }
    });
    function handleEscapeKeyDown(ev) {
      emits("escapeKeyDown", ev);
      if (!ev.defaultPrevented) {
        menuContext.onItemDismiss();
        itemContext.triggerRef?.value?.focus();
        itemContext.wasEscapeCloseRef.value = true;
      }
    }
    function handleKeydown(ev) {
      if (ev.target.closest("[data-reka-navigation-menu]") !== menuContext.rootNavigationMenu.value)
        return;
      const isMetaKey = ev.altKey || ev.ctrlKey || ev.metaKey;
      const isTabKey = ev.key === "Tab" && !isMetaKey;
      const candidates = getTabbableCandidates(ev.currentTarget);
      if (isTabKey) {
        const focusedElement = getActiveElement();
        const index = candidates.findIndex(
          (candidate) => candidate === focusedElement
        );
        const isMovingBackwards = ev.shiftKey;
        const nextCandidates = isMovingBackwards ? candidates.slice(0, index).reverse() : candidates.slice(index + 1, candidates.length);
        if (focusFirst(nextCandidates)) {
          ev.preventDefault();
        } else {
          itemContext.focusProxyRef.value?.focus();
          return;
        }
      }
      const newSelectedElement = useArrowNavigation(
        ev,
        getActiveElement(),
        void 0,
        { itemsArray: candidates, loop: false, enableIgnoredElement: true }
      );
      newSelectedElement?.focus();
    }
    function handleDismiss() {
      const rootContentDismissEvent = new Event(EVENT_ROOT_CONTENT_DISMISS, {
        bubbles: true,
        cancelable: true
      });
      currentElement.value?.dispatchEvent(rootContentDismissEvent);
    }
    return (_ctx, _cache) => {
      return openBlock(), createBlock(unref(_sfc_main$1), mergeProps({
        id: unref(contentId),
        ref: unref(forwardRef),
        "aria-labelledby": unref(triggerId),
        "data-motion": motionAttribute.value,
        "data-state": unref(getOpenState)(unref(menuContext).modelValue.value === unref(itemContext).value),
        "data-orientation": unref(menuContext).orientation
      }, props, {
        onKeydown: handleKeydown,
        onEscapeKeyDown: handleEscapeKeyDown,
        onPointerDownOutside: handlePointerDownOutside,
        onFocusOutside: handleFocusOutside,
        onDismiss: handleDismiss
      }), {
        default: withCtx(() => [
          renderSlot(_ctx.$slots, "default")
        ]),
        _: 3
      }, 16, ["id", "aria-labelledby", "data-motion", "data-state", "data-orientation"]);
    };
  }
});

export { _sfc_main as _ };
                                                     

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTmF2aWdhdGlvbk1lbnVDb250ZW50SW1wbC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL05hdmlnYXRpb25NZW51L05hdmlnYXRpb25NZW51Q29udGVudEltcGwudnVlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5pbXBvcnQgdHlwZSB7XG4gIERpc21pc3NhYmxlTGF5ZXJFbWl0cyxcbiAgRGlzbWlzc2FibGVMYXllclByb3BzLFxuICBGb2N1c091dHNpZGVFdmVudCxcbn0gZnJvbSAnQC9EaXNtaXNzYWJsZUxheWVyJ1xuaW1wb3J0IHR5cGUgeyBQb2ludGVyRG93bk91dHNpZGVFdmVudCB9IGZyb20gJ0AvRGlzbWlzc2FibGVMYXllci91dGlscydcbmltcG9ydCB7IHVzZUNvbGxlY3Rpb24gfSBmcm9tICdAL0NvbGxlY3Rpb24nXG5cbnR5cGUgTW90aW9uQXR0cmlidXRlID0gJ3RvLXN0YXJ0JyB8ICd0by1lbmQnIHwgJ2Zyb20tc3RhcnQnIHwgJ2Zyb20tZW5kJ1xuXG5leHBvcnQgdHlwZSBOYXZpZ2F0aW9uTWVudUNvbnRlbnRJbXBsRW1pdHMgPSBEaXNtaXNzYWJsZUxheWVyRW1pdHNcblxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0aW9uTWVudUNvbnRlbnRJbXBsUHJvcHMgZXh0ZW5kcyBEaXNtaXNzYWJsZUxheWVyUHJvcHMge31cbjwvc2NyaXB0PlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiwgd2F0Y2hFZmZlY3QgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyBEaXNtaXNzYWJsZUxheWVyIH0gZnJvbSAnQC9EaXNtaXNzYWJsZUxheWVyJ1xuaW1wb3J0IHsgZ2V0QWN0aXZlRWxlbWVudCwgdXNlQXJyb3dOYXZpZ2F0aW9uLCB1c2VGb3J3YXJkRXhwb3NlIH0gZnJvbSAnQC9zaGFyZWQnXG5pbXBvcnQgeyBpbmplY3ROYXZpZ2F0aW9uTWVudUl0ZW1Db250ZXh0IH0gZnJvbSAnLi9OYXZpZ2F0aW9uTWVudUl0ZW0udnVlJ1xuaW1wb3J0IHsgaW5qZWN0TmF2aWdhdGlvbk1lbnVDb250ZXh0IH0gZnJvbSAnLi9OYXZpZ2F0aW9uTWVudVJvb3QudnVlJ1xuaW1wb3J0IHtcbiAgRVZFTlRfUk9PVF9DT05URU5UX0RJU01JU1MsXG4gIGZvY3VzRmlyc3QsXG4gIGdldE9wZW5TdGF0ZSxcbiAgZ2V0VGFiYmFibGVDYW5kaWRhdGVzLFxuICBtYWtlQ29udGVudElkLFxuICBtYWtlVHJpZ2dlcklkLFxufSBmcm9tICcuL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPE5hdmlnYXRpb25NZW51Q29udGVudEltcGxQcm9wcz4oKVxuY29uc3QgZW1pdHMgPSBkZWZpbmVFbWl0czxOYXZpZ2F0aW9uTWVudUNvbnRlbnRJbXBsRW1pdHM+KClcblxuY29uc3QgeyBnZXRJdGVtcyB9ID0gdXNlQ29sbGVjdGlvbih7IGtleTogJ05hdmlnYXRpb25NZW51JyB9KVxuY29uc3QgeyBmb3J3YXJkUmVmLCBjdXJyZW50RWxlbWVudCB9ID0gdXNlRm9yd2FyZEV4cG9zZSgpXG5cbmNvbnN0IG1lbnVDb250ZXh0ID0gaW5qZWN0TmF2aWdhdGlvbk1lbnVDb250ZXh0KClcbmNvbnN0IGl0ZW1Db250ZXh0ID0gaW5qZWN0TmF2aWdhdGlvbk1lbnVJdGVtQ29udGV4dCgpXG5cbmNvbnN0IHRyaWdnZXJJZCA9IG1ha2VUcmlnZ2VySWQobWVudUNvbnRleHQuYmFzZUlkLCBpdGVtQ29udGV4dC52YWx1ZSlcbmNvbnN0IGNvbnRlbnRJZCA9IG1ha2VDb250ZW50SWQobWVudUNvbnRleHQuYmFzZUlkLCBpdGVtQ29udGV4dC52YWx1ZSlcblxuY29uc3QgcHJldk1vdGlvbkF0dHJpYnV0ZVJlZiA9IHJlZjxNb3Rpb25BdHRyaWJ1dGUgfCBudWxsPihudWxsKVxuY29uc3QgbW90aW9uQXR0cmlidXRlID0gY29tcHV0ZWQoKCkgPT4ge1xuICBjb25zdCB2YWx1ZXMgPSBnZXRJdGVtcygpLm1hcChpID0+IGkucmVmLmlkLnNwbGl0KCd0cmlnZ2VyLScpWzFdKVxuICBpZiAobWVudUNvbnRleHQuZGlyLnZhbHVlID09PSAncnRsJylcbiAgICB2YWx1ZXMucmV2ZXJzZSgpXG4gIGNvbnN0IGluZGV4ID0gdmFsdWVzLmluZGV4T2YobWVudUNvbnRleHQubW9kZWxWYWx1ZS52YWx1ZSlcbiAgY29uc3QgcHJldkluZGV4ID0gdmFsdWVzLmluZGV4T2YobWVudUNvbnRleHQucHJldmlvdXNWYWx1ZS52YWx1ZSlcbiAgY29uc3QgaXNTZWxlY3RlZCA9IGl0ZW1Db250ZXh0LnZhbHVlID09PSBtZW51Q29udGV4dC5tb2RlbFZhbHVlLnZhbHVlXG4gIGNvbnN0IHdhc1NlbGVjdGVkID0gcHJldkluZGV4ID09PSB2YWx1ZXMuaW5kZXhPZihpdGVtQ29udGV4dC52YWx1ZSlcblxuICAvLyBXZSBvbmx5IHdhbnQgdG8gdXBkYXRlIHNlbGVjdGVkIGFuZCB0aGUgbGFzdCBzZWxlY3RlZCBjb250ZW50XG4gIC8vIHRoaXMgYXZvaWRzIGFuaW1hdGlvbnMgYmVpbmcgaW50ZXJydXB0ZWQgb3V0c2lkZSBvZiB0aGF0IHJhbmdlXG4gIGlmICghaXNTZWxlY3RlZCAmJiAhd2FzU2VsZWN0ZWQpXG4gICAgcmV0dXJuIHByZXZNb3Rpb25BdHRyaWJ1dGVSZWYudmFsdWVcblxuICBjb25zdCBhdHRyaWJ1dGUgPSAoKCkgPT4ge1xuICAgIC8vIERvbid0IHByb3ZpZGUgYSBkaXJlY3Rpb24gb24gdGhlIGluaXRpYWwgb3BlblxuICAgIGlmIChpbmRleCAhPT0gcHJldkluZGV4KSB7XG4gICAgICAvLyBJZiB3ZSdyZSBtb3ZpbmcgdG8gdGhpcyBpdGVtIGZyb20gYW5vdGhlclxuICAgICAgaWYgKGlzU2VsZWN0ZWQgJiYgcHJldkluZGV4ICE9PSAtMSlcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gcHJldkluZGV4ID8gJ2Zyb20tZW5kJyA6ICdmcm9tLXN0YXJ0J1xuICAgICAgLy8gSWYgd2UncmUgbGVhdmluZyB0aGlzIGl0ZW0gZm9yIGFub3RoZXJcbiAgICAgIGlmICh3YXNTZWxlY3RlZCAmJiBpbmRleCAhPT0gLTEpXG4gICAgICAgIHJldHVybiBpbmRleCA+IHByZXZJbmRleCA/ICd0by1zdGFydCcgOiAndG8tZW5kJ1xuICAgIH1cbiAgICAvLyBPdGhlcndpc2Ugd2UncmUgZW50ZXJpbmcgZnJvbSBjbG9zZWQgb3IgbGVhdmluZyB0aGUgbGlzdFxuICAgIC8vIGVudGlyZWx5IGFuZCBzaG91bGQgbm90IGFuaW1hdGUgaW4gYW55IGRpcmVjdGlvblxuICAgIHJldHVybiBudWxsXG4gIH0pKClcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL25vLXNpZGUtZWZmZWN0cy1pbi1jb21wdXRlZC1wcm9wZXJ0aWVzXG4gIHByZXZNb3Rpb25BdHRyaWJ1dGVSZWYudmFsdWUgPSBhdHRyaWJ1dGVcbiAgcmV0dXJuIGF0dHJpYnV0ZVxufSlcblxuZnVuY3Rpb24gaGFuZGxlRm9jdXNPdXRzaWRlKGV2OiBGb2N1c091dHNpZGVFdmVudCkge1xuICBlbWl0cygnZm9jdXNPdXRzaWRlJywgZXYpXG4gIGVtaXRzKCdpbnRlcmFjdE91dHNpZGUnLCBldilcblxuICBjb25zdCB0YXJnZXQgPSBldi5kZXRhaWwub3JpZ2luYWxFdmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgaWYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtbmF2aWdhdGlvbi1tZW51LXRyaWdnZXInKSlcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgaWYgKCFldi5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgaXRlbUNvbnRleHQub25Db250ZW50Rm9jdXNPdXRzaWRlKClcblxuICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudFxuICAgIC8vIE9ubHkgZGlzbWlzcyBjb250ZW50IHdoZW4gZm9jdXMgbW92ZXMgb3V0c2lkZSBvZiB0aGUgbWVudVxuICAgIGlmIChtZW51Q29udGV4dC5yb290TmF2aWdhdGlvbk1lbnU/LnZhbHVlPy5jb250YWlucyh0YXJnZXQpKVxuICAgICAgZXYucHJldmVudERlZmF1bHQoKVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJEb3duT3V0c2lkZShldjogUG9pbnRlckRvd25PdXRzaWRlRXZlbnQpIHtcbiAgZW1pdHMoJ3BvaW50ZXJEb3duT3V0c2lkZScsIGV2KVxuXG4gIGlmICghZXYuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudFxuICAgIGNvbnN0IGlzVHJpZ2dlciA9IGdldEl0ZW1zKCkuc29tZShpID0+XG4gICAgICBpLnJlZi5jb250YWlucyh0YXJnZXQpLFxuICAgIClcbiAgICBjb25zdCBpc1Jvb3RWaWV3cG9ydFxuICAgID0gbWVudUNvbnRleHQuaXNSb290TWVudSAmJiBtZW51Q29udGV4dC52aWV3cG9ydC52YWx1ZT8uY29udGFpbnModGFyZ2V0KVxuXG4gICAgaWYgKGlzVHJpZ2dlciB8fCBpc1Jvb3RWaWV3cG9ydCB8fCAhbWVudUNvbnRleHQuaXNSb290TWVudSlcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KClcbiAgfVxufVxuXG53YXRjaEVmZmVjdCgoY2xlYW51cEZuKSA9PiB7XG4gIGNvbnN0IGNvbnRlbnQgPSBjdXJyZW50RWxlbWVudC52YWx1ZVxuICBpZiAobWVudUNvbnRleHQuaXNSb290TWVudSAmJiBjb250ZW50KSB7XG4gICAgLy8gQnViYmxlIGRpc21pc3MgdG8gdGhlIHJvb3QgY29udGVudCBub2RlIGFuZCBmb2N1cyBpdHMgdHJpZ2dlclxuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgbWVudUNvbnRleHQub25JdGVtRGlzbWlzcygpXG4gICAgICBpdGVtQ29udGV4dC5vblJvb3RDb250ZW50Q2xvc2UoKVxuICAgICAgaWYgKGNvbnRlbnQuY29udGFpbnMoZ2V0QWN0aXZlRWxlbWVudCgpKSlcbiAgICAgICAgaXRlbUNvbnRleHQudHJpZ2dlclJlZi52YWx1ZT8uZm9jdXMoKVxuICAgIH1cbiAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfUk9PVF9DT05URU5UX0RJU01JU1MsIGhhbmRsZUNsb3NlKVxuXG4gICAgY2xlYW51cEZuKCgpID0+XG4gICAgICBjb250ZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoRVZFTlRfUk9PVF9DT05URU5UX0RJU01JU1MsIGhhbmRsZUNsb3NlKSxcbiAgICApXG4gIH1cbn0pXG5cbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZUtleURvd24oZXY6IEtleWJvYXJkRXZlbnQpIHtcbiAgZW1pdHMoJ2VzY2FwZUtleURvd24nLCBldilcblxuICBpZiAoIWV2LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICBtZW51Q29udGV4dC5vbkl0ZW1EaXNtaXNzKClcbiAgICBpdGVtQ29udGV4dC50cmlnZ2VyUmVmPy52YWx1ZT8uZm9jdXMoKVxuICAgIGl0ZW1Db250ZXh0Lndhc0VzY2FwZUNsb3NlUmVmLnZhbHVlID0gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZXY6IEtleWJvYXJkRXZlbnQpIHtcbiAgLy8gcHJldmVudCBwYXJlbnQgbWVudSB0cmlnZ2VyaW5nIGtleWRvd24gZXZlbnRcbiAgaWYgKChldi50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoJ1tkYXRhLXJla2EtbmF2aWdhdGlvbi1tZW51XScpICE9PSBtZW51Q29udGV4dC5yb290TmF2aWdhdGlvbk1lbnUudmFsdWUpXG4gICAgcmV0dXJuXG5cbiAgY29uc3QgaXNNZXRhS2V5ID0gZXYuYWx0S2V5IHx8IGV2LmN0cmxLZXkgfHwgZXYubWV0YUtleVxuICBjb25zdCBpc1RhYktleSA9IGV2LmtleSA9PT0gJ1RhYicgJiYgIWlzTWV0YUtleVxuICBjb25zdCBjYW5kaWRhdGVzID0gZ2V0VGFiYmFibGVDYW5kaWRhdGVzKGV2LmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQpXG5cbiAgaWYgKGlzVGFiS2V5KSB7XG4gICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSBnZXRBY3RpdmVFbGVtZW50KClcbiAgICBjb25zdCBpbmRleCA9IGNhbmRpZGF0ZXMuZmluZEluZGV4KFxuICAgICAgY2FuZGlkYXRlID0+IGNhbmRpZGF0ZSA9PT0gZm9jdXNlZEVsZW1lbnQsXG4gICAgKVxuICAgIGNvbnN0IGlzTW92aW5nQmFja3dhcmRzID0gZXYuc2hpZnRLZXlcbiAgICBjb25zdCBuZXh0Q2FuZGlkYXRlcyA9IGlzTW92aW5nQmFja3dhcmRzXG4gICAgICA/IGNhbmRpZGF0ZXMuc2xpY2UoMCwgaW5kZXgpLnJldmVyc2UoKVxuICAgICAgOiBjYW5kaWRhdGVzLnNsaWNlKGluZGV4ICsgMSwgY2FuZGlkYXRlcy5sZW5ndGgpXG5cbiAgICBpZiAoZm9jdXNGaXJzdChuZXh0Q2FuZGlkYXRlcykpIHtcbiAgICAgIC8vIHByZXZlbnQgYnJvd3NlciB0YWIga2V5ZG93biBiZWNhdXNlIHdlJ3ZlIGhhbmRsZWQgZm9jdXNcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBJZiB3ZSBjYW4ndCBmb2N1cyB0aGF0IG1lYW5zIHdlJ3JlIGF0IHRoZSBlZGdlc1xuICAgICAgLy8gc28gZm9jdXMgdGhlIHByb3h5IGFuZCBsZXQgYnJvd3NlciBoYW5kbGVcbiAgICAgIC8vIHRhYi9zaGlmdCt0YWIga2V5cHJlc3Mgb24gdGhlIHByb3h5IGluc3RlYWRcbiAgICAgIGl0ZW1Db250ZXh0LmZvY3VzUHJveHlSZWYudmFsdWU/LmZvY3VzKClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG5ld1NlbGVjdGVkRWxlbWVudCA9IHVzZUFycm93TmF2aWdhdGlvbihcbiAgICBldixcbiAgICBnZXRBY3RpdmVFbGVtZW50KCkgYXMgSFRNTEVsZW1lbnQsXG4gICAgdW5kZWZpbmVkLFxuICAgIHsgaXRlbXNBcnJheTogY2FuZGlkYXRlcywgbG9vcDogZmFsc2UsIGVuYWJsZUlnbm9yZWRFbGVtZW50OiB0cnVlIH0sXG4gIClcbiAgbmV3U2VsZWN0ZWRFbGVtZW50Py5mb2N1cygpXG59XG5cbmZ1bmN0aW9uIGhhbmRsZURpc21pc3MoKSB7XG4gIGNvbnN0IHJvb3RDb250ZW50RGlzbWlzc0V2ZW50ID0gbmV3IEV2ZW50KEVWRU5UX1JPT1RfQ09OVEVOVF9ESVNNSVNTLCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICB9KVxuICBjdXJyZW50RWxlbWVudC52YWx1ZT8uZGlzcGF0Y2hFdmVudChyb290Q29udGVudERpc21pc3NFdmVudClcbn1cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxEaXNtaXNzYWJsZUxheWVyXG4gICAgOmlkPVwiY29udGVudElkXCJcbiAgICA6cmVmPVwiZm9yd2FyZFJlZlwiXG4gICAgOmFyaWEtbGFiZWxsZWRieT1cInRyaWdnZXJJZFwiXG4gICAgOmRhdGEtbW90aW9uPVwibW90aW9uQXR0cmlidXRlXCJcbiAgICA6ZGF0YS1zdGF0ZT1cImdldE9wZW5TdGF0ZShtZW51Q29udGV4dC5tb2RlbFZhbHVlLnZhbHVlID09PSBpdGVtQ29udGV4dC52YWx1ZSlcIlxuICAgIDpkYXRhLW9yaWVudGF0aW9uPVwibWVudUNvbnRleHQub3JpZW50YXRpb25cIlxuICAgIHYtYmluZD1cInByb3BzXCJcbiAgICBAa2V5ZG93bj1cImhhbmRsZUtleWRvd25cIlxuICAgIEBlc2NhcGUta2V5LWRvd249XCJoYW5kbGVFc2NhcGVLZXlEb3duXCJcbiAgICBAcG9pbnRlci1kb3duLW91dHNpZGU9XCJoYW5kbGVQb2ludGVyRG93bk91dHNpZGVcIlxuICAgIEBmb2N1cy1vdXRzaWRlPVwiaGFuZGxlRm9jdXNPdXRzaWRlXCJcbiAgICBAZGlzbWlzcz1cImhhbmRsZURpc21pc3NcIlxuICA+XG4gICAgPHNsb3QgLz5cbiAgPC9EaXNtaXNzYWJsZUxheWVyPlxuPC90ZW1wbGF0ZT5cbiJdLCJuYW1lcyI6WyJ0YXJnZXQiXSwibWFw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