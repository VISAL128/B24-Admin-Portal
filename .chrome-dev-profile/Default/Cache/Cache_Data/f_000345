import { defineComponent, toRefs, ref, computed, watchEffect, watch, createBlock, openBlock, unref, normalizeStyle, withCtx, renderSlot } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/vue/dist/vue.runtime.esm-bundler.js?v=2fc67382";
import { a as assert } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/assert.js?v=2fc67382";
import { c as calculateUnsafeDefaultLayout, a as calculateDeltaPercentage } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/calculate.js?v=2fc67382";
import { c as callPanelCallbacks } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/callPanelCallbacks.js?v=2fc67382";
import { d as debounce } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/debounce.js?v=2fc67382";
import { g as getResizeHandleElement } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/dom.js?v=2fc67382";
import { i as isKeyDown, a as isMouseEvent, b as isTouchEvent, g as getResizeEventCursorPosition } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/events.js?v=2fc67382";
import { a as adjustLayoutByDelta, c as compareLayouts } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/layout.js?v=2fc67382";
import { d as determinePivotIndices } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/pivot.js?v=2fc67382";
import { r as reportConstraintsViolation, E as EXCEEDED_HORIZONTAL_MIN, a as EXCEEDED_HORIZONTAL_MAX, b as EXCEEDED_VERTICAL_MIN, c as EXCEEDED_VERTICAL_MAX } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/registry.js?v=2fc67382";
import { c as computePanelFlexBoxStyle } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/style.js?v=2fc67382";
import { v as validatePanelGroupLayout } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/validation.js?v=2fc67382";
import { u as useWindowSplitterPanelGroupBehavior } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/composables/useWindowSplitterPanelGroupBehavior.js?v=2fc67382";
import { s as savePanelGroupState, l as loadPanelGroupState, i as initializeDefaultStorage } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/utils/storage.js?v=2fc67382";
import { c as createContext } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/shared/createContext.js?v=2fc67382";
import { u as useId } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/shared/useId.js?v=2fc67382";
import { u as useDirection } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/shared/useDirection.js?v=2fc67382";
import { u as useForwardExpose } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/shared/useForwardExpose.js?v=2fc67382";
import { a as areEqual } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/shared/arrays.js?v=2fc67382";
import { P as Primitive } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/reka-ui/dist/Primitive/Primitive.js?v=2fc67382";

const LOCAL_STORAGE_DEBOUNCE_INTERVAL = 100;
const defaultStorage = {
  getItem: (name) => {
    initializeDefaultStorage(defaultStorage);
    return defaultStorage.getItem(name);
  },
  setItem: (name, value) => {
    initializeDefaultStorage(defaultStorage);
    defaultStorage.setItem(name, value);
  }
};
const [injectPanelGroupContext, providePanelGroupContext] = createContext("PanelGroup");
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "SplitterGroup",
  props: {
    id: {},
    autoSaveId: { default: null },
    direction: {},
    keyboardResizeBy: { default: 10 },
    storage: { default: () => defaultStorage },
    asChild: { type: Boolean },
    as: {}
  },
  emits: ["layout"],
  setup(__props, { emit: __emit }) {
    const props = __props;
    const emits = __emit;
    const debounceMap = {};
    const { direction } = toRefs(props);
    const groupId = useId(props.id, "reka-splitter-group");
    const dir = useDirection();
    const { forwardRef, currentElement: panelGroupElementRef } = useForwardExpose();
    const dragState = ref(null);
    const layout = ref([]);
    const panelIdToLastNotifiedSizeMapRef = ref({});
    const panelSizeBeforeCollapseRef = ref(/* @__PURE__ */ new Map());
    const prevDeltaRef = ref(0);
    const committedValuesRef = computed(() => ({
      autoSaveId: props.autoSaveId,
      direction: props.direction,
      dragState: dragState.value,
      id: groupId,
      keyboardResizeBy: props.keyboardResizeBy,
      storage: props.storage
    }));
    const eagerValuesRef = ref({
      layout: layout.value,
      panelDataArray: [],
      panelDataArrayChanged: false
    });
    const setLayout = (val) => layout.value = val;
    useWindowSplitterPanelGroupBehavior({
      eagerValuesRef,
      groupId,
      layout,
      panelDataArray: eagerValuesRef.value.panelDataArray,
      setLayout,
      panelGroupElement: panelGroupElementRef
    });
    watchEffect(() => {
      const { panelDataArray } = eagerValuesRef.value;
      const { autoSaveId } = props;
      if (autoSaveId) {
        if (layout.value.length === 0 || layout.value.length !== panelDataArray.length)
          return;
        let debouncedSave = debounceMap[autoSaveId];
        if (!debouncedSave) {
          debouncedSave = debounce(
            savePanelGroupState,
            LOCAL_STORAGE_DEBOUNCE_INTERVAL
          );
          debounceMap[autoSaveId] = debouncedSave;
        }
        const clonedPanelDataArray = [...panelDataArray];
        const clonedPanelSizesBeforeCollapse = new Map(
          panelSizeBeforeCollapseRef.value
        );
        debouncedSave(
          autoSaveId,
          clonedPanelDataArray,
          clonedPanelSizesBeforeCollapse,
          layout.value,
          props.storage
        );
      }
    });
    function getPanelStyle(panelData, defaultSize) {
      const { panelDataArray } = eagerValuesRef.value;
      const panelIndex = findPanelDataIndex(panelDataArray, panelData);
      return computePanelFlexBoxStyle({
        defaultSize,
        dragState: dragState.value,
        layout: layout.value,
        panelData: panelDataArray,
        panelIndex
      });
    }
    function registerPanel(panelData) {
      const { panelDataArray } = eagerValuesRef.value;
      panelDataArray.push(panelData);
      panelDataArray.sort((panelA, panelB) => {
        const orderA = panelA.order;
        const orderB = panelB.order;
        if (orderA == null && orderB == null)
          return 0;
        else if (orderA == null)
          return -1;
        else if (orderB == null)
          return 1;
        else
          return orderA - orderB;
      });
      eagerValuesRef.value.panelDataArrayChanged = true;
    }
    watch(() => eagerValuesRef.value.panelDataArrayChanged, () => {
      if (eagerValuesRef.value.panelDataArrayChanged) {
        eagerValuesRef.value.panelDataArrayChanged = false;
        const { autoSaveId, storage } = committedValuesRef.value;
        const { layout: prevLayout, panelDataArray } = eagerValuesRef.value;
        let unsafeLayout = null;
        if (autoSaveId) {
          const state = loadPanelGroupState(autoSaveId, panelDataArray, storage);
          if (state) {
            panelSizeBeforeCollapseRef.value = new Map(
              Object.entries(state.expandToSizes)
            );
            unsafeLayout = state.layout;
          }
        }
        if (unsafeLayout === null) {
          unsafeLayout = calculateUnsafeDefaultLayout({
            panelDataArray
          });
        }
        const nextLayout = validatePanelGroupLayout({
          layout: unsafeLayout,
          panelConstraints: panelDataArray.map(
            (panelData) => panelData.constraints
          )
        });
        if (!areEqual(prevLayout, nextLayout)) {
          setLayout(nextLayout);
          eagerValuesRef.value.layout = nextLayout;
          emits("layout", nextLayout);
          callPanelCallbacks(
            panelDataArray,
            nextLayout,
            panelIdToLastNotifiedSizeMapRef.value
          );
        }
      }
    });
    function registerResizeHandle(dragHandleId) {
      return function resizeHandler(event) {
        event.preventDefault();
        const panelGroupElement = panelGroupElementRef.value;
        if (!panelGroupElement)
          return () => null;
        const { direction: direction2, dragState: dragState2, id: groupId2, keyboardResizeBy } = committedValuesRef.value;
        const { layout: prevLayout, panelDataArray } = eagerValuesRef.value;
        const { initialLayout } = dragState2 ?? {};
        const pivotIndices = determinePivotIndices(
          groupId2,
          dragHandleId,
          panelGroupElement
        );
        let delta = calculateDeltaPercentage(
          event,
          dragHandleId,
          direction2,
          dragState2,
          keyboardResizeBy,
          panelGroupElement
        );
        if (delta === 0)
          return;
        const isHorizontal = direction2 === "horizontal";
        if (dir.value === "rtl" && isHorizontal)
          delta = -delta;
        const panelConstraints = panelDataArray.map((panelData) => panelData.constraints);
        const nextLayout = adjustLayoutByDelta({
          delta,
          layout: initialLayout ?? prevLayout,
          panelConstraints,
          pivotIndices,
          trigger: isKeyDown(event) ? "keyboard" : "mouse-or-touch"
        });
        const layoutChanged = !compareLayouts(prevLayout, nextLayout);
        if (isMouseEvent(event) || isTouchEvent(event)) {
          if (prevDeltaRef.value !== delta) {
            prevDeltaRef.value = delta;
            if (!layoutChanged) {
              if (isHorizontal) {
                reportConstraintsViolation(
                  dragHandleId,
                  delta < 0 ? EXCEEDED_HORIZONTAL_MIN : EXCEEDED_HORIZONTAL_MAX
                );
              } else {
                reportConstraintsViolation(
                  dragHandleId,
                  delta < 0 ? EXCEEDED_VERTICAL_MIN : EXCEEDED_VERTICAL_MAX
                );
              }
            } else {
              reportConstraintsViolation(dragHandleId, 0);
            }
          }
        }
        if (layoutChanged) {
          setLayout(nextLayout);
          eagerValuesRef.value.layout = nextLayout;
          emits("layout", nextLayout);
          callPanelCallbacks(
            panelDataArray,
            nextLayout,
            panelIdToLastNotifiedSizeMapRef.value
          );
        }
      };
    }
    function resizePanel(panelData, unsafePanelSize) {
      const { layout: prevLayout, panelDataArray } = eagerValuesRef.value;
      const panelConstraintsArray = panelDataArray.map((panelData2) => panelData2.constraints);
      const { panelSize, pivotIndices } = panelDataHelper(
        panelDataArray,
        panelData,
        prevLayout
      );
      assert(panelSize != null);
      const isLastPanel = findPanelDataIndex(panelDataArray, panelData) === panelDataArray.length - 1;
      const delta = isLastPanel ? panelSize - unsafePanelSize : unsafePanelSize - panelSize;
      const nextLayout = adjustLayoutByDelta({
        delta,
        layout: prevLayout,
        panelConstraints: panelConstraintsArray,
        pivotIndices,
        trigger: "imperative-api"
      });
      if (!compareLayouts(prevLayout, nextLayout)) {
        setLayout(nextLayout);
        eagerValuesRef.value.layout = nextLayout;
        emits("layout", nextLayout);
        callPanelCallbacks(
          panelDataArray,
          nextLayout,
          panelIdToLastNotifiedSizeMapRef.value
        );
      }
    }
    function reevaluatePanelConstraints(panelData, prevConstraints) {
      const { layout: layout2, panelDataArray } = eagerValuesRef.value;
      const index = findPanelDataIndex(panelDataArray, panelData);
      panelDataArray[index] = panelData;
      eagerValuesRef.value.panelDataArrayChanged = true;
      const {
        collapsedSize: prevCollapsedSize = 0,
        collapsible: prevCollapsible
      } = prevConstraints;
      const {
        collapsedSize: nextCollapsedSize = 0,
        collapsible: nextCollapsible,
        maxSize: nextMaxSize = 100,
        minSize: nextMinSize = 0
      } = panelData.constraints;
      const { panelSize: prevPanelSize } = panelDataHelper(
        panelDataArray,
        panelData,
        layout2
      );
      if (prevPanelSize === null) {
        return;
      }
      if (prevCollapsible && nextCollapsible && prevPanelSize === prevCollapsedSize) {
        if (prevCollapsedSize !== nextCollapsedSize) {
          resizePanel(panelData, nextCollapsedSize);
        }
      } else if (prevPanelSize < nextMinSize) {
        resizePanel(panelData, nextMinSize);
      } else if (prevPanelSize > nextMaxSize) {
        resizePanel(panelData, nextMaxSize);
      }
    }
    function startDragging(dragHandleId, event) {
      const { direction: direction2 } = committedValuesRef.value;
      const { layout: layout2 } = eagerValuesRef.value;
      if (!panelGroupElementRef.value)
        return;
      const handleElement = getResizeHandleElement(
        dragHandleId,
        panelGroupElementRef.value
      );
      assert(handleElement);
      const initialCursorPosition = getResizeEventCursorPosition(
        direction2,
        event
      );
      dragState.value = {
        dragHandleId,
        dragHandleRect: handleElement.getBoundingClientRect(),
        initialCursorPosition,
        initialLayout: layout2
      };
    }
    function stopDragging() {
      dragState.value = null;
    }
    function unregisterPanel(panelData) {
      const { panelDataArray } = eagerValuesRef.value;
      const index = findPanelDataIndex(panelDataArray, panelData);
      if (index >= 0) {
        panelDataArray.splice(index, 1);
        delete panelIdToLastNotifiedSizeMapRef.value[panelData.id];
        eagerValuesRef.value.panelDataArrayChanged = true;
      }
    }
    function collapsePanel(panelData) {
      const { layout: prevLayout, panelDataArray } = eagerValuesRef.value;
      if (panelData.constraints.collapsible) {
        const panelConstraintsArray = panelDataArray.map(
          (panelData2) => panelData2.constraints
        );
        const {
          collapsedSize = 0,
          panelSize,
          pivotIndices
        } = panelDataHelper(panelDataArray, panelData, prevLayout);
        assert(
          panelSize != null,
          `Panel size not found for panel "${panelData.id}"`
        );
        if (panelSize !== collapsedSize) {
          panelSizeBeforeCollapseRef.value.set(panelData.id, panelSize);
          const isLastPanel = findPanelDataIndex(panelDataArray, panelData) === panelDataArray.length - 1;
          const delta = isLastPanel ? panelSize - collapsedSize : collapsedSize - panelSize;
          const nextLayout = adjustLayoutByDelta({
            delta,
            layout: prevLayout,
            panelConstraints: panelConstraintsArray,
            pivotIndices,
            trigger: "imperative-api"
          });
          if (!compareLayouts(prevLayout, nextLayout)) {
            setLayout(nextLayout);
            eagerValuesRef.value.layout = nextLayout;
            emits("layout", nextLayout);
            callPanelCallbacks(
              panelDataArray,
              nextLayout,
              panelIdToLastNotifiedSizeMapRef.value
            );
          }
        }
      }
    }
    function expandPanel(panelData) {
      const { layout: prevLayout, panelDataArray } = eagerValuesRef.value;
      if (panelData.constraints.collapsible) {
        const panelConstraintsArray = panelDataArray.map(
          (panelData2) => panelData2.constraints
        );
        const {
          collapsedSize = 0,
          panelSize,
          minSize = 0,
          pivotIndices
        } = panelDataHelper(panelDataArray, panelData, prevLayout);
        if (panelSize === collapsedSize) {
          const prevPanelSize = panelSizeBeforeCollapseRef.value.get(
            panelData.id
          );
          const baseSize = prevPanelSize != null && prevPanelSize >= minSize ? prevPanelSize : minSize;
          const isLastPanel = findPanelDataIndex(panelDataArray, panelData) === panelDataArray.length - 1;
          const delta = isLastPanel ? panelSize - baseSize : baseSize - panelSize;
          const nextLayout = adjustLayoutByDelta({
            delta,
            layout: prevLayout,
            panelConstraints: panelConstraintsArray,
            pivotIndices,
            trigger: "imperative-api"
          });
          if (!compareLayouts(prevLayout, nextLayout)) {
            setLayout(nextLayout);
            eagerValuesRef.value.layout = nextLayout;
            emits("layout", nextLayout);
            callPanelCallbacks(
              panelDataArray,
              nextLayout,
              panelIdToLastNotifiedSizeMapRef.value
            );
          }
        }
      }
    }
    function getPanelSize(panelData) {
      const { layout: layout2, panelDataArray } = eagerValuesRef.value;
      const { panelSize } = panelDataHelper(panelDataArray, panelData, layout2);
      assert(
        panelSize != null,
        `Panel size not found for panel "${panelData.id}"`
      );
      return panelSize;
    }
    function isPanelCollapsed(panelData) {
      const { layout: layout2, panelDataArray } = eagerValuesRef.value;
      const {
        collapsedSize = 0,
        collapsible,
        panelSize
      } = panelDataHelper(panelDataArray, panelData, layout2);
      if (!collapsible)
        return false;
      if (panelSize === void 0) {
        return panelData.constraints.defaultSize === panelData.constraints.collapsedSize;
      } else {
        return panelSize === collapsedSize;
      }
    }
    function isPanelExpanded(panelData) {
      const { layout: layout2, panelDataArray } = eagerValuesRef.value;
      const {
        collapsedSize = 0,
        collapsible,
        panelSize
      } = panelDataHelper(panelDataArray, panelData, layout2);
      assert(
        panelSize != null,
        `Panel size not found for panel "${panelData.id}"`
      );
      return !collapsible || panelSize > collapsedSize;
    }
    providePanelGroupContext({
      direction,
      dragState: dragState.value,
      groupId,
      reevaluatePanelConstraints,
      registerPanel,
      registerResizeHandle,
      resizePanel,
      startDragging,
      stopDragging,
      unregisterPanel,
      panelGroupElement: panelGroupElementRef,
      collapsePanel,
      expandPanel,
      isPanelCollapsed,
      isPanelExpanded,
      getPanelSize,
      getPanelStyle
    });
    function findPanelDataIndex(panelDataArray, panelData) {
      return panelDataArray.findIndex(
        (prevPanelData) => prevPanelData === panelData || prevPanelData.id === panelData.id
      );
    }
    function panelDataHelper(panelDataArray, panelData, layout2) {
      const panelIndex = findPanelDataIndex(panelDataArray, panelData);
      const isLastPanel = panelIndex === panelDataArray.length - 1;
      const pivotIndices = isLastPanel ? [panelIndex - 1, panelIndex] : [panelIndex, panelIndex + 1];
      const panelSize = layout2[panelIndex];
      return {
        ...panelData.constraints,
        panelSize,
        pivotIndices
      };
    }
    return (_ctx, _cache) => {
      return openBlock(), createBlock(unref(Primitive), {
        ref: unref(forwardRef),
        as: _ctx.as,
        "as-child": _ctx.asChild,
        style: normalizeStyle({
          display: "flex",
          flexDirection: unref(direction) === "horizontal" ? "row" : "column",
          height: "100%",
          overflow: "hidden",
          width: "100%"
        }),
        "data-panel-group": "",
        "data-orientation": unref(direction),
        "data-panel-group-id": unref(groupId)
      }, {
        default: withCtx(() => [
          renderSlot(_ctx.$slots, "default", { layout: layout.value })
        ]),
        _: 3
      }, 8, ["as", "as-child", "style", "data-orientation", "data-panel-group-id"]);
    };
  }
});

export { _sfc_main as _, injectPanelGroupContext as i };
                                         

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BsaXR0ZXJHcm91cC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL1NwbGl0dGVyL1NwbGl0dGVyR3JvdXAudnVlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5pbXBvcnQgdHlwZSB7IENTU1Byb3BlcnRpZXMsIFJlZiB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB0eXBlIHsgUHJpbWl0aXZlUHJvcHMgfSBmcm9tICdAL1ByaW1pdGl2ZSdcbmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHRvUmVmcywgd2F0Y2gsIHdhdGNoRWZmZWN0IH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgYXJlRXF1YWwsIGNyZWF0ZUNvbnRleHQsIHVzZURpcmVjdGlvbiwgdXNlRm9yd2FyZEV4cG9zZSwgdXNlSWQgfSBmcm9tICdAL3NoYXJlZCdcbmltcG9ydCB7IHVzZVdpbmRvd1NwbGl0dGVyUGFuZWxHcm91cEJlaGF2aW9yIH0gZnJvbSAnLi91dGlscy9jb21wb3NhYmxlcy91c2VXaW5kb3dTcGxpdHRlclBhbmVsR3JvdXBCZWhhdmlvcidcbmltcG9ydCB7XG4gIGluaXRpYWxpemVEZWZhdWx0U3RvcmFnZSxcbiAgbG9hZFBhbmVsR3JvdXBTdGF0ZSxcbiAgc2F2ZVBhbmVsR3JvdXBTdGF0ZSxcbn0gZnJvbSAnLi91dGlscy9zdG9yYWdlJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFNwbGl0dGVyR3JvdXBQcm9wcyBleHRlbmRzIFByaW1pdGl2ZVByb3BzIHtcbiAgLyoqIEdyb3VwIGlkOyBmYWxscyBiYWNrIHRvIGB1c2VJZGAgd2hlbiBub3QgcHJvdmlkZWQuICovXG4gIGlkPzogc3RyaW5nIHwgbnVsbFxuICAvKiogVW5pcXVlIGlkIHVzZWQgdG8gYXV0by1zYXZlIGdyb3VwIGFycmFuZ2VtZW50IHZpYSBgbG9jYWxTdG9yYWdlYC4gKi9cbiAgYXV0b1NhdmVJZD86IHN0cmluZyB8IG51bGxcbiAgLyoqIFRoZSBncm91cCBvcmllbnRhdGlvbiBvZiBzcGxpdHRlci4gKi9cbiAgZGlyZWN0aW9uOiBEaXJlY3Rpb25cbiAgLyoqIFN0ZXAgc2l6ZSB3aGVuIGFycm93IGtleSB3YXMgcHJlc3NlZC4gKi9cbiAga2V5Ym9hcmRSZXNpemVCeT86IG51bWJlciB8IG51bGxcbiAgLyoqIEN1c3RvbSBzdG9yYWdlIEFQSTsgZGVmYXVsdHMgdG8gbG9jYWxTdG9yYWdlICovXG4gIHN0b3JhZ2U/OiBQYW5lbEdyb3VwU3RvcmFnZVxufVxuXG5leHBvcnQgdHlwZSBTcGxpdHRlckdyb3VwRW1pdHMgPSB7XG4gIC8qKiBFdmVudCBoYW5kbGVyIGNhbGxlZCB3aGVuIGdyb3VwIGxheW91dCBjaGFuZ2VzICovXG4gIGxheW91dDogW3ZhbDogbnVtYmVyW11dXG59XG5cbmNvbnN0IExPQ0FMX1NUT1JBR0VfREVCT1VOQ0VfSU5URVJWQUwgPSAxMDBcblxuZXhwb3J0IHR5cGUgUGFuZWxHcm91cFN0b3JhZ2UgPSB7XG4gIGdldEl0ZW06IChuYW1lOiBzdHJpbmcpID0+IHN0cmluZyB8IG51bGxcbiAgc2V0SXRlbTogKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4gdm9pZFxufVxuXG5jb25zdCBkZWZhdWx0U3RvcmFnZTogUGFuZWxHcm91cFN0b3JhZ2UgPSB7XG4gIGdldEl0ZW06IChuYW1lOiBzdHJpbmcpID0+IHtcbiAgICBpbml0aWFsaXplRGVmYXVsdFN0b3JhZ2UoZGVmYXVsdFN0b3JhZ2UpXG4gICAgcmV0dXJuIGRlZmF1bHRTdG9yYWdlLmdldEl0ZW0obmFtZSlcbiAgfSxcbiAgc2V0SXRlbTogKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGluaXRpYWxpemVEZWZhdWx0U3RvcmFnZShkZWZhdWx0U3RvcmFnZSlcbiAgICBkZWZhdWx0U3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlKVxuICB9LFxufVxuXG5leHBvcnQgdHlwZSBQYW5lbEdyb3VwQ29udGV4dCA9IHtcbiAgZGlyZWN0aW9uOiBSZWY8RGlyZWN0aW9uPlxuICBkcmFnU3RhdGU6IERyYWdTdGF0ZSB8IG51bGxcbiAgZ3JvdXBJZDogc3RyaW5nXG4gIHJlZXZhbHVhdGVQYW5lbENvbnN0cmFpbnRzOiAocGFuZWxEYXRhOiBQYW5lbERhdGEsIHByZXZDb25zdHJhaW50czogUGFuZWxDb25zdHJhaW50cykgPT4gdm9pZFxuICByZWdpc3RlclBhbmVsOiAocGFuZWxEYXRhOiBQYW5lbERhdGEpID0+IHZvaWRcbiAgcmVnaXN0ZXJSZXNpemVIYW5kbGU6IChkcmFnSGFuZGxlSWQ6IHN0cmluZykgPT4gUmVzaXplSGFuZGxlclxuICByZXNpemVQYW5lbDogKHBhbmVsRGF0YTogUGFuZWxEYXRhLCBzaXplOiBudW1iZXIpID0+IHZvaWRcbiAgc3RhcnREcmFnZ2luZzogKGRyYWdIYW5kbGVJZDogc3RyaW5nLCBldmVudDogUmVzaXplRXZlbnQpID0+IHZvaWRcbiAgc3RvcERyYWdnaW5nOiAoKSA9PiB2b2lkXG4gIHVucmVnaXN0ZXJQYW5lbDogKHBhbmVsRGF0YTogUGFuZWxEYXRhKSA9PiB2b2lkXG4gIHBhbmVsR3JvdXBFbGVtZW50OiBSZWY8UGFyZW50Tm9kZSB8IG51bGw+XG5cbiAgLy8gRXhwb3NlZCBmdW5jdGlvbiBmb3IgY2hpbGQgY29tcG9uZW50XG4gIGNvbGxhcHNlUGFuZWw6IChwYW5lbERhdGE6IFBhbmVsRGF0YSkgPT4gdm9pZFxuICBleHBhbmRQYW5lbDogKHBhbmVsRGF0YTogUGFuZWxEYXRhKSA9PiB2b2lkXG4gIGlzUGFuZWxDb2xsYXBzZWQ6IChwYW5lbERhdGE6IFBhbmVsRGF0YSkgPT4gYm9vbGVhblxuICBpc1BhbmVsRXhwYW5kZWQ6IChwYW5lbERhdGE6IFBhbmVsRGF0YSkgPT4gYm9vbGVhblxuICBnZXRQYW5lbFNpemU6IChwYW5lbERhdGE6IFBhbmVsRGF0YSkgPT4gbnVtYmVyXG4gIGdldFBhbmVsU3R5bGU6IChwYW5lbERhdGE6IFBhbmVsRGF0YSwgZGVmYXVsdFNpemU6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4gQ1NTUHJvcGVydGllc1xufVxuXG5leHBvcnQgY29uc3QgW2luamVjdFBhbmVsR3JvdXBDb250ZXh0LCBwcm92aWRlUGFuZWxHcm91cENvbnRleHRdID0gY3JlYXRlQ29udGV4dDxQYW5lbEdyb3VwQ29udGV4dD4oJ1BhbmVsR3JvdXAnKVxuPC9zY3JpcHQ+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgdHlwZSB7IFBhbmVsQ29uc3RyYWludHMsIFBhbmVsRGF0YSB9IGZyb20gJy4vU3BsaXR0ZXJQYW5lbC52dWUnXG5cbmltcG9ydCB0eXBlIHsgRGlyZWN0aW9uLCBEcmFnU3RhdGUsIFJlc2l6ZUV2ZW50LCBSZXNpemVIYW5kbGVyIH0gZnJvbSAnLi91dGlscy90eXBlcydcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gJ0AvUHJpbWl0aXZlJ1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi91dGlscy9hc3NlcnQnXG5pbXBvcnQgeyBjYWxjdWxhdGVEZWx0YVBlcmNlbnRhZ2UsIGNhbGN1bGF0ZVVuc2FmZURlZmF1bHRMYXlvdXQgfSBmcm9tICcuL3V0aWxzL2NhbGN1bGF0ZSdcbmltcG9ydCB7IGNhbGxQYW5lbENhbGxiYWNrcyB9IGZyb20gJy4vdXRpbHMvY2FsbFBhbmVsQ2FsbGJhY2tzJ1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJy4vdXRpbHMvZGVib3VuY2UnXG5pbXBvcnQgeyBnZXRSZXNpemVIYW5kbGVFbGVtZW50IH0gZnJvbSAnLi91dGlscy9kb20nXG5pbXBvcnQgeyBnZXRSZXNpemVFdmVudEN1cnNvclBvc2l0aW9uLCBpc0tleURvd24sIGlzTW91c2VFdmVudCwgaXNUb3VjaEV2ZW50IH0gZnJvbSAnLi91dGlscy9ldmVudHMnXG5pbXBvcnQgeyBhZGp1c3RMYXlvdXRCeURlbHRhLCBjb21wYXJlTGF5b3V0cyB9IGZyb20gJy4vdXRpbHMvbGF5b3V0J1xuaW1wb3J0IHsgZGV0ZXJtaW5lUGl2b3RJbmRpY2VzIH0gZnJvbSAnLi91dGlscy9waXZvdCdcbmltcG9ydCB7XG4gIEVYQ0VFREVEX0hPUklaT05UQUxfTUFYLFxuICBFWENFRURFRF9IT1JJWk9OVEFMX01JTixcbiAgRVhDRUVERURfVkVSVElDQUxfTUFYLFxuICBFWENFRURFRF9WRVJUSUNBTF9NSU4sXG4gIHJlcG9ydENvbnN0cmFpbnRzVmlvbGF0aW9uLFxufSBmcm9tICcuL3V0aWxzL3JlZ2lzdHJ5J1xuaW1wb3J0IHsgY29tcHV0ZVBhbmVsRmxleEJveFN0eWxlIH0gZnJvbSAnLi91dGlscy9zdHlsZSdcbmltcG9ydCB7IHZhbGlkYXRlUGFuZWxHcm91cExheW91dCB9IGZyb20gJy4vdXRpbHMvdmFsaWRhdGlvbidcblxuY29uc3QgcHJvcHMgPSB3aXRoRGVmYXVsdHMoZGVmaW5lUHJvcHM8U3BsaXR0ZXJHcm91cFByb3BzPigpLCB7XG4gIGF1dG9TYXZlSWQ6IG51bGwsXG4gIGtleWJvYXJkUmVzaXplQnk6IDEwLFxuICBzdG9yYWdlOiAoKSA9PiBkZWZhdWx0U3RvcmFnZSxcbn0pXG5jb25zdCBlbWl0cyA9IGRlZmluZUVtaXRzPFNwbGl0dGVyR3JvdXBFbWl0cz4oKVxuXG5kZWZpbmVTbG90czx7XG4gIGRlZmF1bHQ/OiAocHJvcHM6IHtcbiAgICAvKiogQ3VycmVudCBzaXplIG9mIGxheW91dCAqL1xuICAgIGxheW91dDogdHlwZW9mIGxheW91dC52YWx1ZVxuICB9KSA9PiBhbnlcbn0+KClcblxuY29uc3QgZGVib3VuY2VNYXA6IHtcbiAgW2tleTogc3RyaW5nXTogdHlwZW9mIHNhdmVQYW5lbEdyb3VwU3RhdGVcbn0gPSB7fVxuXG5jb25zdCB7IGRpcmVjdGlvbiB9ID0gdG9SZWZzKHByb3BzKVxuY29uc3QgZ3JvdXBJZCA9IHVzZUlkKHByb3BzLmlkLCAncmVrYS1zcGxpdHRlci1ncm91cCcpXG5jb25zdCBkaXIgPSB1c2VEaXJlY3Rpb24oKVxuY29uc3QgeyBmb3J3YXJkUmVmLCBjdXJyZW50RWxlbWVudDogcGFuZWxHcm91cEVsZW1lbnRSZWYgfSA9IHVzZUZvcndhcmRFeHBvc2UoKVxuXG5jb25zdCBkcmFnU3RhdGUgPSByZWY8RHJhZ1N0YXRlIHwgbnVsbD4obnVsbClcbmNvbnN0IGxheW91dCA9IHJlZjxudW1iZXJbXT4oW10pXG5jb25zdCBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwUmVmID0gcmVmPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KVxuY29uc3QgcGFuZWxTaXplQmVmb3JlQ29sbGFwc2VSZWYgPSByZWY8TWFwPHN0cmluZywgbnVtYmVyPj4obmV3IE1hcCgpKVxuY29uc3QgcHJldkRlbHRhUmVmID0gcmVmPG51bWJlcj4oMClcblxuY29uc3QgY29tbWl0dGVkVmFsdWVzUmVmID0gY29tcHV0ZWQoKCkgPT4gKHtcbiAgYXV0b1NhdmVJZDogcHJvcHMuYXV0b1NhdmVJZCxcbiAgZGlyZWN0aW9uOiBwcm9wcy5kaXJlY3Rpb24sXG4gIGRyYWdTdGF0ZTogZHJhZ1N0YXRlLnZhbHVlLFxuICBpZDogZ3JvdXBJZCxcbiAga2V5Ym9hcmRSZXNpemVCeTogcHJvcHMua2V5Ym9hcmRSZXNpemVCeSxcbiAgc3RvcmFnZTogcHJvcHMuc3RvcmFnZSxcbn0pIHNhdGlzZmllcyB7XG4gIGF1dG9TYXZlSWQ6IHN0cmluZyB8IG51bGxcbiAgZGlyZWN0aW9uOiBEaXJlY3Rpb25cbiAgZHJhZ1N0YXRlOiBEcmFnU3RhdGUgfCBudWxsXG4gIGlkOiBzdHJpbmdcbiAga2V5Ym9hcmRSZXNpemVCeTogbnVtYmVyIHwgbnVsbFxuICBzdG9yYWdlOiBQYW5lbEdyb3VwU3RvcmFnZVxufSlcblxuY29uc3QgZWFnZXJWYWx1ZXNSZWYgPSByZWY8e1xuICBsYXlvdXQ6IG51bWJlcltdXG4gIHBhbmVsRGF0YUFycmF5OiBQYW5lbERhdGFbXVxuICBwYW5lbERhdGFBcnJheUNoYW5nZWQ6IGJvb2xlYW5cbn0+KHtcbiAgbGF5b3V0OiBsYXlvdXQudmFsdWUsXG4gIHBhbmVsRGF0YUFycmF5OiBbXSxcbiAgcGFuZWxEYXRhQXJyYXlDaGFuZ2VkOiBmYWxzZSxcbn0pXG5cbmNvbnN0IHNldExheW91dCA9ICh2YWw6IG51bWJlcltdKSA9PiBsYXlvdXQudmFsdWUgPSB2YWxcblxudXNlV2luZG93U3BsaXR0ZXJQYW5lbEdyb3VwQmVoYXZpb3Ioe1xuICBlYWdlclZhbHVlc1JlZixcbiAgZ3JvdXBJZCxcbiAgbGF5b3V0LFxuICBwYW5lbERhdGFBcnJheTogZWFnZXJWYWx1ZXNSZWYudmFsdWUucGFuZWxEYXRhQXJyYXksXG4gIHNldExheW91dCxcbiAgcGFuZWxHcm91cEVsZW1lbnQ6IHBhbmVsR3JvdXBFbGVtZW50UmVmLFxufSlcblxud2F0Y2hFZmZlY3QoKCkgPT4ge1xuICBjb25zdCB7IHBhbmVsRGF0YUFycmF5IH0gPSBlYWdlclZhbHVlc1JlZi52YWx1ZVxuICBjb25zdCB7IGF1dG9TYXZlSWQgfSA9IHByb3BzXG4gIC8vIElmIHRoaXMgcGFuZWwgaGFzIGJlZW4gY29uZmlndXJlZCB0byBwZXJzaXN0IHNpemluZyBpbmZvcm1hdGlvbiwgc2F2ZSBzaXplcyB0byBsb2NhbCBzdG9yYWdlLlxuICBpZiAoYXV0b1NhdmVJZCkge1xuICAgIGlmIChsYXlvdXQudmFsdWUubGVuZ3RoID09PSAwIHx8IGxheW91dC52YWx1ZS5sZW5ndGggIT09IHBhbmVsRGF0YUFycmF5Lmxlbmd0aClcbiAgICAgIHJldHVyblxuXG4gICAgbGV0IGRlYm91bmNlZFNhdmUgPSBkZWJvdW5jZU1hcFthdXRvU2F2ZUlkXVxuXG4gICAgLy8gTGltaXQgdGhlIGZyZXF1ZW5jeSBvZiBsb2NhbFN0b3JhZ2UgdXBkYXRlcy5cbiAgICBpZiAoIWRlYm91bmNlZFNhdmUpIHtcbiAgICAgIGRlYm91bmNlZFNhdmUgPSBkZWJvdW5jZShcbiAgICAgICAgc2F2ZVBhbmVsR3JvdXBTdGF0ZSxcbiAgICAgICAgTE9DQUxfU1RPUkFHRV9ERUJPVU5DRV9JTlRFUlZBTCxcbiAgICAgIClcblxuICAgICAgZGVib3VuY2VNYXBbYXV0b1NhdmVJZF0gPSBkZWJvdW5jZWRTYXZlXG4gICAgfVxuXG4gICAgLy8gQ2xvbmUgbXV0YWJsZSBkYXRhIGJlZm9yZSBwYXNzaW5nIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24sXG4gICAgLy8gZWxzZSB3ZSBydW4gdGhlIHJpc2sgb2Ygc2F2aW5nIGFuIGluY29ycmVjdCBjb21iaW5hdGlvbiBvZiBtdXRhYmxlIGFuZCBpbW11dGFibGUgdmFsdWVzIHRvIHN0YXRlLlxuICAgIGNvbnN0IGNsb25lZFBhbmVsRGF0YUFycmF5ID0gWy4uLnBhbmVsRGF0YUFycmF5XVxuICAgIGNvbnN0IGNsb25lZFBhbmVsU2l6ZXNCZWZvcmVDb2xsYXBzZSA9IG5ldyBNYXAoXG4gICAgICBwYW5lbFNpemVCZWZvcmVDb2xsYXBzZVJlZi52YWx1ZSxcbiAgICApXG5cbiAgICBkZWJvdW5jZWRTYXZlKFxuICAgICAgYXV0b1NhdmVJZCxcbiAgICAgIGNsb25lZFBhbmVsRGF0YUFycmF5LFxuICAgICAgY2xvbmVkUGFuZWxTaXplc0JlZm9yZUNvbGxhcHNlLFxuICAgICAgbGF5b3V0LnZhbHVlLFxuICAgICAgcHJvcHMuc3RvcmFnZSxcbiAgICApXG4gIH1cbn0pXG5cbmZ1bmN0aW9uIGdldFBhbmVsU3R5bGUocGFuZWxEYXRhOiBQYW5lbERhdGEsIGRlZmF1bHRTaXplOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgY29uc3QgeyBwYW5lbERhdGFBcnJheSB9ID0gZWFnZXJWYWx1ZXNSZWYudmFsdWVcblxuICBjb25zdCBwYW5lbEluZGV4ID0gZmluZFBhbmVsRGF0YUluZGV4KHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEpXG5cbiAgcmV0dXJuIGNvbXB1dGVQYW5lbEZsZXhCb3hTdHlsZSh7XG4gICAgZGVmYXVsdFNpemUsXG4gICAgZHJhZ1N0YXRlOiBkcmFnU3RhdGUudmFsdWUsXG4gICAgbGF5b3V0OiBsYXlvdXQudmFsdWUsXG4gICAgcGFuZWxEYXRhOiBwYW5lbERhdGFBcnJheSxcbiAgICBwYW5lbEluZGV4LFxuICB9KVxufVxuXG5mdW5jdGlvbiByZWdpc3RlclBhbmVsKHBhbmVsRGF0YTogUGFuZWxEYXRhKSB7XG4gIGNvbnN0IHsgcGFuZWxEYXRhQXJyYXkgfSA9IGVhZ2VyVmFsdWVzUmVmLnZhbHVlXG5cbiAgcGFuZWxEYXRhQXJyYXkucHVzaChwYW5lbERhdGEpXG4gIHBhbmVsRGF0YUFycmF5LnNvcnQoKHBhbmVsQSwgcGFuZWxCKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJBID0gcGFuZWxBLm9yZGVyXG4gICAgY29uc3Qgb3JkZXJCID0gcGFuZWxCLm9yZGVyXG4gICAgaWYgKG9yZGVyQSA9PSBudWxsICYmIG9yZGVyQiA9PSBudWxsKVxuICAgICAgcmV0dXJuIDBcbiAgICBlbHNlIGlmIChvcmRlckEgPT0gbnVsbClcbiAgICAgIHJldHVybiAtMVxuICAgIGVsc2UgaWYgKG9yZGVyQiA9PSBudWxsKVxuICAgICAgcmV0dXJuIDFcbiAgICBlbHNlXG4gICAgICByZXR1cm4gb3JkZXJBIC0gb3JkZXJCXG4gIH0pXG5cbiAgZWFnZXJWYWx1ZXNSZWYudmFsdWUucGFuZWxEYXRhQXJyYXlDaGFuZ2VkID0gdHJ1ZVxufVxuXG4vLyAoUmUpY2FsY3VsYXRlIGdyb3VwIGxheW91dCB3aGVuZXZlciBwYW5lbHMgYXJlIHJlZ2lzdGVyZWQgb3IgdW5yZWdpc3RlcmVkLlxuLy8gdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdFxud2F0Y2goKCkgPT4gZWFnZXJWYWx1ZXNSZWYudmFsdWUucGFuZWxEYXRhQXJyYXlDaGFuZ2VkLCAoKSA9PiB7XG4gIGlmIChlYWdlclZhbHVlc1JlZi52YWx1ZS5wYW5lbERhdGFBcnJheUNoYW5nZWQpIHtcbiAgICBlYWdlclZhbHVlc1JlZi52YWx1ZS5wYW5lbERhdGFBcnJheUNoYW5nZWQgPSBmYWxzZVxuXG4gICAgY29uc3QgeyBhdXRvU2F2ZUlkLCBzdG9yYWdlIH0gPSBjb21taXR0ZWRWYWx1ZXNSZWYudmFsdWVcbiAgICBjb25zdCB7IGxheW91dDogcHJldkxheW91dCwgcGFuZWxEYXRhQXJyYXkgfSA9IGVhZ2VyVmFsdWVzUmVmLnZhbHVlXG5cbiAgICAvLyBJZiB0aGlzIHBhbmVsIGhhcyBiZWVuIGNvbmZpZ3VyZWQgdG8gcGVyc2lzdCBzaXppbmcgaW5mb3JtYXRpb24sXG4gICAgLy8gZGVmYXVsdCBzaXplIHNob3VsZCBiZSByZXN0b3JlZCBmcm9tIGxvY2FsIHN0b3JhZ2UgaWYgcG9zc2libGUuXG4gICAgbGV0IHVuc2FmZUxheW91dDogbnVtYmVyW10gfCBudWxsID0gbnVsbFxuICAgIGlmIChhdXRvU2F2ZUlkKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IGxvYWRQYW5lbEdyb3VwU3RhdGUoYXV0b1NhdmVJZCwgcGFuZWxEYXRhQXJyYXksIHN0b3JhZ2UpXG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgcGFuZWxTaXplQmVmb3JlQ29sbGFwc2VSZWYudmFsdWUgPSBuZXcgTWFwKFxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHN0YXRlLmV4cGFuZFRvU2l6ZXMpLFxuICAgICAgICApXG4gICAgICAgIHVuc2FmZUxheW91dCA9IHN0YXRlLmxheW91dFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1bnNhZmVMYXlvdXQgPT09IG51bGwpIHtcbiAgICAgIHVuc2FmZUxheW91dCA9IGNhbGN1bGF0ZVVuc2FmZURlZmF1bHRMYXlvdXQoe1xuICAgICAgICBwYW5lbERhdGFBcnJheSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZXZlbiBzYXZlZCBsYXlvdXRzIGluIGNhc2Ugc29tZXRoaW5nIGhhcyBjaGFuZ2VkIHNpbmNlIGxhc3QgcmVuZGVyXG4gICAgLy8gZS5nLiBmb3IgcGl4ZWwgZ3JvdXBzLCB0aGlzIGNvdWxkIGJlIHRoZSBzaXplIG9mIHRoZSB3aW5kb3dcbiAgICBjb25zdCBuZXh0TGF5b3V0ID0gdmFsaWRhdGVQYW5lbEdyb3VwTGF5b3V0KHtcbiAgICAgIGxheW91dDogdW5zYWZlTGF5b3V0LFxuICAgICAgcGFuZWxDb25zdHJhaW50czogcGFuZWxEYXRhQXJyYXkubWFwKFxuICAgICAgICBwYW5lbERhdGEgPT4gcGFuZWxEYXRhLmNvbnN0cmFpbnRzLFxuICAgICAgKSxcbiAgICB9KVxuXG4gICAgaWYgKCFhcmVFcXVhbChwcmV2TGF5b3V0LCBuZXh0TGF5b3V0KSkge1xuICAgICAgc2V0TGF5b3V0KG5leHRMYXlvdXQpXG5cbiAgICAgIGVhZ2VyVmFsdWVzUmVmLnZhbHVlLmxheW91dCA9IG5leHRMYXlvdXRcbiAgICAgIGVtaXRzKCdsYXlvdXQnLCBuZXh0TGF5b3V0KVxuXG4gICAgICBjYWxsUGFuZWxDYWxsYmFja3MoXG4gICAgICAgIHBhbmVsRGF0YUFycmF5LFxuICAgICAgICBuZXh0TGF5b3V0LFxuICAgICAgICBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwUmVmLnZhbHVlLFxuICAgICAgKVxuICAgIH1cbiAgfVxufSlcblxuZnVuY3Rpb24gcmVnaXN0ZXJSZXNpemVIYW5kbGUoZHJhZ0hhbmRsZUlkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoZXZlbnQ6IFJlc2l6ZUV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHBhbmVsR3JvdXBFbGVtZW50ID0gcGFuZWxHcm91cEVsZW1lbnRSZWYudmFsdWVcbiAgICBpZiAoIXBhbmVsR3JvdXBFbGVtZW50KVxuICAgICAgcmV0dXJuICgpID0+IG51bGxcblxuICAgIGNvbnN0IHsgZGlyZWN0aW9uLCBkcmFnU3RhdGUsIGlkOiBncm91cElkLCBrZXlib2FyZFJlc2l6ZUJ5IH0gPSBjb21taXR0ZWRWYWx1ZXNSZWYudmFsdWVcbiAgICBjb25zdCB7IGxheW91dDogcHJldkxheW91dCwgcGFuZWxEYXRhQXJyYXkgfSA9IGVhZ2VyVmFsdWVzUmVmLnZhbHVlXG5cbiAgICBjb25zdCB7IGluaXRpYWxMYXlvdXQgfSA9IGRyYWdTdGF0ZSA/PyB7fVxuXG4gICAgY29uc3QgcGl2b3RJbmRpY2VzID0gZGV0ZXJtaW5lUGl2b3RJbmRpY2VzKFxuICAgICAgZ3JvdXBJZCxcbiAgICAgIGRyYWdIYW5kbGVJZCxcbiAgICAgIHBhbmVsR3JvdXBFbGVtZW50LFxuICAgIClcblxuICAgIGxldCBkZWx0YSA9IGNhbGN1bGF0ZURlbHRhUGVyY2VudGFnZShcbiAgICAgIGV2ZW50LFxuICAgICAgZHJhZ0hhbmRsZUlkLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgZHJhZ1N0YXRlLFxuICAgICAga2V5Ym9hcmRSZXNpemVCeSxcbiAgICAgIHBhbmVsR3JvdXBFbGVtZW50LFxuICAgIClcbiAgICBpZiAoZGVsdGEgPT09IDApXG4gICAgICByZXR1cm5cblxuICAgIC8vIFN1cHBvcnQgUlRMIGxheW91dHNcbiAgICBjb25zdCBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJ1xuICAgIGlmIChkaXIudmFsdWUgPT09ICdydGwnICYmIGlzSG9yaXpvbnRhbClcbiAgICAgIGRlbHRhID0gLWRlbHRhXG5cbiAgICBjb25zdCBwYW5lbENvbnN0cmFpbnRzID0gcGFuZWxEYXRhQXJyYXkubWFwKHBhbmVsRGF0YSA9PiBwYW5lbERhdGEuY29uc3RyYWludHMpXG5cbiAgICBjb25zdCBuZXh0TGF5b3V0ID0gYWRqdXN0TGF5b3V0QnlEZWx0YSh7XG4gICAgICBkZWx0YSxcbiAgICAgIGxheW91dDogaW5pdGlhbExheW91dCA/PyBwcmV2TGF5b3V0LFxuICAgICAgcGFuZWxDb25zdHJhaW50cyxcbiAgICAgIHBpdm90SW5kaWNlcyxcbiAgICAgIHRyaWdnZXI6IGlzS2V5RG93bihldmVudCkgPyAna2V5Ym9hcmQnIDogJ21vdXNlLW9yLXRvdWNoJyxcbiAgICB9KVxuXG4gICAgY29uc3QgbGF5b3V0Q2hhbmdlZCA9ICFjb21wYXJlTGF5b3V0cyhwcmV2TGF5b3V0LCBuZXh0TGF5b3V0KVxuXG4gICAgLy8gT25seSB1cGRhdGUgdGhlIGN1cnNvciBmb3IgbGF5b3V0IGNoYW5nZXMgdHJpZ2dlcmVkIGJ5IHRvdWNoL21vdXNlIGV2ZW50cyAobm90IGtleWJvYXJkKVxuICAgIC8vIFVwZGF0ZSB0aGUgY3Vyc29yIGV2ZW4gaWYgdGhlIGxheW91dCBoYXNuJ3QgY2hhbmdlZCAod2UgbWF5IG5lZWQgdG8gc2hvdyBhbiBpbnZhbGlkIGN1cnNvciBzdGF0ZSlcbiAgICBpZiAoaXNNb3VzZUV2ZW50KGV2ZW50KSB8fCBpc1RvdWNoRXZlbnQoZXZlbnQpKSB7XG4gICAgICAvLyBXYXRjaCBmb3IgbXVsdGlwbGUgc3Vic2VxdWVudCBkZWx0YXM7IHRoaXMgbWlnaHQgb2NjdXIgZm9yIHRpbnkgY3Vyc29yIG1vdmVtZW50cy5cbiAgICAgIC8vIEluIHRoaXMgY2FzZSwgUGFuZWwgc2l6ZXMgbWlnaHQgbm90IGNoYW5nZeKAk1xuICAgICAgLy8gYnV0IHVwZGF0aW5nIGN1cnNvciBpbiB0aGlzIHNjZW5hcmlvIHdvdWxkIGNhdXNlIGEgZmxpY2tlci5cbiAgICAgIGlmIChwcmV2RGVsdGFSZWYudmFsdWUgIT09IGRlbHRhKSB7XG4gICAgICAgIHByZXZEZWx0YVJlZi52YWx1ZSA9IGRlbHRhXG5cbiAgICAgICAgaWYgKCFsYXlvdXRDaGFuZ2VkKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHBvaW50ZXIgaGFzIG1vdmVkIHRvbyBmYXIgdG8gcmVzaXplIHRoZSBwYW5lbCBhbnkgZnVydGhlciwgbm90ZSB0aGlzIHNvIHdlIGNhbiB1cGRhdGUgdGhlIGN1cnNvci5cbiAgICAgICAgICAvLyBUaGlzIG1pbWljcyBWUyBDb2RlIGJlaGF2aW9yLlxuICAgICAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgICAgIHJlcG9ydENvbnN0cmFpbnRzVmlvbGF0aW9uKFxuICAgICAgICAgICAgICBkcmFnSGFuZGxlSWQsXG4gICAgICAgICAgICAgIGRlbHRhIDwgMCA/IEVYQ0VFREVEX0hPUklaT05UQUxfTUlOIDogRVhDRUVERURfSE9SSVpPTlRBTF9NQVgsXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0Q29uc3RyYWludHNWaW9sYXRpb24oXG4gICAgICAgICAgICAgIGRyYWdIYW5kbGVJZCxcbiAgICAgICAgICAgICAgZGVsdGEgPCAwID8gRVhDRUVERURfVkVSVElDQUxfTUlOIDogRVhDRUVERURfVkVSVElDQUxfTUFYLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXBvcnRDb25zdHJhaW50c1Zpb2xhdGlvbihkcmFnSGFuZGxlSWQsIDApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGF5b3V0Q2hhbmdlZCkge1xuICAgICAgc2V0TGF5b3V0KG5leHRMYXlvdXQpXG5cbiAgICAgIGVhZ2VyVmFsdWVzUmVmLnZhbHVlLmxheW91dCA9IG5leHRMYXlvdXRcbiAgICAgIGVtaXRzKCdsYXlvdXQnLCBuZXh0TGF5b3V0KVxuXG4gICAgICBjYWxsUGFuZWxDYWxsYmFja3MoXG4gICAgICAgIHBhbmVsRGF0YUFycmF5LFxuICAgICAgICBuZXh0TGF5b3V0LFxuICAgICAgICBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwUmVmLnZhbHVlLFxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNpemVQYW5lbChwYW5lbERhdGE6IFBhbmVsRGF0YSwgdW5zYWZlUGFuZWxTaXplOiBudW1iZXIpIHtcbiAgY29uc3QgeyBsYXlvdXQ6IHByZXZMYXlvdXQsIHBhbmVsRGF0YUFycmF5IH0gPSBlYWdlclZhbHVlc1JlZi52YWx1ZVxuXG4gIGNvbnN0IHBhbmVsQ29uc3RyYWludHNBcnJheSA9IHBhbmVsRGF0YUFycmF5Lm1hcChwYW5lbERhdGEgPT4gcGFuZWxEYXRhLmNvbnN0cmFpbnRzKVxuXG4gIGNvbnN0IHsgcGFuZWxTaXplLCBwaXZvdEluZGljZXMgfSA9IHBhbmVsRGF0YUhlbHBlcihcbiAgICBwYW5lbERhdGFBcnJheSxcbiAgICBwYW5lbERhdGEsXG4gICAgcHJldkxheW91dCxcbiAgKVxuXG4gIGFzc2VydChwYW5lbFNpemUgIT0gbnVsbClcblxuICBjb25zdCBpc0xhc3RQYW5lbCA9IGZpbmRQYW5lbERhdGFJbmRleChwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhKSA9PT0gcGFuZWxEYXRhQXJyYXkubGVuZ3RoIC0gMVxuICBjb25zdCBkZWx0YSA9IGlzTGFzdFBhbmVsXG4gICAgPyBwYW5lbFNpemUgLSB1bnNhZmVQYW5lbFNpemVcbiAgICA6IHVuc2FmZVBhbmVsU2l6ZSAtIHBhbmVsU2l6ZVxuXG4gIGNvbnN0IG5leHRMYXlvdXQgPSBhZGp1c3RMYXlvdXRCeURlbHRhKHtcbiAgICBkZWx0YSxcbiAgICBsYXlvdXQ6IHByZXZMYXlvdXQsXG4gICAgcGFuZWxDb25zdHJhaW50czogcGFuZWxDb25zdHJhaW50c0FycmF5LFxuICAgIHBpdm90SW5kaWNlcyxcbiAgICB0cmlnZ2VyOiAnaW1wZXJhdGl2ZS1hcGknLFxuICB9KVxuXG4gIGlmICghY29tcGFyZUxheW91dHMocHJldkxheW91dCwgbmV4dExheW91dCkpIHtcbiAgICBzZXRMYXlvdXQobmV4dExheW91dClcblxuICAgIGVhZ2VyVmFsdWVzUmVmLnZhbHVlLmxheW91dCA9IG5leHRMYXlvdXRcbiAgICBlbWl0cygnbGF5b3V0JywgbmV4dExheW91dClcblxuICAgIGNhbGxQYW5lbENhbGxiYWNrcyhcbiAgICAgIHBhbmVsRGF0YUFycmF5LFxuICAgICAgbmV4dExheW91dCxcbiAgICAgIHBhbmVsSWRUb0xhc3ROb3RpZmllZFNpemVNYXBSZWYudmFsdWUsXG4gICAgKVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlZXZhbHVhdGVQYW5lbENvbnN0cmFpbnRzKHBhbmVsRGF0YTogUGFuZWxEYXRhLCBwcmV2Q29uc3RyYWludHM6IFBhbmVsQ29uc3RyYWludHMpIHtcbiAgY29uc3QgeyBsYXlvdXQsIHBhbmVsRGF0YUFycmF5IH0gPSBlYWdlclZhbHVlc1JlZi52YWx1ZVxuICBjb25zdCBpbmRleCA9IGZpbmRQYW5lbERhdGFJbmRleChwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhKVxuICBwYW5lbERhdGFBcnJheVtpbmRleF0gPSBwYW5lbERhdGFcbiAgZWFnZXJWYWx1ZXNSZWYudmFsdWUucGFuZWxEYXRhQXJyYXlDaGFuZ2VkID0gdHJ1ZVxuICBjb25zdCB7XG4gICAgY29sbGFwc2VkU2l6ZTogcHJldkNvbGxhcHNlZFNpemUgPSAwLFxuICAgIGNvbGxhcHNpYmxlOiBwcmV2Q29sbGFwc2libGUsXG4gIH0gPSBwcmV2Q29uc3RyYWludHNcblxuICBjb25zdCB7XG4gICAgY29sbGFwc2VkU2l6ZTogbmV4dENvbGxhcHNlZFNpemUgPSAwLFxuICAgIGNvbGxhcHNpYmxlOiBuZXh0Q29sbGFwc2libGUsXG4gICAgbWF4U2l6ZTogbmV4dE1heFNpemUgPSAxMDAsXG4gICAgbWluU2l6ZTogbmV4dE1pblNpemUgPSAwLFxuICB9ID0gcGFuZWxEYXRhLmNvbnN0cmFpbnRzXG5cbiAgY29uc3QgeyBwYW5lbFNpemU6IHByZXZQYW5lbFNpemUgfSA9IHBhbmVsRGF0YUhlbHBlcihcbiAgICBwYW5lbERhdGFBcnJheSxcbiAgICBwYW5lbERhdGEsXG4gICAgbGF5b3V0LFxuICApXG4gIGlmIChwcmV2UGFuZWxTaXplID09PSBudWxsKSB7XG4gICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHRoZSBwYW5lbHMgaW4gdGhpcyBncm91cCBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgcmVuZGVyXG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoXG4gICAgcHJldkNvbGxhcHNpYmxlXG4gICAgJiYgbmV4dENvbGxhcHNpYmxlXG4gICAgJiYgcHJldlBhbmVsU2l6ZSA9PT0gcHJldkNvbGxhcHNlZFNpemVcbiAgKSB7XG4gICAgaWYgKHByZXZDb2xsYXBzZWRTaXplICE9PSBuZXh0Q29sbGFwc2VkU2l6ZSkge1xuICAgICAgcmVzaXplUGFuZWwocGFuZWxEYXRhLCBuZXh0Q29sbGFwc2VkU2l6ZSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBTdGF5IGNvbGxhcHNlZFxuICAgIH1cbiAgfVxuICBlbHNlIGlmIChwcmV2UGFuZWxTaXplIDwgbmV4dE1pblNpemUpIHtcbiAgICByZXNpemVQYW5lbChwYW5lbERhdGEsIG5leHRNaW5TaXplKVxuICB9XG4gIGVsc2UgaWYgKHByZXZQYW5lbFNpemUgPiBuZXh0TWF4U2l6ZSkge1xuICAgIHJlc2l6ZVBhbmVsKHBhbmVsRGF0YSwgbmV4dE1heFNpemUpXG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhkcmFnSGFuZGxlSWQ6IHN0cmluZywgZXZlbnQ6IFJlc2l6ZUV2ZW50KSB7XG4gIGNvbnN0IHsgZGlyZWN0aW9uIH0gPSBjb21taXR0ZWRWYWx1ZXNSZWYudmFsdWVcbiAgY29uc3QgeyBsYXlvdXQgfSA9IGVhZ2VyVmFsdWVzUmVmLnZhbHVlXG4gIGlmICghcGFuZWxHcm91cEVsZW1lbnRSZWYudmFsdWUpXG4gICAgcmV0dXJuXG5cbiAgY29uc3QgaGFuZGxlRWxlbWVudCA9IGdldFJlc2l6ZUhhbmRsZUVsZW1lbnQoXG4gICAgZHJhZ0hhbmRsZUlkLFxuICAgIHBhbmVsR3JvdXBFbGVtZW50UmVmLnZhbHVlLFxuICApXG4gIGFzc2VydChoYW5kbGVFbGVtZW50KVxuXG4gIGNvbnN0IGluaXRpYWxDdXJzb3JQb3NpdGlvbiA9IGdldFJlc2l6ZUV2ZW50Q3Vyc29yUG9zaXRpb24oXG4gICAgZGlyZWN0aW9uLFxuICAgIGV2ZW50LFxuICApXG5cbiAgZHJhZ1N0YXRlLnZhbHVlID0ge1xuICAgIGRyYWdIYW5kbGVJZCxcbiAgICBkcmFnSGFuZGxlUmVjdDogaGFuZGxlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICBpbml0aWFsQ3Vyc29yUG9zaXRpb24sXG4gICAgaW5pdGlhbExheW91dDogbGF5b3V0LFxuICB9XG59XG5mdW5jdGlvbiBzdG9wRHJhZ2dpbmcoKSB7XG4gIGRyYWdTdGF0ZS52YWx1ZSA9IG51bGxcbn1cblxuZnVuY3Rpb24gdW5yZWdpc3RlclBhbmVsKHBhbmVsRGF0YTogUGFuZWxEYXRhKSB7XG4gIGNvbnN0IHsgcGFuZWxEYXRhQXJyYXkgfSA9IGVhZ2VyVmFsdWVzUmVmLnZhbHVlXG5cbiAgY29uc3QgaW5kZXggPSBmaW5kUGFuZWxEYXRhSW5kZXgocGFuZWxEYXRhQXJyYXksIHBhbmVsRGF0YSlcbiAgaWYgKGluZGV4ID49IDApIHtcbiAgICBwYW5lbERhdGFBcnJheS5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICAvLyBUUklDS1lcbiAgICAvLyBXaGVuIGEgcGFuZWwgaXMgcmVtb3ZlZCBmcm9tIHRoZSBncm91cCwgd2Ugc2hvdWxkIGRlbGV0ZSB0aGUgbW9zdCByZWNlbnQgcHJldi1zaXplIGVudHJ5IGZvciBpdC5cbiAgICAvLyBJZiB3ZSBkb24ndCBkbyB0aGlzLCB0aGVuIGEgY29uZGl0aW9uYWxseSByZW5kZXJlZCBwYW5lbCBtaWdodCBub3QgY2FsbCBvblJlc2l6ZSB3aGVuIGl0J3MgcmUtbW91bnRlZC5cbiAgICAvLyBTdHJpY3QgZWZmZWN0cyBtb2RlIG1ha2VzIHRoaXMgdHJpY2t5IHRob3VnaCBiZWNhdXNlIGFsbCBwYW5lbHMgd2lsbCBiZSByZWdpc3RlcmVkLCB1bnJlZ2lzdGVyZWQsIHRoZW4gcmUtcmVnaXN0ZXJlZCBvbiBtb3VudC5cbiAgICBkZWxldGUgcGFuZWxJZFRvTGFzdE5vdGlmaWVkU2l6ZU1hcFJlZi52YWx1ZVtwYW5lbERhdGEuaWRdXG5cbiAgICBlYWdlclZhbHVlc1JlZi52YWx1ZS5wYW5lbERhdGFBcnJheUNoYW5nZWQgPSB0cnVlXG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGFwc2VQYW5lbChwYW5lbERhdGE6IFBhbmVsRGF0YSkge1xuICBjb25zdCB7IGxheW91dDogcHJldkxheW91dCwgcGFuZWxEYXRhQXJyYXkgfSA9IGVhZ2VyVmFsdWVzUmVmLnZhbHVlXG5cbiAgaWYgKHBhbmVsRGF0YS5jb25zdHJhaW50cy5jb2xsYXBzaWJsZSkge1xuICAgIGNvbnN0IHBhbmVsQ29uc3RyYWludHNBcnJheSA9IHBhbmVsRGF0YUFycmF5Lm1hcChcbiAgICAgIHBhbmVsRGF0YSA9PiBwYW5lbERhdGEuY29uc3RyYWludHMsXG4gICAgKVxuXG4gICAgY29uc3Qge1xuICAgICAgY29sbGFwc2VkU2l6ZSA9IDAsXG4gICAgICBwYW5lbFNpemUsXG4gICAgICBwaXZvdEluZGljZXMsXG4gICAgfSA9IHBhbmVsRGF0YUhlbHBlcihwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhLCBwcmV2TGF5b3V0KVxuXG4gICAgYXNzZXJ0KFxuICAgICAgcGFuZWxTaXplICE9IG51bGwsXG4gICAgICBgUGFuZWwgc2l6ZSBub3QgZm91bmQgZm9yIHBhbmVsIFwiJHtwYW5lbERhdGEuaWR9XCJgLFxuICAgIClcblxuICAgIGlmIChwYW5lbFNpemUgIT09IGNvbGxhcHNlZFNpemUpIHtcbiAgICAgIC8vIFN0b3JlIHNpemUgYmVmb3JlIGNvbGxhcHNlO1xuICAgICAgLy8gVGhpcyBpcyB0aGUgc2l6ZSB0aGF0IGdldHMgcmVzdG9yZWQgaWYgdGhlIGV4cGFuZCgpIEFQSSBpcyB1c2VkLlxuICAgICAgcGFuZWxTaXplQmVmb3JlQ29sbGFwc2VSZWYudmFsdWUuc2V0KHBhbmVsRGF0YS5pZCwgcGFuZWxTaXplKVxuXG4gICAgICBjb25zdCBpc0xhc3RQYW5lbFxuICAgICAgICAgID0gZmluZFBhbmVsRGF0YUluZGV4KHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEpXG4gICAgICAgICAgICA9PT0gcGFuZWxEYXRhQXJyYXkubGVuZ3RoIC0gMVxuICAgICAgY29uc3QgZGVsdGEgPSBpc0xhc3RQYW5lbFxuICAgICAgICA/IHBhbmVsU2l6ZSAtIGNvbGxhcHNlZFNpemVcbiAgICAgICAgOiBjb2xsYXBzZWRTaXplIC0gcGFuZWxTaXplXG5cbiAgICAgIGNvbnN0IG5leHRMYXlvdXQgPSBhZGp1c3RMYXlvdXRCeURlbHRhKHtcbiAgICAgICAgZGVsdGEsXG4gICAgICAgIGxheW91dDogcHJldkxheW91dCxcbiAgICAgICAgcGFuZWxDb25zdHJhaW50czogcGFuZWxDb25zdHJhaW50c0FycmF5LFxuICAgICAgICBwaXZvdEluZGljZXMsXG4gICAgICAgIHRyaWdnZXI6ICdpbXBlcmF0aXZlLWFwaScsXG4gICAgICB9KVxuXG4gICAgICBpZiAoIWNvbXBhcmVMYXlvdXRzKHByZXZMYXlvdXQsIG5leHRMYXlvdXQpKSB7XG4gICAgICAgIHNldExheW91dChuZXh0TGF5b3V0KVxuXG4gICAgICAgIGVhZ2VyVmFsdWVzUmVmLnZhbHVlLmxheW91dCA9IG5leHRMYXlvdXRcblxuICAgICAgICBlbWl0cygnbGF5b3V0JywgbmV4dExheW91dClcblxuICAgICAgICBjYWxsUGFuZWxDYWxsYmFja3MoXG4gICAgICAgICAgcGFuZWxEYXRhQXJyYXksXG4gICAgICAgICAgbmV4dExheW91dCxcbiAgICAgICAgICBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwUmVmLnZhbHVlLFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFBhbmVsKHBhbmVsRGF0YTogUGFuZWxEYXRhKSB7XG4gIGNvbnN0IHsgbGF5b3V0OiBwcmV2TGF5b3V0LCBwYW5lbERhdGFBcnJheSB9ID0gZWFnZXJWYWx1ZXNSZWYudmFsdWVcblxuICBpZiAocGFuZWxEYXRhLmNvbnN0cmFpbnRzLmNvbGxhcHNpYmxlKSB7XG4gICAgY29uc3QgcGFuZWxDb25zdHJhaW50c0FycmF5ID0gcGFuZWxEYXRhQXJyYXkubWFwKFxuICAgICAgcGFuZWxEYXRhID0+IHBhbmVsRGF0YS5jb25zdHJhaW50cyxcbiAgICApXG5cbiAgICBjb25zdCB7XG4gICAgICBjb2xsYXBzZWRTaXplID0gMCxcbiAgICAgIHBhbmVsU2l6ZSxcbiAgICAgIG1pblNpemUgPSAwLFxuICAgICAgcGl2b3RJbmRpY2VzLFxuICAgIH0gPSBwYW5lbERhdGFIZWxwZXIocGFuZWxEYXRhQXJyYXksIHBhbmVsRGF0YSwgcHJldkxheW91dClcblxuICAgIGlmIChwYW5lbFNpemUgPT09IGNvbGxhcHNlZFNpemUpIHtcbiAgICAgIC8vIFJlc3RvcmUgdGhpcyBwYW5lbCB0byB0aGUgc2l6ZSBpdCB3YXMgYmVmb3JlIGl0IHdhcyBjb2xsYXBzZWQsIGlmIHBvc3NpYmxlLlxuICAgICAgY29uc3QgcHJldlBhbmVsU2l6ZSA9IHBhbmVsU2l6ZUJlZm9yZUNvbGxhcHNlUmVmLnZhbHVlLmdldChcbiAgICAgICAgcGFuZWxEYXRhLmlkLFxuICAgICAgKVxuXG4gICAgICBjb25zdCBiYXNlU2l6ZVxuICAgICAgICAgID0gcHJldlBhbmVsU2l6ZSAhPSBudWxsICYmIHByZXZQYW5lbFNpemUgPj0gbWluU2l6ZVxuICAgICAgICAgICAgPyBwcmV2UGFuZWxTaXplXG4gICAgICAgICAgICA6IG1pblNpemVcblxuICAgICAgY29uc3QgaXNMYXN0UGFuZWxcbiAgICAgICAgICA9IGZpbmRQYW5lbERhdGFJbmRleChwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhKVxuICAgICAgICAgICAgPT09IHBhbmVsRGF0YUFycmF5Lmxlbmd0aCAtIDFcbiAgICAgIGNvbnN0IGRlbHRhID0gaXNMYXN0UGFuZWwgPyBwYW5lbFNpemUgLSBiYXNlU2l6ZSA6IGJhc2VTaXplIC0gcGFuZWxTaXplXG5cbiAgICAgIGNvbnN0IG5leHRMYXlvdXQgPSBhZGp1c3RMYXlvdXRCeURlbHRhKHtcbiAgICAgICAgZGVsdGEsXG4gICAgICAgIGxheW91dDogcHJldkxheW91dCxcbiAgICAgICAgcGFuZWxDb25zdHJhaW50czogcGFuZWxDb25zdHJhaW50c0FycmF5LFxuICAgICAgICBwaXZvdEluZGljZXMsXG4gICAgICAgIHRyaWdnZXI6ICdpbXBlcmF0aXZlLWFwaScsXG4gICAgICB9KVxuXG4gICAgICBpZiAoIWNvbXBhcmVMYXlvdXRzKHByZXZMYXlvdXQsIG5leHRMYXlvdXQpKSB7XG4gICAgICAgIHNldExheW91dChuZXh0TGF5b3V0KVxuXG4gICAgICAgIGVhZ2VyVmFsdWVzUmVmLnZhbHVlLmxheW91dCA9IG5leHRMYXlvdXRcblxuICAgICAgICBlbWl0cygnbGF5b3V0JywgbmV4dExheW91dClcblxuICAgICAgICBjYWxsUGFuZWxDYWxsYmFja3MoXG4gICAgICAgICAgcGFuZWxEYXRhQXJyYXksXG4gICAgICAgICAgbmV4dExheW91dCxcbiAgICAgICAgICBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwUmVmLnZhbHVlLFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhbmVsU2l6ZShwYW5lbERhdGE6IFBhbmVsRGF0YSkge1xuICBjb25zdCB7IGxheW91dCwgcGFuZWxEYXRhQXJyYXkgfSA9IGVhZ2VyVmFsdWVzUmVmLnZhbHVlXG5cbiAgY29uc3QgeyBwYW5lbFNpemUgfSA9IHBhbmVsRGF0YUhlbHBlcihwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhLCBsYXlvdXQpXG5cbiAgYXNzZXJ0KFxuICAgIHBhbmVsU2l6ZSAhPSBudWxsLFxuICAgIGBQYW5lbCBzaXplIG5vdCBmb3VuZCBmb3IgcGFuZWwgXCIke3BhbmVsRGF0YS5pZH1cImAsXG4gIClcblxuICByZXR1cm4gcGFuZWxTaXplXG59XG5cbmZ1bmN0aW9uIGlzUGFuZWxDb2xsYXBzZWQocGFuZWxEYXRhOiBQYW5lbERhdGEpIHtcbiAgY29uc3QgeyBsYXlvdXQsIHBhbmVsRGF0YUFycmF5IH0gPSBlYWdlclZhbHVlc1JlZi52YWx1ZVxuXG4gIGNvbnN0IHtcbiAgICBjb2xsYXBzZWRTaXplID0gMCxcbiAgICBjb2xsYXBzaWJsZSxcbiAgICBwYW5lbFNpemUsXG4gIH0gPSBwYW5lbERhdGFIZWxwZXIocGFuZWxEYXRhQXJyYXksIHBhbmVsRGF0YSwgbGF5b3V0KVxuXG4gIGlmICghY29sbGFwc2libGUpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgLy8gcGFuZWxTaXplIGlzIHVuZGVmaW5lZCBkdXJpbmcgc3NyIGR1ZSB0byB2dWUgc3NyIHJlYWN0aXZpdHkgbGltaXRhdGlvbi5cbiAgaWYgKHBhbmVsU2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHBhbmVsRGF0YS5jb25zdHJhaW50cy5kZWZhdWx0U2l6ZSA9PT0gcGFuZWxEYXRhLmNvbnN0cmFpbnRzLmNvbGxhcHNlZFNpemVcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gcGFuZWxTaXplID09PSBjb2xsYXBzZWRTaXplXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNQYW5lbEV4cGFuZGVkKHBhbmVsRGF0YTogUGFuZWxEYXRhKSB7XG4gIGNvbnN0IHsgbGF5b3V0LCBwYW5lbERhdGFBcnJheSB9ID0gZWFnZXJWYWx1ZXNSZWYudmFsdWVcblxuICBjb25zdCB7XG4gICAgY29sbGFwc2VkU2l6ZSA9IDAsXG4gICAgY29sbGFwc2libGUsXG4gICAgcGFuZWxTaXplLFxuICB9ID0gcGFuZWxEYXRhSGVscGVyKHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEsIGxheW91dClcblxuICBhc3NlcnQoXG4gICAgcGFuZWxTaXplICE9IG51bGwsXG4gICAgYFBhbmVsIHNpemUgbm90IGZvdW5kIGZvciBwYW5lbCBcIiR7cGFuZWxEYXRhLmlkfVwiYCxcbiAgKVxuXG4gIHJldHVybiAhY29sbGFwc2libGUgfHwgcGFuZWxTaXplID4gY29sbGFwc2VkU2l6ZVxufVxuXG5wcm92aWRlUGFuZWxHcm91cENvbnRleHQoe1xuICBkaXJlY3Rpb24sXG4gIGRyYWdTdGF0ZTogZHJhZ1N0YXRlLnZhbHVlLFxuICBncm91cElkLFxuICByZWV2YWx1YXRlUGFuZWxDb25zdHJhaW50cyxcbiAgcmVnaXN0ZXJQYW5lbCxcbiAgcmVnaXN0ZXJSZXNpemVIYW5kbGUsXG4gIHJlc2l6ZVBhbmVsLFxuICBzdGFydERyYWdnaW5nLFxuICBzdG9wRHJhZ2dpbmcsXG4gIHVucmVnaXN0ZXJQYW5lbCxcbiAgcGFuZWxHcm91cEVsZW1lbnQ6IHBhbmVsR3JvdXBFbGVtZW50UmVmLFxuXG4gIGNvbGxhcHNlUGFuZWwsXG4gIGV4cGFuZFBhbmVsLFxuICBpc1BhbmVsQ29sbGFwc2VkLFxuICBpc1BhbmVsRXhwYW5kZWQsXG4gIGdldFBhbmVsU2l6ZSxcbiAgZ2V0UGFuZWxTdHlsZSxcbn0pXG5cbmZ1bmN0aW9uIGZpbmRQYW5lbERhdGFJbmRleChwYW5lbERhdGFBcnJheTogUGFuZWxEYXRhW10sIHBhbmVsRGF0YTogUGFuZWxEYXRhKSB7XG4gIHJldHVybiBwYW5lbERhdGFBcnJheS5maW5kSW5kZXgoXG4gICAgcHJldlBhbmVsRGF0YSA9PlxuICAgICAgcHJldlBhbmVsRGF0YSA9PT0gcGFuZWxEYXRhIHx8IHByZXZQYW5lbERhdGEuaWQgPT09IHBhbmVsRGF0YS5pZCxcbiAgKVxufVxuXG5mdW5jdGlvbiBwYW5lbERhdGFIZWxwZXIoXG4gIHBhbmVsRGF0YUFycmF5OiBQYW5lbERhdGFbXSxcbiAgcGFuZWxEYXRhOiBQYW5lbERhdGEsXG4gIGxheW91dDogbnVtYmVyW10sXG4pIHtcbiAgY29uc3QgcGFuZWxJbmRleCA9IGZpbmRQYW5lbERhdGFJbmRleChwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhKVxuXG4gIGNvbnN0IGlzTGFzdFBhbmVsID0gcGFuZWxJbmRleCA9PT0gcGFuZWxEYXRhQXJyYXkubGVuZ3RoIC0gMVxuICBjb25zdCBwaXZvdEluZGljZXMgPSBpc0xhc3RQYW5lbFxuICAgID8gW3BhbmVsSW5kZXggLSAxLCBwYW5lbEluZGV4XVxuICAgIDogW3BhbmVsSW5kZXgsIHBhbmVsSW5kZXggKyAxXVxuXG4gIGNvbnN0IHBhbmVsU2l6ZSA9IGxheW91dFtwYW5lbEluZGV4XVxuXG4gIHJldHVybiB7XG4gICAgLi4ucGFuZWxEYXRhLmNvbnN0cmFpbnRzLFxuICAgIHBhbmVsU2l6ZSxcbiAgICBwaXZvdEluZGljZXMsXG4gIH1cbn1cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxQcmltaXRpdmVcbiAgICA6cmVmPVwiZm9yd2FyZFJlZlwiXG4gICAgOmFzPVwiYXNcIlxuICAgIDphcy1jaGlsZD1cImFzQ2hpbGRcIlxuICAgIDpzdHlsZT1cIntcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhEaXJlY3Rpb246IGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3JvdycgOiAnY29sdW1uJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICB9XCJcbiAgICBkYXRhLXBhbmVsLWdyb3VwPVwiXCJcbiAgICA6ZGF0YS1vcmllbnRhdGlvbj1cImRpcmVjdGlvblwiXG4gICAgOmRhdGEtcGFuZWwtZ3JvdXAtaWQ9XCJncm91cElkXCJcbiAgPlxuICAgIDxzbG90IDpsYXlvdXQ9XCJsYXlvdXRcIiAvPlxuICA8L1ByaW1pdGl2ZT5cbjwvdGVtcGxhdGU+XG4iXSwibmFtZXMiOlsiZGlyZWN0aW9uIiwiZHJhZ1N0YXRlIiwiZ3JvdXBJZCIsInBhbmVsRGF0YSIsImxheW91dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBOEJBLE1BQU0sK0JBQWtDLEdBQUEsR0FBQTtBQU94QyxNQUFNLGNBQW9DLEdBQUE7QUFBQSxFQUN4QyxPQUFBLEVBQVMsQ0FBQyxJQUFpQixLQUFBO0FBQ3pCLElBQUEsd0JBQUEsQ0FBeUIsY0FBYyxDQUFBO0FBQ3ZDLElBQU8sT0FBQSxjQUFBLENBQWUsUUFBUSxJQUFJLENBQUE7QUFBQSxHQUNwQztBQUFBLEVBQ0EsT0FBQSxFQUFTLENBQUMsSUFBQSxFQUFjLEtBQWtCLEtBQUE7QUFDeEMsSUFBQSx3QkFBQSxDQUF5QixjQUFjLENBQUE7QUFDdkMsSUFBZSxjQUFBLENBQUEsT0FBQSxDQUFRLE1BQU0sS0FBSyxDQUFBO0FBQUE7QUFFdEMsQ0FBQTtBQXdCTyxNQUFNLENBQUMsdUJBQUEsRUFBeUIsd0JBQXdCLENBQUEsR0FBSSxjQUFpQyxZQUFZOzs7Ozs7Ozs7Ozs7OztBQTBCaEgsSUFBQSxNQUFNLEtBQVEsR0FBQSxPQUFBO0FBS2QsSUFBQSxNQUFNLEtBQVEsR0FBQSxNQUFBO0FBU2QsSUFBQSxNQUFNLGNBRUYsRUFBQztBQUVMLElBQUEsTUFBTSxFQUFFLFNBQUEsRUFBYyxHQUFBLE1BQUEsQ0FB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