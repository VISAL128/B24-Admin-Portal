import { createHotContext as __vite__createHotContext } from "/_nuxt/@vite/client";import.meta.hot = __vite__createHotContext("/pages/settlement/wallet-settlement.vue");import { default as __nuxt_component_0 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/components/Checkbox.vue";
import { default as __nuxt_component_1 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/components/Badge.vue";
import { default as __nuxt_component_2 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/components/Input.vue";
import { default as __nuxt_component_3 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/components/Button.vue";
import { default as __nuxt_component_4 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/components/Calendar.vue";
import { default as __nuxt_component_5 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/components/Popover.vue";
import { default as __nuxt_component_6 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/components/DropdownMenu.vue";
import { default as __nuxt_component_7 } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/components/Table.vue";
import { recordPosition as _tracerRecordPosition } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/vite-plugin-vue-tracer/dist/client/record.mjs?v=54abfa04"
import { defineComponent as _defineComponent } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/vue/dist/vue.runtime.esm-bundler.js?v=54abfa04";
import { h, ref, computed, onMounted, shallowRef, watch, resolveComponent } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/vue/dist/vue.runtime.esm-bundler.js?v=54abfa04";
import { useClipboard } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/.cache/vite/client/deps/@vueuse_core.js?v=54abfa04";
import { useRouter } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/vue-router/dist/vue-router.mjs?v=54abfa04";
import { CalendarDate, DateFormatter, getLocalTimeZone } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/.cache/vite/client/deps/@internationalized_date.js?v=54abfa04";
import { useSupplierApi } from "/_nuxt/composables/api/useSupplierApi.ts";

import { useToast } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/@nuxt/ui/dist/runtime/composables/useToast.js?v=54abfa04";
import { useTemplateRef } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/vue/dist/vue.runtime.esm-bundler.js?v=54abfa04";
const _sfc_main = /* @__PURE__ */ _defineComponent({
  __name: "wallet-settlement",
  setup(__props, { expose: __expose }) {
    __expose();
    const { getSuppliers, getCPOsBySuppliers } = useSupplierApi();
    const router = useRouter();
    const { copy } = useClipboard();
    const toast = useToast();
    const table = useTemplateRef("table");
    const search = ref("");
    const startDate = ref("");
    const endDate = ref("");
    const suppliers = ref([]);
    const errorMsg = ref("");
    const loading = ref(false);
    const fetchData = async () => {
      loading.value = true;
      const suppliersRes = await getSuppliers();
      loading.value = false;
    };
    onMounted(fetchData);
    const df = new DateFormatter("en-US", { dateStyle: "medium" });
    const modelValue = shallowRef({
      start: new CalendarDate(2024, 6, 1),
      end: new CalendarDate(2024, 6, 30)
    });
    watch(modelValue, (val) => {
      startDate.value = val.start?.toDate(getLocalTimeZone()).toISOString().slice(0, 10) || "";
      endDate.value = val.end?.toDate(getLocalTimeZone()).toISOString().slice(0, 10) || "";
    });
    const fetchSettlementHistory = async () => {
      loading.value = true;
      try {
        const payload = {
          page: 1,
          limit: 100,
          startDate: startDate.value || void 0,
          endDate: endDate.value || void 0
          // status: 'paid', // Optional filter if needed
        };
        const resp = await getSettlementHistory(payload);
        da.value = resp?.records ?? [];
      } catch (error) {
        console.error("Error loading settlement history:", error.message);
        errorMsg.value = error.message || "Failed to load settlement history.";
      } finally {
        loading.value = false;
      }
    };
    const filteredData = computed(
      () => data.value.filter((item) => {
        const matchSearch = item.settledBy.toLowerCase().includes(search.value.toLowerCase());
        const matchStart = !startDate.value || item.date >= startDate.value;
        const matchEnd = !endDate.value || item.date <= endDate.value;
        return matchSearch && matchStart && matchEnd;
      })
    );
    const onGenerateSettlement = () => {
      router.push("/settlement/generatereport");
    };
    const exportItems = [
      { label: "PDF", icon: "i-lucide-file-text", click: () => toast.add({ title: "Exported as PDF" }) },
      { label: "Excel", icon: "i-lucide-file-spreadsheet", click: () => toast.add({ title: "Exported as Excel" }) },
      { label: "CSV", icon: "i-lucide-file-csv", click: () => toast.add({ title: "Exported as CSV" }) }
    ];
    const columns = [
      {
        id: "select",
        header: ({ table: table2 }) => _tracer(155,6,h(__nuxt_component_0, {
          "modelValue": table2.getIsSomePageRowsSelected() ? "indeterminate" : table2.getIsAllPageRowsSelected(),
          "onUpdate:modelValue": (value) => table2.toggleAllPageRowsSelected(!!value),
          "aria-label": "Select all"
        })),
        cell: ({ row }) => _tracer(164,6,h(__nuxt_component_0, {
          "modelValue": row.getIsSelected(),
          "onUpdate:modelValue": (value) => row.toggleSelected(!!value),
          "aria-label": "Select row"
        })),
        enableSorting: false,
        enableHiding: false
      },
      { accessorKey: "id", header: "Settlement ID", cell: ({ row }) => row.getValue("id") },
      {
        accessorKey: "date",
        header: "Settlement Date",
        cell: ({ row }) => new Date(row.getValue("date")).toLocaleDateString()
      },
      { accessorKey: "totalSupplier", header: "Total Supplier" },
      {
        accessorKey: "totalAmount",
        header: "Total Amount",
        cell: ({ row }) => _tracer(183,23,h("div", { class: "text-right font-medium" }, `$${row.getValue("totalAmount")}`))
      },
      { accessorKey: "settledBy", header: "Settled By" },
      {
        accessorKey: "status",
        header: "Status",
        cell: ({ row }) => {
          const color = {
            paid: "success",
            failed: "error",
            refunded: "warning"
          }[row.getValue("status")];
          return _tracer(196,13,h(__nuxt_component_1, {
            color,
            variant: "subtle",
            class: "capitalize"
          }, () => row.getValue("status")));
        }
      }
    ];
    const __returned__ = { getSuppliers, getCPOsBySuppliers, router, copy, toast, table, search, startDate, endDate, suppliers, errorMsg, loading, fetchData, df, modelValue, fetchSettlementHistory, filteredData, onGenerateSettlement, exportItems, columns, get getLocalTimeZone() {
      return getLocalTimeZone;
    } };
    Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
    return __returned__;
  }
});
import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withCtx as _withCtx, createElementVNode as _createElementVNode } from "/_nuxt/@fs/D:/Bill24/b24managementportal/node_modules/vue/dist/vue.runtime.esm-bundler.js?v=54abfa04";
const _hoisted_1 = { class: "flex flex-col h-full w-full space-y-4 overflow-hidden" };
const _hoisted_2 = { class: "flex flex-wrap items-center justify-between gap-2 px-4 py-4 bg-white dark:bg-gray-900 rounded shadow" };
const _hoisted_3 = { class: "flex flex-wrap items-center gap-2" };
const _hoisted_4 = { class: "flex items-center gap-2" };
const _hoisted_5 = { class: "px-4 py-3.5 text-sm text-muted" };
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_UInput = __nuxt_component_2;
  const _component_UButton = __nuxt_component_3;
  const _component_UCalendar = __nuxt_component_4;
  const _component_UPopover = __nuxt_component_5;
  const _component_UDropdownMenu = __nuxt_component_6;
  const _component_UTable = __nuxt_component_7;
  return _openBlock(), _tracer(2,2,_createElementBlock("div", _hoisted_1, [
    _createCommentVNode(" Header "),
    _tracer(4,4,_createElementVNode("div", _hoisted_2, [
      _tracer(5,6,_createElementVNode("div", _hoisted_3, [
        _tracer(6,8,_createVNode(_component_UInput, {
          modelValue: $setup.search,
          "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.search = $event),
          placeholder: "Search by settler...",
          class: "w-64"
        }, null, 8, ["modelValue"])),
        _tracer(7,8,_createVNode(_component_UPopover, null, {
          content: _withCtx(() => [
            _tracer(24,12,_createVNode(_component_UCalendar, {
              modelValue: $setup.modelValue,
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.modelValue = $event),
              class: "p-2",
              "number-of-months": 2,
              range: ""
            }, null, 8, ["modelValue"]))
          ]),
          default: _withCtx(() => [
            _tracer(8,10,_createVNode(_component_UButton, {
              color: "neutral",
              variant: "subtle",
              icon: "i-lucide-calendar"
            }, {
              default: _withCtx(() => [
                $setup.modelValue.start ? (_openBlock(), _tracer(9,12,_createElementBlock(
                  _Fragment,
                  { key: 0 },
                  [
                    $setup.modelValue.end ? (_openBlock(), _tracer(10,14,_createElementBlock(
                      _Fragment,
                      { key: 0 },
                      [
                        _createTextVNode(
                          _toDisplayString($setup.df.format($setup.modelValue.start.toDate($setup.getLocalTimeZone()))) + " - " + _toDisplayString($setup.df.format($setup.modelValue.end.toDate($setup.getLocalTimeZone()))),
                          1
                          /* TEXT */
                        )
                      ],
                      64
                      /* STABLE_FRAGMENT */
                    ))) : (_openBlock(), _tracer(14,14,_createElementBlock(
                      _Fragment,
                      { key: 1 },
                      [
                        _createTextVNode(
                          _toDisplayString($setup.df.format($setup.modelValue.start.toDate($setup.getLocalTimeZone()))),
                          1
                          /* TEXT */
                        )
                      ],
                      64
                      /* STABLE_FRAGMENT */
                    )))
                  ],
                  64
                  /* STABLE_FRAGMENT */
                ))) : (_openBlock(), _tracer(18,12,_createElementBlock(
                  _Fragment,
                  { key: 1 },
                  [
                    _createTextVNode(" Pick a date ")
                  ],
                  64
                  /* STABLE_FRAGMENT */
                )))
              ]),
              _: 1
              /* STABLE */
            }))
          ]),
          _: 1
          /* STABLE */
        }))
      ])),
      _tracer(28,6,_createElementVNode("div", _hoisted_4, [
        _tracer(29,8,_createVNode(_component_UButton, {
          color: "primary",
          icon: "i-lucide-play",
          onClick: $setup.onGenerateSettlement
        }, {
          default: _withCtx(() => _cache[2] || (_cache[2] = [
            _createTextVNode(" Generate Settlement ")
          ])),
          _: 1,
          __: [2]
        })),
        _tracer(32,8,_createVNode(_component_UDropdownMenu, {
          items: $setup.exportItems,
          content: { align: "end" }
        }, {
          default: _withCtx(() => [
            _tracer(33,10,_createVNode(_component_UButton, {
              icon: "i-lucide-download",
              "trailing-icon": "i-lucide-chevron-down"
            }, {
              default: _withCtx(() => _cache[3] || (_cache[3] = [
                _createTextVNode("Export")
              ])),
              _: 1,
              __: [3]
            }))
          ]),
          _: 1
          /* STABLE */
        }))
      ]))
    ])),
    _createCommentVNode(" Table "),
    _tracer(39,4,_createVNode(_component_UTable, {
      ref: "table",
      data: $setup.filteredData,
      columns: $setup.columns,
      sticky: "",
      class: "flex-1 overflow-auto"
    }, null, 8, ["data"])),
    _createCommentVNode(" Table Footer "),
    _tracer(42,4,_createElementVNode(
      "div",
      _hoisted_5,
      _toDisplayString($setup.table?.tableApi?.getFilteredSelectedRowModel().rows.length || 0) + " of " + _toDisplayString($setup.table?.tableApi?.getFilteredRowModel().rows.length || 0) + " row(s) selected. ",
      1
      /* TEXT */
    ))
  ]));
}
_sfc_main.__hmrId = "ce2af295";
typeof __VUE_HMR_RUNTIME__ !== "undefined" && __VUE_HMR_RUNTIME__.createRecord(_sfc_main.__hmrId, _sfc_main);
import.meta.hot.on("file-changed", ({ file }) => {
  __VUE_HMR_RUNTIME__.CHANGED_FILE = file;
});
import.meta.hot.accept((mod) => {
  if (!mod) return;
  const { default: updated, _rerender_only } = mod;
  if (_rerender_only) {
    __VUE_HMR_RUNTIME__.rerender(updated.__hmrId, updated.render);
  } else {
    __VUE_HMR_RUNTIME__.reload(updated.__hmrId, updated);
  }
});
import _export_sfc from "/_nuxt/@id/__x00__plugin-vue:export-helper";
export default /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__file", "D:/Bill24/b24managementportal/app/pages/settlement/wallet-settlement.vue"]]);

function _tracer(line, column, vnode) { return _tracerRecordPosition("app/pages/settlement/wallet-settlement.vue", line, column, vnode) }

//# sourceMappingURL=data:application/json;base64,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RDtBQUFBO0FBQUE7QUFBQSIsIm5hbWVzIjpbInRhYmxlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIndhbGxldC1zZXR0bGVtZW50LnZ1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8dGVtcGxhdGU+XHJcbiAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaC1mdWxsIHctZnVsbCBzcGFjZS15LTQgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICA8IS0tIEhlYWRlciAtLT5cclxuICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHB4LTQgcHktNCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktOTAwIHJvdW5kZWQgc2hhZG93XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cclxuICAgICAgICA8VUlucHV0IHYtbW9kZWw9XCJzZWFyY2hcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBzZXR0bGVyLi4uXCIgY2xhc3M9XCJ3LTY0XCIgLz5cclxuICAgICAgICA8VVBvcG92ZXI+XHJcbiAgICAgICAgICA8VUJ1dHRvbiBjb2xvcj1cIm5ldXRyYWxcIiB2YXJpYW50PVwic3VidGxlXCIgaWNvbj1cImktbHVjaWRlLWNhbGVuZGFyXCI+XHJcbiAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwibW9kZWxWYWx1ZS5zdGFydFwiPlxyXG4gICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwibW9kZWxWYWx1ZS5lbmRcIj5cclxuICAgICAgICAgICAgICAgIHt7IGRmLmZvcm1hdChtb2RlbFZhbHVlLnN0YXJ0LnRvRGF0ZShnZXRMb2NhbFRpbWVab25lKCkpKSB9fSAtXHJcbiAgICAgICAgICAgICAgICB7eyBkZi5mb3JtYXQobW9kZWxWYWx1ZS5lbmQudG9EYXRlKGdldExvY2FsVGltZVpvbmUoKSkpIH19XHJcbiAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1lbHNlPlxyXG4gICAgICAgICAgICAgICAge3sgZGYuZm9ybWF0KG1vZGVsVmFsdWUuc3RhcnQudG9EYXRlKGdldExvY2FsVGltZVpvbmUoKSkpIH19XHJcbiAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZT5cclxuICAgICAgICAgICAgICBQaWNrIGEgZGF0ZVxyXG4gICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgPC9VQnV0dG9uPlxyXG5cclxuICAgICAgICAgIDx0ZW1wbGF0ZSAjY29udGVudD5cclxuICAgICAgICAgICAgPFVDYWxlbmRhciB2LW1vZGVsPVwibW9kZWxWYWx1ZVwiIGNsYXNzPVwicC0yXCIgOm51bWJlci1vZi1tb250aHM9XCIyXCIgcmFuZ2UgLz5cclxuICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgPC9VUG9wb3Zlcj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgIDxVQnV0dG9uIGNvbG9yPVwicHJpbWFyeVwiIGljb249XCJpLWx1Y2lkZS1wbGF5XCIgQGNsaWNrPVwib25HZW5lcmF0ZVNldHRsZW1lbnRcIj5cclxuICAgICAgICAgIEdlbmVyYXRlIFNldHRsZW1lbnRcclxuICAgICAgICA8L1VCdXR0b24+XHJcbiAgICAgICAgPFVEcm9wZG93bk1lbnUgOml0ZW1zPVwiZXhwb3J0SXRlbXNcIiA6Y29udGVudD1cInsgYWxpZ246ICdlbmQnIH1cIj5cclxuICAgICAgICAgIDxVQnV0dG9uIGljb249XCJpLWx1Y2lkZS1kb3dubG9hZFwiIHRyYWlsaW5nLWljb249XCJpLWx1Y2lkZS1jaGV2cm9uLWRvd25cIj5FeHBvcnQ8L1VCdXR0b24+XHJcbiAgICAgICAgPC9VRHJvcGRvd25NZW51PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS0gVGFibGUgLS0+XHJcbiAgICA8VVRhYmxlIHJlZj1cInRhYmxlXCIgOmRhdGE9XCJmaWx0ZXJlZERhdGFcIiA6Y29sdW1ucz1cImNvbHVtbnNcIiBzdGlja3kgY2xhc3M9XCJmbGV4LTEgb3ZlcmZsb3ctYXV0b1wiIC8+XHJcblxyXG4gICAgPCEtLSBUYWJsZSBGb290ZXIgLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHgtNCBweS0zLjUgdGV4dC1zbSB0ZXh0LW11dGVkXCI+XHJcbiAgICAgIHt7IHRhYmxlPy50YWJsZUFwaT8uZ2V0RmlsdGVyZWRTZWxlY3RlZFJvd01vZGVsKCkucm93cy5sZW5ndGggfHwgMCB9fSBvZlxyXG4gICAgICB7eyB0YWJsZT8udGFibGVBcGk/LmdldEZpbHRlcmVkUm93TW9kZWwoKS5yb3dzLmxlbmd0aCB8fCAwIH19IHJvdyhzKSBzZWxlY3RlZC5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cclxuaW1wb3J0IHsgaCwgcmVmLCBjb21wdXRlZCwgb25Nb3VudGVkLCBzaGFsbG93UmVmLCB3YXRjaCwgcmVzb2x2ZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IHsgdXNlQ2xpcGJvYXJkIH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJ1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJ1xyXG5pbXBvcnQgdHlwZSB7IFRhYmxlQ29sdW1uIH0gZnJvbSAnQG51eHQvdWknXHJcbmltcG9ydCB7IENhbGVuZGFyRGF0ZSwgRGF0ZUZvcm1hdHRlciwgZ2V0TG9jYWxUaW1lWm9uZSB9IGZyb20gJ0BpbnRlcm5hdGlvbmFsaXplZC9kYXRlJ1xyXG5pbXBvcnQgeyB1c2VTdXBwbGllckFwaSB9IGZyb20gJ34vY29tcG9zYWJsZXMvYXBpL3VzZVN1cHBsaWVyQXBpJ1xyXG4vLyBVc2UgU3VwcGxpZXIgdHlwZSBmcm9tIG1vZGVscy9zZXR0bGVtZW50IGZvciB0eXBlIGNvbXBhdGliaWxpdHlcclxuaW1wb3J0IHR5cGUgeyBTZXR0bGVtZW50SGlzdG9yeVF1ZXJ5LCBTdXBwbGllciB9IGZyb20gJ34vbW9kZWxzL3NldHRsZW1lbnQnXHJcblxyXG5jb25zdCB7IGdldFN1cHBsaWVycywgZ2V0Q1BPc0J5U3VwcGxpZXJzIH0gPSB1c2VTdXBwbGllckFwaSgpXHJcbi8vIGNvbnN0IHsgZGF0YTogYXBpRGF0YSwgZXJyb3IsIHBlbmRpbmcgfSA9IGdldFNldHRsZW1lbnRIaXN0b3J5KClcclxuY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcclxuY29uc3QgeyBjb3B5IH0gPSB1c2VDbGlwYm9hcmQoKVxyXG5jb25zdCB0b2FzdCA9IHVzZVRvYXN0KClcclxuXHJcbmNvbnN0IHRhYmxlID0gdXNlVGVtcGxhdGVSZWYoJ3RhYmxlJylcclxuY29uc3Qgc2VhcmNoID0gcmVmKCcnKVxyXG5jb25zdCBzdGFydERhdGUgPSByZWYoJycpXHJcbmNvbnN0IGVuZERhdGUgPSByZWYoJycpXHJcbmNvbnN0IHN1cHBsaWVycyA9IHJlZjxTdXBwbGllcltdPihbXSlcclxuY29uc3QgZXJyb3JNc2cgPSByZWYoJycpXHJcbmNvbnN0IGxvYWRpbmcgPSByZWYoZmFsc2UpXHJcbmNvbnN0IGZldGNoRGF0YSA9IGFzeW5jICgpID0+IHtcclxuICBsb2FkaW5nLnZhbHVlID0gdHJ1ZVxyXG4gIGNvbnN0IHN1cHBsaWVyc1JlcyA9IGF3YWl0IGdldFN1cHBsaWVycygpXHJcbiAgbG9hZGluZy52YWx1ZSA9IGZhbHNlXHJcbn1cclxuXHJcblxyXG5vbk1vdW50ZWQoZmV0Y2hEYXRhKVxyXG5cclxudHlwZSBTZXR0bGVtZW50ID0ge1xyXG4gIGlkOiBzdHJpbmdcclxuICBkYXRlOiBzdHJpbmdcclxuICB0b3RhbFN1cHBsaWVyOiBudW1iZXJcclxuICB0b3RhbEFtb3VudDogbnVtYmVyXHJcbiAgc2V0dGxlZEJ5OiBzdHJpbmdcclxuICBzdGF0dXM6ICdwYWlkJyB8ICdmYWlsZWQnIHwgJ3JlZnVuZGVkJ1xyXG59XHJcblxyXG4vLyBjb25zdCBkYXRhID0gcmVmPFNldHRsZW1lbnRbXT4oW1xyXG4vLyAgIHsgaWQ6ICdTMDAxJywgZGF0ZTogJzIwMjQtMDYtMDEnLCB0b3RhbFN1cHBsaWVyOiAzLCB0b3RhbEFtb3VudDogMTUwMCwgc2V0dGxlZEJ5OiAnQWxpY2UnLCBzdGF0dXM6ICdwYWlkJyB9LFxyXG4vLyAgIHsgaWQ6ICdTMDAyJywgZGF0ZTogJzIwMjQtMDYtMDUnLCB0b3RhbFN1cHBsaWVyOiAyLCB0b3RhbEFtb3VudDogOTAwLCBzZXR0bGVkQnk6ICdCb2InLCBzdGF0dXM6ICdmYWlsZWQnIH0sXHJcbi8vICAgeyBpZDogJ1MwMDMnLCBkYXRlOiAnMjAyNC0wNi0xMCcsIHRvdGFsU3VwcGxpZXI6IDUsIHRvdGFsQW1vdW50OiAzMjAwLCBzZXR0bGVkQnk6ICdEYXZpZCcsIHN0YXR1czogJ3JlZnVuZGVkJyB9LFxyXG4vLyAgIHsgaWQ6ICdTMDA0JywgZGF0ZTogJzIwMjQtMDYtMTUnLCB0b3RhbFN1cHBsaWVyOiA0LCB0b3RhbEFtb3VudDogMjEwMCwgc2V0dGxlZEJ5OiAnRW1tYScsIHN0YXR1czogJ3BhaWQnIH1cclxuLy8gXSlcclxuXHJcbi8vIENhbGVuZGFyIHJhbmdlXHJcbmNvbnN0IGRmID0gbmV3IERhdGVGb3JtYXR0ZXIoJ2VuLVVTJywgeyBkYXRlU3R5bGU6ICdtZWRpdW0nIH0pXHJcbmNvbnN0IG1vZGVsVmFsdWUgPSBzaGFsbG93UmVmKHtcclxuICBzdGFydDogbmV3IENhbGVuZGFyRGF0ZSgyMDI0LCA2LCAxKSxcclxuICBlbmQ6IG5ldyBDYWxlbmRhckRhdGUoMjAyNCwgNiwgMzApXHJcbn0pXHJcblxyXG4vLyBTeW5jIGNhbGVuZGFyIHRvIHN0YXJ0RGF0ZS9lbmREYXRlIGZvciBmaWx0ZXJpbmdcclxud2F0Y2gobW9kZWxWYWx1ZSwgKHZhbCkgPT4ge1xyXG4gIHN0YXJ0RGF0ZS52YWx1ZSA9IHZhbC5zdGFydD8udG9EYXRlKGdldExvY2FsVGltZVpvbmUoKSkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkgfHwgJydcclxuICBlbmREYXRlLnZhbHVlID0gdmFsLmVuZD8udG9EYXRlKGdldExvY2FsVGltZVpvbmUoKSkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkgfHwgJydcclxufSlcclxuXHJcbi8vIEZldGNoIHNldHRsZW1lbnQgZGF0YSBmcm9tIEFQSVxyXG5jb25zdCBmZXRjaFNldHRsZW1lbnRIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xyXG4gIGxvYWRpbmcudmFsdWUgPSB0cnVlXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBheWxvYWQ6IFNldHRsZW1lbnRIaXN0b3J5UXVlcnkgPSB7XHJcbiAgICAgIHBhZ2U6IDEsXHJcbiAgICAgIGxpbWl0OiAxMDAsXHJcbiAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLnZhbHVlIHx8IHVuZGVmaW5lZCxcclxuICAgICAgZW5kRGF0ZTogZW5kRGF0ZS52YWx1ZSB8fCB1bmRlZmluZWQsXHJcbiAgICAgIC8vIHN0YXR1czogJ3BhaWQnLCAvLyBPcHRpb25hbCBmaWx0ZXIgaWYgbmVlZGVkXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzcCA9IGF3YWl0IGdldFNldHRsZW1lbnRIaXN0b3J5KHBheWxvYWQpXHJcbiAgICBkYS52YWx1ZSA9IHJlc3A/LnJlY29yZHMgPz8gW11cclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNldHRsZW1lbnQgaGlzdG9yeTonLCBlcnJvci5tZXNzYWdlKVxyXG4gICAgZXJyb3JNc2cudmFsdWUgPSBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBzZXR0bGVtZW50IGhpc3RvcnkuJ1xyXG4gIH0gZmluYWxseSB7XHJcbiAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGZpbHRlcmVkRGF0YSA9IGNvbXB1dGVkKCgpID0+XHJcbiAgZGF0YS52YWx1ZS5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICBjb25zdCBtYXRjaFNlYXJjaCA9IGl0ZW0uc2V0dGxlZEJ5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoLnZhbHVlLnRvTG93ZXJDYXNlKCkpXHJcbiAgICBjb25zdCBtYXRjaFN0YXJ0ID0gIXN0YXJ0RGF0ZS52YWx1ZSB8fCBpdGVtLmRhdGUgPj0gc3RhcnREYXRlLnZhbHVlXHJcbiAgICBjb25zdCBtYXRjaEVuZCA9ICFlbmREYXRlLnZhbHVlIHx8IGl0ZW0uZGF0ZSA8PSBlbmREYXRlLnZhbHVlXHJcbiAgICByZXR1cm4gbWF0Y2hTZWFyY2ggJiYgbWF0Y2hTdGFydCAmJiBtYXRjaEVuZFxyXG4gIH0pXHJcbilcclxuXHJcbmNvbnN0IG9uR2VuZXJhdGVTZXR0bGVtZW50ID0gKCkgPT4ge1xyXG4gIHJvdXRlci5wdXNoKCcvc2V0dGxlbWVudC9nZW5lcmF0ZXJlcG9ydCcpXHJcbn1cclxuXHJcbmNvbnN0IGV4cG9ydEl0ZW1zID0gW1xyXG4gIHsgbGFiZWw6ICdQREYnLCBpY29uOiAnaS1sdWNpZGUtZmlsZS10ZXh0JywgY2xpY2s6ICgpID0+IHRvYXN0LmFkZCh7IHRpdGxlOiAnRXhwb3J0ZWQgYXMgUERGJyB9KSB9LFxyXG4gIHsgbGFiZWw6ICdFeGNlbCcsIGljb246ICdpLWx1Y2lkZS1maWxlLXNwcmVhZHNoZWV0JywgY2xpY2s6ICgpID0+IHRvYXN0LmFkZCh7IHRpdGxlOiAnRXhwb3J0ZWQgYXMgRXhjZWwnIH0pIH0sXHJcbiAgeyBsYWJlbDogJ0NTVicsIGljb246ICdpLWx1Y2lkZS1maWxlLWNzdicsIGNsaWNrOiAoKSA9PiB0b2FzdC5hZGQoeyB0aXRsZTogJ0V4cG9ydGVkIGFzIENTVicgfSkgfVxyXG5dXHJcblxyXG5jb25zdCBjb2x1bW5zOiBUYWJsZUNvbHVtbjxTZXR0bGVtZW50PltdID0gW1xyXG4gIHtcclxuICAgIGlkOiAnc2VsZWN0JyxcclxuICAgIGhlYWRlcjogKHsgdGFibGUgfSkgPT5cclxuICAgICAgaChyZXNvbHZlQ29tcG9uZW50KCdVQ2hlY2tib3gnKSwge1xyXG4gICAgICAgICdtb2RlbFZhbHVlJzogdGFibGUuZ2V0SXNTb21lUGFnZVJvd3NTZWxlY3RlZCgpXHJcbiAgICAgICAgICA/ICdpbmRldGVybWluYXRlJ1xyXG4gICAgICAgICAgOiB0YWJsZS5nZXRJc0FsbFBhZ2VSb3dzU2VsZWN0ZWQoKSxcclxuICAgICAgICAnb25VcGRhdGU6bW9kZWxWYWx1ZSc6ICh2YWx1ZTogYm9vbGVhbiB8ICdpbmRldGVybWluYXRlJykgPT5cclxuICAgICAgICAgIHRhYmxlLnRvZ2dsZUFsbFBhZ2VSb3dzU2VsZWN0ZWQoISF2YWx1ZSksXHJcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiAnU2VsZWN0IGFsbCdcclxuICAgICAgfSksXHJcbiAgICBjZWxsOiAoeyByb3cgfSkgPT5cclxuICAgICAgaChyZXNvbHZlQ29tcG9uZW50KCdVQ2hlY2tib3gnKSwge1xyXG4gICAgICAgICdtb2RlbFZhbHVlJzogcm93LmdldElzU2VsZWN0ZWQoKSxcclxuICAgICAgICAnb25VcGRhdGU6bW9kZWxWYWx1ZSc6ICh2YWx1ZTogYm9vbGVhbiB8ICdpbmRldGVybWluYXRlJykgPT5cclxuICAgICAgICAgIHJvdy50b2dnbGVTZWxlY3RlZCghIXZhbHVlKSxcclxuICAgICAgICAnYXJpYS1sYWJlbCc6ICdTZWxlY3Qgcm93J1xyXG4gICAgICB9KSxcclxuICAgIGVuYWJsZVNvcnRpbmc6IGZhbHNlLFxyXG4gICAgZW5hYmxlSGlkaW5nOiBmYWxzZVxyXG4gIH0sXHJcbiAgeyBhY2Nlc3NvcktleTogJ2lkJywgaGVhZGVyOiAnU2V0dGxlbWVudCBJRCcsIGNlbGw6ICh7IHJvdyB9KSA9PiByb3cuZ2V0VmFsdWUoJ2lkJykgfSxcclxuICB7XHJcbiAgICBhY2Nlc3NvcktleTogJ2RhdGUnLFxyXG4gICAgaGVhZGVyOiAnU2V0dGxlbWVudCBEYXRlJyxcclxuICAgIGNlbGw6ICh7IHJvdyB9KSA9PiBuZXcgRGF0ZShyb3cuZ2V0VmFsdWUoJ2RhdGUnKSkudG9Mb2NhbGVEYXRlU3RyaW5nKClcclxuICB9LFxyXG4gIHsgYWNjZXNzb3JLZXk6ICd0b3RhbFN1cHBsaWVyJywgaGVhZGVyOiAnVG90YWwgU3VwcGxpZXInIH0sXHJcbiAge1xyXG4gICAgYWNjZXNzb3JLZXk6ICd0b3RhbEFtb3VudCcsXHJcbiAgICBoZWFkZXI6ICdUb3RhbCBBbW91bnQnLFxyXG4gICAgY2VsbDogKHsgcm93IH0pID0+IGgoJ2RpdicsIHsgY2xhc3M6ICd0ZXh0LXJpZ2h0IGZvbnQtbWVkaXVtJyB9LCBgJCR7cm93LmdldFZhbHVlKCd0b3RhbEFtb3VudCcpfWApXHJcbiAgfSxcclxuICB7IGFjY2Vzc29yS2V5OiAnc2V0dGxlZEJ5JywgaGVhZGVyOiAnU2V0dGxlZCBCeScgfSxcclxuICB7XHJcbiAgICBhY2Nlc3NvcktleTogJ3N0YXR1cycsXHJcbiAgICBoZWFkZXI6ICdTdGF0dXMnLFxyXG4gICAgY2VsbDogKHsgcm93IH0pID0+IHtcclxuICAgICAgY29uc3QgY29sb3IgPSB7XHJcbiAgICAgICAgcGFpZDogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgIGZhaWxlZDogJ2Vycm9yJyxcclxuICAgICAgICByZWZ1bmRlZDogJ3dhcm5pbmcnXHJcbiAgICAgIH1bcm93LmdldFZhbHVlKCdzdGF0dXMnKSBhcyBzdHJpbmddXHJcblxyXG4gICAgICByZXR1cm4gaChyZXNvbHZlQ29tcG9uZW50KCdVQmFkZ2UnKSwge1xyXG4gICAgICAgIGNvbG9yLFxyXG4gICAgICAgIHZhcmlhbnQ6ICdzdWJ0bGUnLFxyXG4gICAgICAgIGNsYXNzOiAnY2FwaXRhbGl6ZSdcclxuICAgICAgfSwgKCkgPT4gcm93LmdldFZhbHVlKCdzdGF0dXMnKSlcclxuICAgIH1cclxuICB9XHJcbl1cclxuPC9zY3JpcHQ+XHJcbiJdLCJmaWxlIjoiRDovQmlsbDI0L2IyNG1hbmFnZW1lbnRwb3J0YWwvYXBwL3BhZ2VzL3NldHRsZW1lbnQvd2FsbGV0LXNldHRsZW1lbnQudnVlIn0=